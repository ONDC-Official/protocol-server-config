BAP:
  flows:
    - summary: Metro Flow
      id: metro-flow-2
      domain: ONDC:TRV11
      shouldDispaly: false
      sessionData:
        version: 2.0.0
        collectedBy: BAP
        bankAccountNumber: '123456789'
        virtualPaymentAddress: adasd@okiciic
        bankCode: fj3jf9ij3f02
        vehicleCategaory: Metro
        paymentTagsSearch:
          BUYER_FINDER_FEES:
            BUYER_FINDER_FEES_TYPE: percent-annualized
            BUYER_FINDER_FEES_PERCENTAGE: '1'
          SETTLEMENT_TERMS:
            DELAY_INTEREST: 2.5
            STATIC_TERMS: ''
            OFFLINE_CONTRACT: 'true'
      protocol:
        search:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: context.bpp_id
              value: data.bpp_id && data.bpp_id
            - beckn_key: context.bpp_uri
              value: data.bpp_uri && data.bpp_uri
            - beckn_key: message.intent.fulfillment.vehicle.category
              value: session.vehicleCategaory
            - beckn_key: message.intent.payment.tags
              value: data.paymentTagsSearch
              compute: buildTags(data.paymentTagsSearch)
            - beckn_key: message.intent.fulfillment.stops[0].type
              value: session.bap_id
            - beckn_key: message.intent.fulfillment.stops[0].location.descriptor.code
              value: session.StationCode1IsRequired
              check: sessio?.StationCode1IsRequired
        select:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: data.itemId
            - beckn_key: message.order.items[0].quantity.selected.count
              value: parseInt(data.quantity)
            - beckn_key: message.order.provider.id
              value: data.providerId
        init:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: session.itemId
            - beckn_key: message.order.items[0].quantity.selected.count
              value: session.quantitySelected
            - beckn_key: message.order.provider.id
              value: session.providerId
            - beckn_key: message.order.billing.name
              value: data.name
            - beckn_key: message.order.billing.email
              value: data.email
            - beckn_key: message.order.billing.phone
              value: data.phone
            - beckn_key: message.order.payments[0].collected_by
              value: session.collectedBy
            - beckn_key: message.order.payments[0].status
              value: data.paymentStatus
            - beckn_key: message.order.payments[0].type
              value: data.paymentType
            - beckn_key: message.order.payments[0].params.bank_code
              value: session.bankCode
            - beckn_key: message.order.payments[0].params.bank_account_number
              value: session.bankAccountNumber
            - beckn_key: message.order.payments[0].params.virtual_payment_address
              value: session.virtualPaymentAddress
            - beckn_key: message.order.payments[0].tags
              value: data.paymentTagsInit
              compute: buildTags(data.paymentTagsInit)
        confirm:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items[0].id
              value: session.itemId
            - beckn_key: message.order.items[0].quantity.selected.count
              value: session.quantitySelected
            - beckn_key: message.order.provider.id
              value: session.providerId
            - beckn_key: message.order.billing.name
              value: session.name
            - beckn_key: message.order.billing.email
              value: session.email
            - beckn_key: message.order.billing.phone
              value: session.phone
            - beckn_key: message.order.payments[0].id
              value: data.paymentId
            - beckn_key: message.order.payments[0].collected_by
              value: session.collectedBy
            - beckn_key: message.order.payments[0].status
              value: data.paymentStatusConfirm
            - beckn_key: message.order.payments[0].type
              value: data.paymentTypeConfirm
            - beckn_key: message.order.payments[0].params.transaction_id
              value: data.paymentTranscationId
            - beckn_key: message.order.payments[0].params.currency
              value: data.currency
            - beckn_key: message.order.payments[0].params.amount
              value: data.amount
            - beckn_key: message.order.payments[0].tags
              value: data.paymentTagsConfirm
              compute: buildTags(data.paymentTagsConfirm)
        status:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: messageId
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order_id
              value: data.orderId
        on_search:
          mapping:
            - business_key: name
              extractionPath: message.catalog.descriptor.name
            - business_key: bpp_id
              extractionPath: context.bpp_id
            - business_key: bpp_uri
              extractionPath: context.bpp_uri
            - business_key: location
              extractionPath: >-
                message.catalog.providers[].fulfillments[].stops[]{locationName:
                location.descriptor.code}
            - business_key: items
              extractionPath: >-
                message.catalog.providers[]{providerId: id}.items[]{id: id,
                name: descriptor.name}
            - business_key: error
              extractionPath: error
        on_select:
          mapping:
            - business_key: breakup
              extractionPath: >-
                message.order.quote.breakup[]{type: title, totalPrice:
                price.value, UOP: price.currency}
            - business_key: error
              extractionPath: error
        on_init:
          sessionData:
            - business_key: paymentID
              extractionPath: 'message.order.payments[]{id: id}'
            - business_key: totalPrice
              extractionPath: message.order.quote.price
          mapping:
            - business_key: paymentDetails
              extractionPath: 'message.order.payments[]{id: id, type: type, status: status}'
            - business_key: totalPrice
              extractionPath: message.order.quote.price
            - business_key: error
              extractionPath: error
        on_confirm:
          mapping:
            - business_key: orderId
              extractionPath: message.order.id
            - business_key: status
              extractionPath: message.order.status
            - business_key: QR code
              extractionPath: >-
                message.order.fulfillments[]{providerId: id}.stops[?(type ===
                "START")]{token: authorization.token, status:
                authorization.status}
            - business_key: error
              extractionPath: error
        on_status:
          mapping:
            - business_key: status
              extractionPath: message.order.status
            - business_key: error
              extractionPath: error
      calls:
        - config: search
          mode: ASYNC
          callback:
            config: on_search
            endpoint: mapper/ondc
            unsolicitedEndpoint: mapper/unsolicited
        - config: select
          mode: ASYNC
          callback:
            config: on_select
            endpoint: mapper/ondc
            mode: SYNC
            unsolicitedEndpoint: mapper/unsolicited
        - config: init
          mode: SYNC
          callback:
            config: on_init
            endpoint: mapper/ondc
            unsolicitedEndpoint: mapper/unsolicited
        - config: confirm
          mode: ASYNC
          callback:
            config: on_confirm
            endpoint: mapper/ondc
            unsolicitedEndpoint: mapper/unsolicited
        - config: status
          mode: ASYNC
          callback:
            config: on_status
            endpoint: mapper/ondc
            unsolicitedEndpoint: mapper/unsolicited
        - config: update
          mode: ASYNC
          callback:
            config: on_update
            endpoint: mapper/ondc
            mode: SYNC
            unsolicitedEndpoint: mapper/unsolicited
BPP:
  flows:
    - summary: Personal loan -  Flow
      id: personal-loan-flow-1
      domain: ONDC:FIS12
      sessionData:
        bpp_uri: https://fis-staging.ondc.org/ondc-seller/
        bpp_id: fis-staging.ondc.org/ondc-seller
        collectedBy: BPP
        loan_provider_id: PROVIDER_ID
        loan_provider:
          images:
            - url: >-
                https://www.icicibank.com/content/dam/icicibank/india/assets/images/header/logo.png
              size_type: sm
          name: ICICI Bank
          short_desc: ICICI Bank Ltd
          long_desc: ICICI Bank Ltd, India.
        loan_type:
          code: PERSONAL_LOAN
          name: Personal Loan
        quote_ttl: PT15D
        cancellation_terms:
          - fulfillment_state:
              descriptor:
                code: SANCTIONED
            cancellation_fee:
              percentage: 3%
          - external_ref:
              mimetype: text/html
              url: https://bpp.credit.becknprotocol.org/tnc.html
          - fulfillment_state:
              descriptor:
                code: DISBURSED
            cancellation_fee:
              percentage: 5%
        bankAccountNumber: xxxxxxxxxxxxxx
        virtualPaymentAddress: 9988199772@okicic
        bankCode: XXXXXXXX
        metro_id: '1'
        categories:
          - descriptor:
              name: Ticket
              code: TICKET
            id: C1
          - descriptor:
              name: Pass
              code: PASS
            id: C2
        metro_starttime: '2023-09-14T05:30:00.000Z'
        metro_endtime: '2023-09-14T23:30:00.000Z'
        metro_images:
          - url: https://delhimetrorail.com/logos/logo.ico
        metro_name: Delhi Metro Rail Limited
        currency: INR
        payment_tags:
          BUYER_FINDER_FEES:
            display: false
            BUYER_FINDER_FEES_TYPE: percent-annualized
            BUYER_FINDER_FEES_PERCENTAGE: '1'
          SETTLEMENT_TERMS:
            display: false
            SETTLEMENT_WINDOW: PT30D
            SETTLEMENT_BASIS: INVOICE_RECEIPT
            MANDATORY_ARBITRATION: 'TRUE'
            COURT_JURISDICTION: New Delhi
            STATIC_TERMS: >-
              https://bpp.credit.becknprotocol.org/personal-banking/loans/personal-loan
            OFFLINE_CONTRACT: 'TRUE'
        tags:
          CONTACT_INFO:
            display: false
            GRO_NAME: ICICI
            GRO_EMAIL: lifeline@iciciprulife.com
            GRO_CONTACT_NUMBER: 1860 266 7766
            GRO_DESIGNATION: Nodal Grievance Redressal Officer
            GRO_ADDRESS: >-
              One Indiabulls centre, Tower 1, 18th Floor Jupiter mill compound
              841, Senapati Bapat Marg, Elphinstone Road, Mumbai 400013
            CUSTOMER_SUPPORT_LINK: >-
              https://buy.iciciprulife.com/buy/GrievanceRedStep.htm?execution=e1s1
            CUSTOMER_SUPPORT_CONTACT_NUMBER: 1800 1080
            CUSTOMER_SUPPORT_EMAIL: customer.care@icicibank.com
          LSP_INFO:
            LSP_NAME: ICICI_LSP
            LSP_EMAIL: lsp@iciciprulife.com
            LSP_CONTACT_NUMBER: 1860 266 7766
            LSP_ADDRESS: >-
              One Indiabulls centre, Tower 1, 18th Floor Jupiter mill compound
              841, Senapati Bapat Marg, Elphinstone Road, Mumbai 400013
        payment_type: PRE-ORDER
      protocol:
        search:
          sessionData:
            - beckn_key: bap_id
              value: data.context.bap_id
            - beckn_key: bap_uri
              value: data.context.bap_uri
            - beckn_key: cityCode
              value: data.context.location.city.code || session.cityCode
            - beckn_key: countryCode
              value: data.context.location.country.code || session.countryCode
          mapping:
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.transaction_id
              value: session.transaction_id
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.action
              value: data.context.action
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.location.country.code
              value: session.countryCode
            - beckn_key: context.ttl
              value: data.context.ttl
            - beckn_key: message.intent.category.descriptor.code
              value: data.message.intent.category.descriptor.code
        on_search:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.catalog.descriptor.name
              value: data.name
            - beckn_key: message.catalog.providers[0].id
              value: data.loan_provider_id            ||  session.loan_provider_id
            - beckn_key: message.catalog.providers[0].descriptor
              value: data.loan_provider        ||  session.loan_provider
            - beckn_key: message.catalog.descriptor.name
              value: data.name          ||  session.loan_provider.name
            - beckn_key: message.catalog.providers[0].categories[0].id
              value: data.category_id
            - beckn_key: message.catalog.providers[0].categories[0].descriptor
              value: data.loan_type         || session.loan_type
            - beckn_key: message.catalog.providers[0].items
              value: data.loan_offers
            - beckn_key: message.catalog.providers[0].payments[0].tags
              value: data.payments_tags       || session.payment_tags
              compute: buildTags(data.payments_tags || session.payment_tags)
            - beckn_key: message.catalog.providers[0].tags
              value: data.tags                || session.tags
              compute: buildTags(data.tags    || session.tags)
            - beckn_key: message.catalog.providers[0].payments[0].collected_by
              value: data.payment_collectedby || session.collectedBy
            - beckn_key: message
              value: data.error && data.message
            - beckn_key: error
              value: data.error
        select:
          sessionData:
            - beckn_key: itemId
              value: data.message.order.items[0].id
            - beckn_key: message_id
              value: data.context.message_id
            - beckn_key: bap_uri
              value: data.context.bap_uri
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items
              value: data.message.order.items
        on_select:
          sessionData:
            - beckn_key: quote.id
              value: data.amount_id
            - beckn_key: quote.amount
              value: data.final_amount
            - beckn_key: quote.ttl
              value: data.ttl
            - beckn_key: quote.breakup
              value: data.amount_breakup
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.provider.id
              value: data.loan_provider_id            ||  session.loan_provider_id
            - beckn_key: message.order.provider.descriptor
              value: data.loan_provider        ||  session.loan_provider
            - beckn_key: message.order.provider.tags
              value: data.tags                || session.tags
              compute: buildTags(data.tags    || session.tags)
            - beckn_key: message.order.items
              value: data.loan_offers
            - beckn_key: message.order.quote.id
              value: (data.amount_id || session.quote.id)
            - beckn_key: message.order.quote.price.value
              value: (data.final_amount || session.quote.amount)
            - beckn_key: message.order.quote.price.currency
              value: session.currency
            - beckn_key: message.order.quote.breakup
              value: (data.amount_breakup || session.quote.breakup)
            - beckn_key: message.order.quote.ttl
              value: (data.ttl || session.quote.ttl)
            - beckn_key: message
              value: data.error && data.message
            - beckn_key: error
              value: data.error
        init:
          sessionData:
            - beckn_key: bankCode
              value: >-
                data.message.order.payments[0].collected_by === 'BAP' &&
                data.message.order.payments[0].params.bank_code ||
                session.bankCode
            - beckn_key: bankAccountNumber
              value: >-
                data.message.order.payments[0].collected_by === 'BAP' &&
                data.message.order.payments[0].params.bank_account_number ||
                session.bankAccountNumber
            - beckn_key: virtualPaymentAddress
              value: >-
                data.message.order.payments[0].collected_by === 'BAP' &&
                data.message.order.payments[0].params.virtual_payment_address ||
                session.virtualPaymentAddress
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items
              value: data.message.order.items
        on_init:
          sessionData:
            - beckn_key: payment_tags
              value: >-
                ({ ...session.payment_tags, SETTLEMENT_TERMS: {
                ...session.payment_tags.SETTLEMENT_TERMS,
                ...data.SETTLEMENT_TERMS } })
            - beckn_key: customer
              value: data.customer
            - beckn_key: payments
              value: data.payments
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.provider.id
              value: data.loan_provider_id            ||  session.loan_provider_id
            - beckn_key: message.order.provider.descriptor
              value: data.loan_provider        ||  session.loan_provider
            - beckn_key: message.order.provider.tags
              value: data.tags                || session.tags
              compute: buildTags(data.tags    || session.tags)
            - beckn_key: message.order.items
              value: data.loan_offers
            - beckn_key: message.order.items
              value: data.loan_offers
            - beckn_key: message.order.quote.id
              value: (data.amount_id || session.quote.id)
            - beckn_key: message.order.quote.price.value
              value: (data.final_amount || session.quote.amount)
            - beckn_key: message.order.quote.price.currency
              value: session.currency
            - beckn_key: message.order.quote.breakup
              value: (data.amount_breakup || session.quote.breakup)
            - beckn_key: message.order.quote.ttl
              value: (data.ttl || session.quote.ttl)
            - beckn_key: message.order.fulfillments[0].customer.person.name
              value: (data.customer.name || session.customer.name )
            - beckn_key: message.order.fulfillments[0].customer.contact.phone
              value: (data.customer.phone || session.customer.phone)
            - beckn_key: message.order.fulfillments[0].customer.contact.email
              value: (data.customer.email || session.customer.email )
            - beckn_key: message.order.fulfillments[0].state.descriptor.code
              value: >-
                (data.customer.fulfillment_state  ,
                session.customer.fulfillment_state    )
            - beckn_key: message.order.payments
              value: (data.payments     || session.payments)
            - beckn_key: message.order.payments[0].tags
              value: data.payments_tags                || (session.payment_tags)
              compute: buildTags(data.payments_tags    || session.payment_tags)
            - beckn_key: message.order.cancellation_terms
              value: >-
                data.cancellation_terms                ||
                session.cancellation_terms
            - beckn_key: message
              value: data.error && data.message
            - beckn_key: error
              value: data.error
        confirm:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items
              value: data.message.order.items
        on_confirm:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items
              value: data.loan_offers
            - beckn_key: message.order.items
              value: data.loan_offers
            - beckn_key: message.order.quote.id
              value: (data.amount_id || session.quote.id)
            - beckn_key: message.order.quote.price.value
              value: (data.final_amount || session.quote.amount)
            - beckn_key: message.order.quote.price.currency
              value: session.currency
            - beckn_key: message.order.quote.breakup
              value: (data.amount_breakup || session.quote.breakup)
            - beckn_key: message.order.quote.ttl
              value: (data.ttl || session.quote.ttl)
            - beckn_key: message.order.fulfillments[0].customer.person.name
              value: (session.customer.name )
            - beckn_key: message.order.fulfillments[0].customer.contact.phone
              value: (session.customer.phone)
            - beckn_key: message.order.fulfillments[0].customer.contact.email
              value: (session.customer.email )
            - beckn_key: message.order.fulfillments[0].state.descriptor.code
              value: ( session.customer.fulfillment_state    )
            - beckn_key: message.order.payments
              value: (data.payments     || session.payments)
            - beckn_key: message.order.payments[0].tags
              value: data.payments_tags                || (session.payment_tags)
              compute: buildTags(data.payments_tags    || session.payment_tags)
            - beckn_key: message.order.cancellation_terms
              value: >-
                data.cancellation_terms                ||
                session.cancellation_terms
            - beckn_key: message.order.documents
              value: data.loan_documents
            - beckn_key: message.order.id
              value: data.order_id
            - beckn_key: message.order.provider.id
              value: data.loan_provider_id            ||  session.loan_provider_id
            - beckn_key: message.order.provider.descriptor
              value: data.loan_provider        ||  session.loan_provider
            - beckn_key: message.order.provider.tags
              value: data.tags                || session.tags
              compute: buildTags(data.tags    || session.tags)
            - beckn_key: message
              value: data.error && data.message
            - beckn_key: error
              value: data.error
        update:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message
              value: data.message
        on_update:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items
              value: data.loan_offers
            - beckn_key: message.order.items
              value: data.loan_offers
            - beckn_key: message.order.quote.id
              value: (data.amount_id || session.quote.id)
            - beckn_key: message.order.quote.price.value
              value: (data.final_amount || session.quote.amount)
            - beckn_key: message.order.quote.price.currency
              value: session.currency
            - beckn_key: message.order.quote.breakup
              value: (data.amount_breakup || session.quote.breakup)
            - beckn_key: message.order.quote.ttl
              value: (data.ttl || session.quote.ttl)
            - beckn_key: message.order.fulfillments[0].customer.person.name
              value: (session.customer.name )
            - beckn_key: message.order.fulfillments[0].customer.contact.phone
              value: (session.customer.phone)
            - beckn_key: message.order.fulfillments[0].customer.contact.email
              value: (session.customer.email )
            - beckn_key: message.order.fulfillments[0].state.descriptor.code
              value: ( session.customer.fulfillment_state    )
            - beckn_key: message.order.payments
              value: (data.payments     || session.payments)
            - beckn_key: message.order.payments[0].tags
              value: data.payments_tags                || (session.payment_tags)
              compute: buildTags(data.payments_tags    || session.payment_tags)
            - beckn_key: message.order.cancellation_terms
              value: >-
                data.cancellation_terms                ||
                session.cancellation_terms
            - beckn_key: message.order.documents
              value: data.loan_documents
            - beckn_key: message.order.id
              value: data.order_id
            - beckn_key: message.order.provider.id
              value: data.loan_provider_id            ||  session.loan_provider_id
            - beckn_key: message.order.provider.descriptor
              value: data.loan_provider        ||  session.loan_provider
            - beckn_key: message.order.provider.tags
              value: data.tags                || session.tags
              compute: buildTags(data.tags    || session.tags)
            - beckn_key: message
              value: data.error && data.message
            - beckn_key: error
              value: data.error
        status:
          sessionData:
            - beckn_key: context.message_id
              value: session.message_id
            - beckn_key: context.message_id
              value: session.message_id
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: data.context.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order_id
              value: data.message.order_id
        on_status:
          mapping:
            - beckn_key: context.bap_id
              value: session.bap_id
            - beckn_key: context.bap_uri
              value: session.bap_uri
            - beckn_key: context.bpp_id
              value: session.bpp_id
            - beckn_key: context.bpp_uri
              value: session.bpp_uri
            - beckn_key: context.location.country.code
              value: session.country
            - beckn_key: context.location.city.code
              value: session.cityCode
            - beckn_key: context.transaction_id
              value: session.currentTransactionId
            - beckn_key: context.message_id
              value: session.message_id
            - beckn_key: context.timestamp
              value: timestamp
            - beckn_key: context.domain
              value: session.domain
            - beckn_key: context.version
              value: session.version
            - beckn_key: context.ttl
              value: session.ttl
            - beckn_key: context.action
              value: action
            - beckn_key: message.order.items
              value: data.loan_offers
            - beckn_key: message.order.items
              value: data.loan_offers
            - beckn_key: message.order.quote.id
              value: data.amount_id
            - beckn_key: message.order.quote.price.value
              value: data.final_amount
            - beckn_key: message.order.quote.price.currency
              value: session.currency
            - beckn_key: message.order.quote.breakup
              value: data.amount_breakup
            - beckn_key: message.order.quote.ttl
              value: data.ttl
            - beckn_key: message.order.fulfillments[0].customer.person.name
              value: data.customer.name
            - beckn_key: message.order.fulfillments[0].customer.contact.phone
              value: data.customer.phone
            - beckn_key: message.order.fulfillments[0].customer.contact.email
              value: data.customer.email
            - beckn_key: message.order.fulfillments[0].state.descriptor.code
              value: data.customer.fulfillment_state
            - beckn_key: message.order.payments
              value: data.payments
            - beckn_key: message.order.cancellation_terms
              value: >-
                data.cancellation_terms                ||
                session.cancellation_terms
            - beckn_key: message.order.documents
              value: data.loan_documents
            - beckn_key: message.order.id
              value: data.order_id
            - beckn_key: message.order.provider.id
              value: data.loan_provider_id            ||  session.loan_provider_id
            - beckn_key: message.order.provider.descriptor
              value: data.loan_provider        ||  session.loan_provider
            - beckn_key: message.order.provider.tags
              value: data.tags                || session.tags
              compute: buildTags(data.tags    || session.tags)
            - beckn_key: message
              value: data.error && data.message
            - beckn_key: error
              value: data.error
      schema: &ref_366
        search:
          type: object
          properties:
            context:
              allOf:
                - description: >-
                    Every API call in beckn protocol has a context. It provides
                    a high-level overview to the receiver about the nature of
                    the intended transaction. Typically, it is the BAP that sets
                    the transaction context based on the consumer's location and
                    action on their UI. But sometimes, during unsolicited
                    callbacks, the BPP also sets the transaction context but it
                    is usually the same as the context of a previous full-cycle,
                    request-callback interaction between the BAP and the BPP.
                    The context object contains four types of fields.
                    <ol><li>Demographic information about the transaction using
                    fields like `domain`, `country`, and
                    `region`.</li><li>Addressing details like the sending and
                    receiving platform's ID and API
                    URL.</li><li>Interoperability information like the protocol
                    version that implemented by the sender
                    and,</li><li>Transaction details like the method being
                    called at the receiver's endpoint, the transaction_id that
                    represents an end-to-end user session at the BAP, a message
                    ID to pair requests with callbacks, a timestamp to capture
                    sending times, a ttl to specifiy the validity of the
                    request, and a key to encrypt information if
                    necessary.</li></ol> This object must be passed in every
                    interaction between a BAP and a BPP. In HTTP/S
                    implementations, it is not necessary to send the context
                    during the synchronous response. However, in asynchronous
                    protocols, the context must be sent during all interactions,
                  type: object
                  additionalProperties: false
                  properties:
                    domain:
                      description: Domain code that is relevant to this transaction context
                      allOf:
                        - type: string
                          description: >-
                            Standard code representing the domain. The standard
                            is usually published as part of the network policy.
                            Furthermore, the network facilitator should also
                            provide a mechanism to provide the supported domains
                            of a network.
                    location:
                      description: >-
                        The location where the transaction is intended to be
                        fulfilled.
                      allOf:
                        - &ref_17
                          description: The physical location of something
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_18
                              type: string
                            descriptor: &ref_4
                              description: Physical description of something.
                              type: object
                              additionalProperties: false
                              properties:
                                name:
                                  type: string
                                code:
                                  type: string
                                short_desc:
                                  type: string
                                long_desc:
                                  type: string
                                additional_desc:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                                    content_type:
                                      type: string
                                      enum:
                                        - text/plain
                                        - text/html
                                        - application/json
                                media:
                                  type: array
                                  items: &ref_26
                                    description: >-
                                      This object contains a url to a media
                                      file.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      mimetype:
                                        description: >-
                                          indicates the nature and format of the
                                          document, file, or assortment of bytes.
                                          MIME types are defined and standardized
                                          in IETF's RFC 6838
                                        type: string
                                      url:
                                        description: The URL of the file
                                        type: string
                                        format: uri
                                      signature:
                                        description: >-
                                          The digital signature of the file signed
                                          by the sender
                                        type: string
                                      dsa:
                                        description: The signing algorithm used by the sender
                                        type: string
                                images:
                                  type: array
                                  items: &ref_12
                                    description: Describes an image
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      url:
                                        description: >-
                                          URL to the image. This can be a data url
                                          or an remote url
                                        type: string
                                        format: uri
                                      size_type:
                                        description: >-
                                          The size of the image. The network
                                          policy can define the default dimensions
                                          of each type
                                        type: string
                                        enum:
                                          - xs
                                          - sm
                                          - md
                                          - lg
                                          - xl
                                          - custom
                                      width:
                                        description: Width of the image in pixels
                                        type: string
                                      height:
                                        description: Height of the image in pixels
                                        type: string
                            map_url:
                              description: >-
                                The url to the map of the location. This can be
                                a globally recognized map url or the one
                                specified by the network policy.
                              type: string
                              format: uri
                            gps:
                              description: The GPS co-ordinates of this location.
                              allOf:
                                - &ref_0
                                  description: Describes a GPS coordinate
                                  type: string
                                  pattern: >-
                                    ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                            address:
                              description: The address of this location.
                              allOf:
                                - &ref_9
                                  description: Describes a postal address.
                                  type: string
                            city:
                              description: The city this location is, or is located within
                              allOf:
                                - &ref_11
                                  description: Describes a city
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      description: Name of the city
                                      type: string
                                    code:
                                      description: City code
                                      type: string
                            district:
                              description: The state this location is, or is located within
                              type: string
                            state:
                              description: The state this location is, or is located within
                              allOf:
                                - &ref_10
                                  description: >-
                                    A bounded geopolitical region of governance
                                    inside a country.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the state
                                    code:
                                      type: string
                                      description: >-
                                        State code as per country or
                                        international standards
                            country:
                              description: >-
                                The country this location is, or is located
                                within
                              allOf:
                                - description: Describes a country
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the country
                                    code:
                                      type: string
                                      description: >-
                                        Country code as per ISO 3166-1 and ISO
                                        3166-2 format
                            area_code:
                              type: string
                            circle:
                              description: >-
                                Describes a circular region of a specified
                                radius centered at a specified GPS coordinate.
                              type: object
                              additionalProperties: false
                              properties:
                                gps: *ref_0
                                radius: &ref_20
                                  description: Describes a scalar
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - CONSTANT
                                        - VARIABLE
                                    value: &ref_1
                                      description: >-
                                        Describes a numerical value in decimal
                                        form
                                      type: string
                                      pattern: '[+-]?([0-9]*[.])?[0-9]+'
                                    estimated_value: *ref_1
                                    computed_value: *ref_1
                                    range:
                                      type: object
                                      properties:
                                        min: *ref_1
                                        max: *ref_1
                                    unit:
                                      type: string
                            polygon:
                              description: The boundary polygon of this location
                              type: string
                            3dspace:
                              description: >-
                                The three dimensional region describing this
                                location
                              type: string
                            rating:
                              description: The rating of this location
                              allOf:
                                - &ref_5
                                  description: >-
                                    Rating value given to the object. This can
                                    be a single value or can also contain an
                                    inequality operator like gt, gte, lt, lte.
                                    This can also contain an inequality
                                    expression containing logical operators like
                                    && and ||.
                                  type: string
                    action:
                      description: >-
                        The Beckn protocol method being called by the sender and
                        executed at the receiver.
                      type: string
                    version:
                      type: string
                      description: >-
                        Version of transaction protocol being used by the
                        sender.
                    bap_id:
                      description: Subscriber ID of the BAP
                      allOf:
                        - &ref_2
                          description: >-
                            A globally unique identifier of the platform,
                            Typically it is the fully qualified domain name
                            (FQDN) of the platform.
                          type: string
                    bap_uri:
                      description: >-
                        Subscriber URL of the BAP for accepting callbacks from
                        BPPs.
                      allOf:
                        - &ref_3
                          description: >-
                            The callback URL of the Subscriber. This should
                            necessarily contain the same domain name as set in
                            `subscriber_id``.
                          type: string
                          format: uri
                    bpp_id:
                      description: Subscriber ID of the BPP
                      allOf:
                        - *ref_2
                    bpp_uri:
                      description: Subscriber URL of the BPP for accepting calls from BAPs.
                      allOf:
                        - *ref_3
                    transaction_id:
                      description: >-
                        This is a unique value which persists across all API
                        calls from `search` through `confirm`. This is done to
                        indicate an active user session across multiple
                        requests. The BPPs can use this value to push
                        personalized recommendations, and dynamic offerings
                        related to an ongoing transaction despite being unaware
                        of the user active on the BAP.
                      type: string
                      format: uuid
                    message_id:
                      description: >-
                        This is a unique value which persists during a request /
                        callback cycle. Since beckn protocol APIs are
                        asynchronous, BAPs need a common value to match an
                        incoming callback from a BPP to an earlier call. This
                        value can also be used to ignore duplicate messages
                        coming from the BPP. It is recommended to generate a
                        fresh message_id for every new interaction. When sending
                        unsolicited callbacks, BPPs must generate a new
                        message_id.
                      type: string
                      format: uuid
                    timestamp:
                      description: Time of request generation in RFC3339 format
                      type: string
                      format: date-time
                    key:
                      description: The encryption public key of the sender
                      type: string
                    ttl:
                      description: >-
                        The duration in ISO8601 format after timestamp for which
                        this message holds valid
                      type: string
                - properties:
                    action:
                      enum:
                        - search
            message:
              type: object
              properties:
                intent:
                  description: >-
                    The intent to buy or avail a product or a service. The BAP
                    can declare the intent of the consumer containing
                    <ul><li>What they want (A product, service,
                    offer)</li><li>Who they want (A seller, service provider,
                    agent etc)</li><li>Where they want it and where they want it
                    from</li><li>When they want it (start and end time of
                    fulfillment</li><li>How they want to pay for
                    it</li></ul><br>This has properties like
                    descriptor,provider,fulfillment,payment,category,offer,item,tags<br>This
                    is typically used by the BAP to send the purpose of the
                    user's search to the BPP. This will be used by the BPP to
                    find products or services it offers that may match the
                    user's intent.<br>For example, in Mobility, the mobility
                    consumer declares a mobility intent. In this case, the
                    mobility consumer declares information that describes
                    various aspects of their journey like,<ul><li>Where would
                    they like to begin their journey
                    (intent.fulfillment.start.location)</li><li>Where would they
                    like to end their journey
                    (intent.fulfillment.end.location)</li><li>When would they
                    like to begin their journey
                    (intent.fulfillment.start.time)</li><li>When would they like
                    to end their journey
                    (intent.fulfillment.end.time)</li><li>Who is the transport
                    service provider they would like to avail services from
                    (intent.provider)</li><li>Who is traveling (This is not
                    recommended in public networks)
                    (intent.fulfillment.customer)</li><li>What kind of fare
                    product would they like to purchase
                    (intent.item)</li><li>What add-on services would they like
                    to avail</li><li>What offers would they like to apply on
                    their booking (intent.offer)</li><li>What category of
                    services would they like to avail
                    (intent.category)</li><li>What additional luggage are they
                    carrying</li><li>How would they like to pay for their
                    journey (intent.payment)</li></ul><br>For example, in health
                    domain, a consumer declares the intent for a lab booking the
                    describes various aspects of their booking
                    like,<ul><li>Where would they like to get their scan/test
                    done (intent.fulfillment.start.location)</li><li>When would
                    they like to get their scan/test done
                    (intent.fulfillment.start.time)</li><li>When would they like
                    to get the results of their test/scan
                    (intent.fulfillment.end.time)</li><li>Who is the service
                    provider they would like to avail services from
                    (intent.provider)</li><li>Who is getting the test/scan
                    (intent.fulfillment.customer)</li><li>What kind of test/scan
                    would they like to purchase (intent.item)</li><li>What
                    category of services would they like to avail
                    (intent.category)</li><li>How would they like to pay for
                    their journey (intent.payment)</li></ul>
                  type: object
                  additionalProperties: false
                  properties:
                    descriptor:
                      description: >-
                        A raw description of the search intent. Free text search
                        strings, raw audio, etc can be sent in this object.
                      allOf:
                        - *ref_4
                    provider:
                      description: >-
                        The provider from which the customer wants to place to
                        the order from
                      allOf:
                        - description: Describes the catalog of a business.
                          type: object
                          properties:
                            id:
                              type: string
                              description: Id of the provider
                            descriptor: *ref_4
                            category_id:
                              type: string
                              description: >-
                                Category Id of the provider at the BPP-level
                                catalog
                            rating: *ref_5
                            time: &ref_8
                              description: >-
                                Describes time in its various forms. It can be a
                                single point in time; duration; or a structured
                                timetable of operations<br>This has properties
                                like label, time stamp,duration,range, days,
                                schedule
                              type: object
                              additionalProperties: false
                              properties:
                                label:
                                  type: string
                                timestamp:
                                  type: string
                                  format: date-time
                                duration: &ref_6
                                  description: Describes duration as per ISO8601 format
                                  type: string
                                range:
                                  type: object
                                  properties:
                                    start:
                                      type: string
                                      format: date-time
                                    end:
                                      type: string
                                      format: date-time
                                days:
                                  type: string
                                  description: >-
                                    comma separated values representing days of
                                    the week
                                schedule:
                                  description: >-
                                    Describes schedule as a repeating time
                                    period used to describe a regularly
                                    recurring event. At a minimum a schedule
                                    will specify frequency which describes the
                                    interval between occurrences of the event.
                                    Additional information can be provided to
                                    specify the schedule more precisely. This
                                    includes identifying the timestamps(s) of
                                    when the event will take place. Schedules
                                    may also have holidays to exclude a specific
                                    day from the schedule.<br>This has
                                    properties like frequency, holidays, times
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    frequency: *ref_6
                                    holidays:
                                      type: array
                                      items:
                                        type: string
                                        format: date-time
                                    times:
                                      type: array
                                      items:
                                        type: string
                                        format: date-time
                            categories:
                              type: array
                              items: &ref_30
                                description: >-
                                  A label under which a collection of items can
                                  be grouped.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_7
                                    description: ID of the category
                                    type: string
                                  parent_category_id: *ref_7
                                  descriptor: *ref_4
                                  time: *ref_8
                                  ttl:
                                    description: >-
                                      Time to live for an instance of this
                                      schema
                                  tags:
                                    type: array
                                    items: &ref_13
                                      description: >-
                                        A collection of tag objects with group
                                        level attributes. For detailed
                                        documentation on the Tags and Tag Groups
                                        schema go to
                                        https://github.com/beckn/protocol-specifications/discussions/316
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        display:
                                          description: >-
                                            Indicates the display properties of the
                                            tag group. If display is set to false,
                                            then the group will not be displayed. If
                                            it is set to true, it should be
                                            displayed. However, group-level display
                                            properties can be overriden by
                                            individual tag-level display property.
                                            As this schema is purely for catalog
                                            display purposes, it is not recommended
                                            to send this value during search.
                                          type: boolean
                                          default: true
                                        descriptor:
                                          description: >-
                                            Description of the TagGroup, can be used
                                            to store detailed information.
                                          allOf:
                                            - *ref_4
                                        list:
                                          description: >-
                                            An array of Tag objects listed under
                                            this group. This property can be set by
                                            BAPs during search to narrow the
                                            `search` and achieve more relevant
                                            results. When received during
                                            `on_search`, BAPs must render this list
                                            under the heading described by the
                                            `name` property of this schema.
                                          type: array
                                          items:
                                            description: >-
                                              Describes a tag. This is used to contain
                                              extended metadata. This object can be
                                              added as a property to any schema to
                                              describe extended attributes. For BAPs,
                                              tags can be sent during search to
                                              optimize and filter search results. BPPs
                                              can use tags to index their catalog to
                                              allow better search functionality. Tags
                                              are sent by the BPP as part of the
                                              catalog response in the `on_search`
                                              callback. Tags are also meant for
                                              display purposes. Upon receiving a tag,
                                              BAPs are meant to render them as
                                              name-value pairs. This is particularly
                                              useful when rendering tabular
                                              information about a product or service.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              descriptor:
                                                description: >-
                                                  Description of the Tag, can be used to
                                                  store detailed information.
                                                allOf:
                                                  - *ref_4
                                              value:
                                                description: >-
                                                  The value of the tag. This set by the
                                                  BPP and rendered as-is by the BAP.
                                                type: string
                                              display:
                                                description: >-
                                                  This value indicates if the tag is
                                                  intended for display purposes. If set to
                                                  `true`, then this tag must be displayed.
                                                  If it is set to `false`, it should not
                                                  be displayed. This value can override
                                                  the group display value.
                                                type: boolean
                            fulfillments:
                              type: array
                              items: &ref_28
                                description: >-
                                  Describes how a an order will be
                                  rendered/fulfilled to the end-customer
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_22
                                    description: >-
                                      Unique reference ID to the fulfillment of
                                      an order
                                    type: string
                                  type:
                                    description: >-
                                      A code that describes the mode of
                                      fulfillment. This is typically set when
                                      there are multiple ways an order can be
                                      fulfilled. For example, a retail order can
                                      be fulfilled either via store pickup or a
                                      home delivery. Similarly, a medical
                                      consultation can be provided either
                                      in-person or via tele-consultation. The
                                      network policy must publish standard
                                      fulfillment type codes for the different
                                      modes of fulfillment.
                                    type: string
                                  rateable:
                                    description: >-
                                      Whether the fulfillment can be rated or
                                      not
                                    type: boolean
                                  rating:
                                    description: >-
                                      The rating value of the fulfullment
                                      service.
                                    allOf:
                                      - *ref_5
                                  state:
                                    description: >-
                                      The current state of fulfillment. The BPP
                                      must set this value whenever the state of
                                      the order fulfillment changes and fire an
                                      unsolicited `on_status` call.
                                    allOf:
                                      - &ref_25
                                        description: Describes the state of fulfillment
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          descriptor: *ref_4
                                          updated_at:
                                            type: string
                                            format: date-time
                                          updated_by:
                                            type: string
                                            description: ID of entity which changed the state
                                  tracking:
                                    type: boolean
                                    description: >-
                                      Indicates whether the fulfillment allows
                                      tracking
                                    default: false
                                  customer:
                                    description: >-
                                      The person that will ultimately receive
                                      the order
                                    allOf:
                                      - description: >-
                                          Describes a customer buying/availing a
                                          product or a service
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          organization: &ref_16
                                            description: >-
                                              An organization. Usually a recognized
                                              business entity.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              descriptor: *ref_4
                                              address:
                                                description: The postal address of the organization
                                                allOf:
                                                  - *ref_9
                                              state:
                                                description: >-
                                                  The state where the organization's
                                                  address is registered
                                                allOf:
                                                  - *ref_10
                                              city:
                                                description: >-
                                                  The city where the the organization's
                                                  address is registered
                                                allOf:
                                                  - *ref_11
                                              contact: &ref_14
                                                description: >-
                                                  Describes the contact information of an
                                                  entity
                                                type: object
                                                additionalProperties: false
                                                properties:
                                                  phone:
                                                    type: string
                                                  email:
                                                    type: string
                                                  jcard:
                                                    type: object
                                                    description: >-
                                                      A Jcard object as per
                                                      draft-ietf-jcardcal-jcard-03
                                                      specification
                                          person: &ref_15
                                            description: Describes a person as any individual
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                                description: Describes the identity of the person
                                              url:
                                                description: Profile url of the person
                                                type: string
                                                format: uri
                                              name:
                                                description: the name of the person
                                                type: string
                                              image: *ref_12
                                              age:
                                                description: Age of the person
                                                allOf:
                                                  - *ref_6
                                              dob:
                                                description: Date of birth of the person
                                                type: string
                                                format: date
                                              gender:
                                                type: string
                                                description: >-
                                                  Gender of something, typically a Person,
                                                  but possibly also fictional characters,
                                                  animals, etc. While Male and Female may
                                                  be used, text strings are also
                                                  acceptable for people who do not
                                                  identify as a binary gender.Allowed
                                                  values for this field can be published
                                                  in the network policy
                                              creds:
                                                type: array
                                                items:
                                                  description: >-
                                                    Describes a credential of an entity -
                                                    Person or Organization
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    id:
                                                      type: string
                                                    type:
                                                      type: string
                                                      default: VerifiableCredential
                                                    url:
                                                      description: URL of the credential
                                                      type: string
                                                      format: uri
                                              languages:
                                                type: array
                                                items:
                                                  description: >-
                                                    Describes a language known to the
                                                    person.
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    code:
                                                      type: string
                                                    name:
                                                      type: string
                                              skills:
                                                type: array
                                                items:
                                                  description: Describes a skill of the person.
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    code:
                                                      type: string
                                                    name:
                                                      type: string
                                              tags:
                                                type: array
                                                items: *ref_13
                                          contact: *ref_14
                                  agent:
                                    description: >-
                                      The agent that is currently handling the
                                      fulfillment of the order
                                    allOf:
                                      - description: >-
                                          Describes the direct performer, driver
                                          or executor that fulfills an order. It
                                          is usually a person. But in some rare
                                          cases, it could be a non-living entity
                                          like a drone, or a bot. Some examples of
                                          agents are Doctor in the healthcare
                                          sector, a driver in the mobility sector,
                                          or a delivery person in the logistics
                                          sector. This object can be set at any
                                          stage of the order lifecycle. This can
                                          be set at the discovery stage when the
                                          BPP wants to provide details on the
                                          agent fulfilling the order, like in
                                          healthcare, where the doctor's name
                                          appears during search. This object can
                                          also used to search for a particular
                                          person that the customer wants
                                          fulfilling an order. Sometimes, this
                                          object gets instantiated after the order
                                          is confirmed, like in the case of
                                          on-demand taxis, where the driver is
                                          assigned after the user confirms the
                                          ride.
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          person: *ref_15
                                          contact: *ref_14
                                          organization: *ref_16
                                          rating: *ref_5
                                  contact: *ref_14
                                  vehicle:
                                    description: >-
                                      Describes a vehicle is a device that is
                                      designed or used to transport people or
                                      cargo over land, water, air, or through
                                      space.<br>This has properties like
                                      category, capacity, make, model,
                                      size,variant,color,energy_type,registration
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      category:
                                        type: string
                                      capacity:
                                        type: integer
                                      make:
                                        type: string
                                      model:
                                        type: string
                                      size:
                                        type: string
                                      variant:
                                        type: string
                                      color:
                                        type: string
                                      energy_type:
                                        type: string
                                      registration:
                                        type: string
                                      wheels_count:
                                        type: string
                                      cargo_volumne:
                                        type: string
                                      wheelchair_access:
                                        type: string
                                      code:
                                        type: string
                                      emission_standard:
                                        type: string
                                  stops:
                                    description: >-
                                      The list of logical stops encountered
                                      during the fulfillment of an order.
                                    type: array
                                    items:
                                      description: >-
                                        A logical point in space and time during
                                        the fulfillment of an order.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                        parent_stop_id:
                                          type: string
                                        location:
                                          description: Location of the stop
                                          allOf:
                                            - *ref_17
                                        type:
                                          description: >-
                                            The type of stop. Allowed values of this
                                            property can be defined by the network
                                            policy.
                                          type: string
                                        time:
                                          description: Timings applicable at the stop.
                                          allOf:
                                            - *ref_8
                                        instructions:
                                          description: >-
                                            Instructions that need to be followed at
                                            the stop
                                          allOf:
                                            - *ref_4
                                        contact:
                                          description: Contact details of the stop
                                          allOf:
                                            - *ref_14
                                        person:
                                          description: >-
                                            The details of the person present at the
                                            stop
                                          allOf:
                                            - *ref_15
                                        authorization:
                                          description: >-
                                            Describes an authorization mechanism
                                            used to start or end the fulfillment of
                                            an order. For example, in the mobility
                                            sector, the driver may require a
                                            one-time password to initiate the ride.
                                            In the healthcare sector, a patient may
                                            need to provide a password to open a
                                            video conference link during a
                                            teleconsultation.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            type:
                                              description: >-
                                                Type of authorization mechanism used.
                                                The allowed values for this field can be
                                                published as part of the network policy.
                                              type: string
                                            token:
                                              description: >-
                                                Token used for authorization. This is
                                                typically generated at the BPP. The BAP
                                                can send this value to the user via any
                                                channel that it uses to authenticate the
                                                user like SMS, Email, Push notification,
                                                or in-app rendering.
                                              type: string
                                            valid_from:
                                              description: >-
                                                Timestamp in RFC3339 format from which
                                                token is valid
                                              type: string
                                              format: date-time
                                            valid_to:
                                              description: >-
                                                Timestamp in RFC3339 format until which
                                                token is valid
                                              type: string
                                              format: date-time
                                            status:
                                              description: Status of the token
                                              type: string
                                  path:
                                    description: >-
                                      The physical path taken by the agent that
                                      can be rendered on a map. The allowed
                                      format of this property can be set by the
                                      network.
                                    type: string
                                  tags:
                                    type: array
                                    items: *ref_13
                            payments:
                              type: array
                              items: &ref_29
                                description: >-
                                  Describes the terms of settlement between the
                                  BAP and the BPP for a single transaction. When
                                  instantiated, this object contains <ol><li>the
                                  amount that has to be settled,</li><li>The
                                  payment destination destination
                                  details</li><li>When the settlement should
                                  happen, and</li><li>A transaction reference
                                  ID</li></ol>. During a transaction, the BPP
                                  reserves the right to decide the terms of
                                  payment. However, the BAP can send its terms
                                  to the BPP first. If the BPP does not agree to
                                  those terms, it must overwrite the terms and
                                  return them to the BAP. If overridden, the BAP
                                  must either agree to the terms sent by the BPP
                                  in order to preserve the provider's autonomy,
                                  or abort the transaction. In case of such
                                  disagreements, the BAP and the BPP can perform
                                  offline negotiations on the payment terms.
                                  Once an agreement is reached, the BAP and BPP
                                  can resume transactions.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_23
                                    description: >-
                                      ID of the payment term that can be
                                      referred at an item or an order level in a
                                      catalog
                                    type: string
                                  collected_by:
                                    description: >-
                                      This field indicates who is the collector
                                      of payment. The BAP can set this value to
                                      'bap' if it wants to collect the payment
                                      first and  settle it to the BPP. If the
                                      BPP agrees to those terms, the BPP should
                                      not send the payment url. Alternatively,
                                      the BPP can set this field with the value
                                      'bpp' if it wants the payment to be made
                                      directly.
                                    type: string
                                  url:
                                    type: string
                                    description: >-
                                      A payment url to be called by the BAP. If
                                      empty, then the payment is to be done
                                      offline. The details of payment should be
                                      present in the params object. If tl_method
                                      = http/get, then the payment details will
                                      be sent as url params. Two url param
                                      values, ```$transaction_id``` and
                                      ```$amount``` are mandatory.
                                    format: uri
                                  params:
                                    type: object
                                    properties:
                                      transaction_id:
                                        type: string
                                        description: >-
                                          The reference transaction ID associated
                                          with a payment activity
                                      amount:
                                        type: string
                                      currency:
                                        type: string
                                      bank_code:
                                        type: string
                                      bank_account_number:
                                        type: string
                                      virtual_payment_address:
                                        type: string
                                      source_bank_code:
                                        type: string
                                      source_bank_account_number:
                                        type: string
                                      source_virtual_payment_address:
                                        type: string
                                  type:
                                    type: string
                                    enum:
                                      - PRE-ORDER
                                      - PRE-FULFILLMENT
                                      - ON-FULFILLMENT
                                      - POST-FULFILLMENT
                                      - ON-ORDER
                                  status:
                                    type: string
                                    enum:
                                      - PAID
                                      - NOT-PAID
                                  time: *ref_8
                                  tags:
                                    type: array
                                    items: *ref_13
                            locations:
                              type: array
                              items: *ref_17
                            offers:
                              type: array
                              items: &ref_31
                                description: >-
                                  An offer associated with a catalog. This is
                                  typically used to promote a particular product
                                  and enable more purchases.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  descriptor: *ref_4
                                  location_ids:
                                    type: array
                                    items: *ref_18
                                  category_ids:
                                    type: array
                                    items: *ref_7
                                  item_ids:
                                    type: array
                                    items: &ref_19
                                      description: ID of the item.
                                      type: string
                                  time: *ref_8
                                  tags:
                                    type: array
                                    items: *ref_13
                            items:
                              type: array
                              items: &ref_32
                                description: >-
                                  Describes a product or a service offered to
                                  the end consumer by the provider. In the
                                  mobility sector, it can represent a fare
                                  product like one way journey. In the logistics
                                  sector, it can represent the delivery service
                                  offering. In the retail domain it can
                                  represent a product like a grocery item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: *ref_19
                                  parent_item_id:
                                    description: ID of the item, this item is a variant of
                                    allOf:
                                      - *ref_19
                                  parent_item_quantity:
                                    description: >-
                                      The number of units of the parent item
                                      this item is a multiple of
                                    allOf:
                                      - &ref_21
                                        description: Describes the count or amount of an item
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          allocated:
                                            description: >-
                                              This represents the exact quantity
                                              allocated for purchase of the item.
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_20
                                          available:
                                            description: >-
                                              This represents the exact quantity
                                              available for purchase of the item. The
                                              buyer can only purchase multiples of
                                              this
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_20
                                          maximum:
                                            description: >-
                                              This represents the maximum quantity
                                              allowed for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 1
                                              measure: *ref_20
                                          minimum:
                                            description: >-
                                              This represents the minimum quantity
                                              allowed for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_20
                                          selected:
                                            description: >-
                                              This represents the quantity selected
                                              for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_20
                                          unitized:
                                            description: >-
                                              This represents the quantity available
                                              in a single unit of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 1
                                                maximum: 1
                                              measure: *ref_20
                                  descriptor:
                                    description: Physical description of the item
                                    allOf:
                                      - *ref_4
                                  creator:
                                    description: The creator of this item
                                    allOf:
                                      - *ref_16
                                  price:
                                    description: >-
                                      The price of this item, if it has
                                      intrinsic value
                                    allOf:
                                      - &ref_24
                                        description: >-
                                          Describes the price of a product or
                                          service
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          currency:
                                            type: string
                                          value: *ref_1
                                          estimated_value: *ref_1
                                          computed_value: *ref_1
                                          listed_value: *ref_1
                                          offered_value: *ref_1
                                          minimum_value: *ref_1
                                          maximum_value: *ref_1
                                  quantity:
                                    description: The selling quantity of the item
                                    allOf:
                                      - *ref_21
                                  category_ids:
                                    description: Categories this item can be listed under
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_7
                                  fulfillment_ids:
                                    description: >-
                                      Modes through which this item can be
                                      fulfilled
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_22
                                  location_ids:
                                    description: >-
                                      Provider Locations this item is available
                                      in
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_18
                                  payment_ids:
                                    description: >-
                                      Payment modalities through which this item
                                      can be ordered
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_23
                                  add_ons:
                                    type: array
                                    items:
                                      description: >-
                                        Describes an additional item offered as
                                        a value-addition to a product or
                                        service. This does not exist
                                        independently in a catalog and is always
                                        associated with an item.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          description: Provider-defined ID of the add-on
                                          type: string
                                        descriptor: *ref_4
                                        price: *ref_24
                                        quantity: *ref_21
                                  cancellation_terms:
                                    description: Cancellation terms of this item
                                    type: array
                                    items:
                                      description: >-
                                        Describes the cancellation terms of an
                                        item or an order. This can be referenced
                                        at an item or order level. Item-level
                                        cancellation terms can override the
                                        terms at the order level.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_25
                                        reason_required:
                                          description: >-
                                            Indicates whether a reason is required
                                            to cancel the order
                                          type: boolean
                                        cancel_by:
                                          description: >-
                                            Information related to the time of
                                            cancellation.
                                          allOf:
                                            - *ref_8
                                        cancellation_fee:
                                          description: A fee applied on a particular entity
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            percentage:
                                              description: Percentage of a value
                                              allOf:
                                                - *ref_1
                                            amount:
                                              description: A fixed value
                                              allOf:
                                                - *ref_24
                                        xinput: &ref_27
                                          description: >-
                                            Contains any additional or extended
                                            inputs required to confirm an order.
                                            This is typically a Form Input.
                                            Sometimes, selection of catalog elements
                                            is not enough for the BPP to confirm an
                                            order. For example, to confirm a flight
                                            ticket, the airline requires details of
                                            the passengers along with information on
                                            baggage, identity, in addition to the
                                            class of ticket. Similarly, a logistics
                                            company may require details on the
                                            nature of shipment in order to confirm
                                            the shipping. A recruiting firm may
                                            require additional details on the
                                            applicant in order to confirm a job
                                            application. For all such purposes, the
                                            BPP can choose to send this object
                                            attached to any object in the catalog
                                            that is required to be sent while
                                            placing the order. This object can
                                            typically be sent at an item level or at
                                            the order level. The item level XInput
                                            will override the Order level XInput as
                                            it indicates a special requirement of
                                            information for that particular item.
                                            Hence the BAP must render a separate
                                            form for the Item and another form at
                                            the Order level before confirmation.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            head:
                                              description: >-
                                                Provides the header information for the
                                                xinput.
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                descriptor: *ref_4
                                                index:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    min:
                                                      type: integer
                                                    cur:
                                                      type: integer
                                                    max:
                                                      type: integer
                                                headings:
                                                  type: array
                                                  items:
                                                    type: string
                                                    description: The heading names of the forms
                                            form:
                                              description: Describes a form
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                id:
                                                  description: The form identifier.
                                                  type: string
                                                url:
                                                  description: >-
                                                    The URL from where the form can be
                                                    fetched. The content fetched from the
                                                    url must be processed as per the
                                                    mime_type specified in this object. Once
                                                    fetched, the rendering platform can
                                                    choosed to render the form as-is as an
                                                    embeddable element; or process it
                                                    further to blend with the theme of the
                                                    application. In case the interface is
                                                    non-visual, the the render can process
                                                    the form data and reproduce it as per
                                                    the standard specified in the form.
                                                  type: string
                                                  format: uri
                                                data:
                                                  description: The form submission data
                                                  type: object
                                                  additionalProperties:
                                                    type: string
                                                mime_type:
                                                  description: >-
                                                    This field indicates the nature and
                                                    format of the form received by querying
                                                    the url. MIME types are defined and
                                                    standardized in IETF's RFC 6838.
                                                  type: string
                                                  enum:
                                                    - text/html
                                                    - application/html
                                                    - application/xml
                                                resubmit:
                                                  type: boolean
                                                multiple_sumbissions:
                                                  type: boolean
                                            form_response:
                                              description: >-
                                                Describes the response to a form
                                                submission
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                status:
                                                  description: Contains the status of form submission.
                                                  type: string
                                                signature:
                                                  type: string
                                                submission_id:
                                                  type: string
                                                errors:
                                                  type: array
                                                  items:
                                                    description: >-
                                                      Describes an error object that is
                                                      returned by a BAP, BPP or BG as a
                                                      response or callback to an action by
                                                      another network participant. This object
                                                      is sent when any request received by a
                                                      network participant is unacceptable.
                                                      This object can be sent either during
                                                      Ack or with the callback.
                                                    type: object
                                                    additionalProperties: false
                                                    properties:
                                                      code:
                                                        type: string
                                                        description: >-
                                                          Standard error code. For full list of
                                                          error codes, refer to
                                                          docs/protocol-drafts/BECKN-005-ERROR-CODES-DRAFT-01.md
                                                          of this repo"
                                                      paths:
                                                        type: string
                                                        description: >-
                                                          Path to json schema generating the
                                                          error. Used only during json schema
                                                          validation errors
                                                      message:
                                                        type: string
                                                        description: >-
                                                          Human readable message describing the
                                                          error. Used mainly for logging. Not
                                                          recommended to be shown to the user.
                                            required:
                                              description: >-
                                                Indicates whether the form data is
                                                mandatorily required by the BPP to
                                                confirm the order.
                                              type: boolean
                                        external_ref: *ref_26
                                  refund_terms:
                                    description: Refund terms of this item
                                    type: array
                                    items:
                                      description: Refund term of an item or an order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_10
                                        refund_eligible:
                                          description: >-
                                            Indicates if cancellation will result in
                                            a refund
                                          type: boolean
                                        refund_within:
                                          description: >-
                                            Time within which refund will be
                                            processed after successful cancellation.
                                          allOf:
                                            - *ref_8
                                        refund_amount: *ref_24
                                  replacement_terms:
                                    description: >-
                                      Terms that are applicable be met when this
                                      item is replaced
                                    type: array
                                    items:
                                      description: >-
                                        The replacement policy of an item or an
                                        order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_10
                                        replace_within:
                                          description: >-
                                            Applicable only for buyer managed
                                            returns where the buyer has to replace
                                            the item before a certain date-time,
                                            failing which they will not be eligible
                                            for replacement
                                          allOf:
                                            - *ref_8
                                        external_ref: *ref_26
                                  return_terms:
                                    description: >-
                                      Terms that are applicable when this item
                                      is returned
                                    type: array
                                    items:
                                      description: >-
                                        Describes the return policy of an item
                                        or an order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term IETF''s applicable.
                                          allOf:
                                            - *ref_10
                                        return_eligible:
                                          description: >-
                                            Indicates whether the item is eligible
                                            for return
                                          type: boolean
                                        return_time:
                                          description: >-
                                            Applicable only for buyer managed
                                            returns where the buyer has to return
                                            the item to the origin before a certain
                                            date-time, failing which they will not
                                            be eligible for refund.
                                          allOf:
                                            - *ref_8
                                        return_location:
                                          description: >-
                                            The location where the item or order
                                            must / will be returned to
                                          allOf:
                                            - *ref_17
                                        fulfillment_managed_by:
                                          description: The entity that will perform the return
                                          type: string
                                          enum:
                                            - CONSUMER
                                            - PROVIDER
                                  xinput:
                                    description: >-
                                      Additional input required from the
                                      customer to purchase / avail this item
                                    allOf:
                                      - *ref_27
                                  time:
                                    description: >-
                                      Temporal attributes of this item. This
                                      property is used when the item exists on
                                      the catalog only for a limited period of
                                      time.
                                    allOf:
                                      - *ref_8
                                  rateable:
                                    description: Whether this item can be rated
                                    type: boolean
                                  rating:
                                    description: The rating of the item
                                    allOf:
                                      - *ref_5
                                  matched:
                                    description: >-
                                      Whether this item is an exact match of the
                                      request
                                    type: boolean
                                  related:
                                    description: >-
                                      Whether this item is a related item to the
                                      exactly matched item
                                    type: boolean
                                  recommended:
                                    description: >-
                                      Whether this item is a recommended item to
                                      a response
                                    type: boolean
                                  ttl:
                                    description: >-
                                      Time to live in seconds for an instance of
                                      this schema
                                    type: string
                                  tags:
                                    type: array
                                    items: *ref_13
                            exp:
                              type: string
                              description: Time after which catalog has to be refreshed
                              format: date-time
                            rateable:
                              description: Whether this provider can be rated or not
                              type: boolean
                            ttl:
                              description: >-
                                The time-to-live in seconds, for this object.
                                This can be overriden at deeper levels. A value
                                of -1 indicates that this object is not
                                cacheable.
                              type: string
                            tags:
                              type: array
                              items: *ref_13
                    fulfillment:
                      description: Details on how the customer wants their order fulfilled
                      allOf:
                        - *ref_28
                    payment:
                      description: Details on how the customer wants to pay for the order
                      allOf:
                        - *ref_29
                    category:
                      description: Details on the item category
                      allOf:
                        - *ref_30
                    offer:
                      description: details on the offer the customer wants to avail
                      allOf:
                        - *ref_31
                    item:
                      description: Details of the item that the consumer wants to order
                      allOf:
                        - *ref_32
                    tags:
                      type: array
                      items: *ref_13
          required:
            - context
            - message
        on_search:
          type: object
          properties:
            context:
              allOf:
                - description: >-
                    Every API call in beckn protocol has a context. It provides
                    a high-level overview to the receiver about the nature of
                    the intended transaction. Typically, it is the BAP that sets
                    the transaction context based on the consumer's location and
                    action on their UI. But sometimes, during unsolicited
                    callbacks, the BPP also sets the transaction context but it
                    is usually the same as the context of a previous full-cycle,
                    request-callback interaction between the BAP and the BPP.
                    The context object contains four types of fields.
                    <ol><li>Demographic information about the transaction using
                    fields like `domain`, `country`, and
                    `region`.</li><li>Addressing details like the sending and
                    receiving platform's ID and API
                    URL.</li><li>Interoperability information like the protocol
                    version that implemented by the sender
                    and,</li><li>Transaction details like the method being
                    called at the receiver's endpoint, the transaction_id that
                    represents an end-to-end user session at the BAP, a message
                    ID to pair requests with callbacks, a timestamp to capture
                    sending times, a ttl to specifiy the validity of the
                    request, and a key to encrypt information if
                    necessary.</li></ol> This object must be passed in every
                    interaction between a BAP and a BPP. In HTTP/S
                    implementations, it is not necessary to send the context
                    during the synchronous response. However, in asynchronous
                    protocols, the context must be sent during all interactions,
                  type: object
                  additionalProperties: false
                  properties:
                    domain:
                      description: Domain code that is relevant to this transaction context
                      allOf:
                        - type: string
                          description: >-
                            Standard code representing the domain. The standard
                            is usually published as part of the network policy.
                            Furthermore, the network facilitator should also
                            provide a mechanism to provide the supported domains
                            of a network.
                    location:
                      description: >-
                        The location where the transaction is intended to be
                        fulfilled.
                      allOf:
                        - &ref_46
                          description: The physical location of something
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_50
                              type: string
                            descriptor: &ref_37
                              description: Physical description of something.
                              type: object
                              additionalProperties: false
                              properties:
                                name:
                                  type: string
                                code:
                                  type: string
                                short_desc:
                                  type: string
                                long_desc:
                                  type: string
                                additional_desc:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                                    content_type:
                                      type: string
                                      enum:
                                        - text/plain
                                        - text/html
                                        - application/json
                                media:
                                  type: array
                                  items: &ref_62
                                    description: >-
                                      This object contains a url to a media
                                      file.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      mimetype:
                                        description: >-
                                          indicates the nature and format of the
                                          document, file, or assortment of bytes.
                                          MIME types are defined and standardized
                                          in IETF's RFC 6838
                                        type: string
                                      url:
                                        description: The URL of the file
                                        type: string
                                        format: uri
                                      signature:
                                        description: >-
                                          The digital signature of the file signed
                                          by the sender
                                        type: string
                                      dsa:
                                        description: The signing algorithm used by the sender
                                        type: string
                                images:
                                  type: array
                                  items: &ref_42
                                    description: Describes an image
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      url:
                                        description: >-
                                          URL to the image. This can be a data url
                                          or an remote url
                                        type: string
                                        format: uri
                                      size_type:
                                        description: >-
                                          The size of the image. The network
                                          policy can define the default dimensions
                                          of each type
                                        type: string
                                        enum:
                                          - xs
                                          - sm
                                          - md
                                          - lg
                                          - xl
                                          - custom
                                      width:
                                        description: Width of the image in pixels
                                        type: string
                                      height:
                                        description: Height of the image in pixels
                                        type: string
                            map_url:
                              description: >-
                                The url to the map of the location. This can be
                                a globally recognized map url or the one
                                specified by the network policy.
                              type: string
                              format: uri
                            gps:
                              description: The GPS co-ordinates of this location.
                              allOf:
                                - &ref_33
                                  description: Describes a GPS coordinate
                                  type: string
                                  pattern: >-
                                    ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                            address:
                              description: The address of this location.
                              allOf:
                                - &ref_39
                                  description: Describes a postal address.
                                  type: string
                            city:
                              description: The city this location is, or is located within
                              allOf:
                                - &ref_41
                                  description: Describes a city
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      description: Name of the city
                                      type: string
                                    code:
                                      description: City code
                                      type: string
                            district:
                              description: The state this location is, or is located within
                              type: string
                            state:
                              description: The state this location is, or is located within
                              allOf:
                                - &ref_40
                                  description: >-
                                    A bounded geopolitical region of governance
                                    inside a country.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the state
                                    code:
                                      type: string
                                      description: >-
                                        State code as per country or
                                        international standards
                            country:
                              description: >-
                                The country this location is, or is located
                                within
                              allOf:
                                - description: Describes a country
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the country
                                    code:
                                      type: string
                                      description: >-
                                        Country code as per ISO 3166-1 and ISO
                                        3166-2 format
                            area_code:
                              type: string
                            circle:
                              description: >-
                                Describes a circular region of a specified
                                radius centered at a specified GPS coordinate.
                              type: object
                              additionalProperties: false
                              properties:
                                gps: *ref_33
                                radius: &ref_56
                                  description: Describes a scalar
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - CONSTANT
                                        - VARIABLE
                                    value: &ref_34
                                      description: >-
                                        Describes a numerical value in decimal
                                        form
                                      type: string
                                      pattern: '[+-]?([0-9]*[.])?[0-9]+'
                                    estimated_value: *ref_34
                                    computed_value: *ref_34
                                    range:
                                      type: object
                                      properties:
                                        min: *ref_34
                                        max: *ref_34
                                    unit:
                                      type: string
                            polygon:
                              description: The boundary polygon of this location
                              type: string
                            3dspace:
                              description: >-
                                The three dimensional region describing this
                                location
                              type: string
                            rating:
                              description: The rating of this location
                              allOf:
                                - &ref_38
                                  description: >-
                                    Rating value given to the object. This can
                                    be a single value or can also contain an
                                    inequality operator like gt, gte, lt, lte.
                                    This can also contain an inequality
                                    expression containing logical operators like
                                    && and ||.
                                  type: string
                    action:
                      description: >-
                        The Beckn protocol method being called by the sender and
                        executed at the receiver.
                      type: string
                    version:
                      type: string
                      description: >-
                        Version of transaction protocol being used by the
                        sender.
                    bap_id:
                      description: Subscriber ID of the BAP
                      allOf:
                        - &ref_35
                          description: >-
                            A globally unique identifier of the platform,
                            Typically it is the fully qualified domain name
                            (FQDN) of the platform.
                          type: string
                    bap_uri:
                      description: >-
                        Subscriber URL of the BAP for accepting callbacks from
                        BPPs.
                      allOf:
                        - &ref_36
                          description: >-
                            The callback URL of the Subscriber. This should
                            necessarily contain the same domain name as set in
                            `subscriber_id``.
                          type: string
                          format: uri
                    bpp_id:
                      description: Subscriber ID of the BPP
                      allOf:
                        - *ref_35
                    bpp_uri:
                      description: Subscriber URL of the BPP for accepting calls from BAPs.
                      allOf:
                        - *ref_36
                    transaction_id:
                      description: >-
                        This is a unique value which persists across all API
                        calls from `search` through `confirm`. This is done to
                        indicate an active user session across multiple
                        requests. The BPPs can use this value to push
                        personalized recommendations, and dynamic offerings
                        related to an ongoing transaction despite being unaware
                        of the user active on the BAP.
                      type: string
                      format: uuid
                    message_id:
                      description: >-
                        This is a unique value which persists during a request /
                        callback cycle. Since beckn protocol APIs are
                        asynchronous, BAPs need a common value to match an
                        incoming callback from a BPP to an earlier call. This
                        value can also be used to ignore duplicate messages
                        coming from the BPP. It is recommended to generate a
                        fresh message_id for every new interaction. When sending
                        unsolicited callbacks, BPPs must generate a new
                        message_id.
                      type: string
                      format: uuid
                    timestamp:
                      description: Time of request generation in RFC3339 format
                      type: string
                      format: date-time
                    key:
                      description: The encryption public key of the sender
                      type: string
                    ttl:
                      description: >-
                        The duration in ISO8601 format after timestamp for which
                        this message holds valid
                      type: string
                - type: object
                  properties:
                    action:
                      enum:
                        - on_search
                  required:
                    - action
            message:
              type: object
              properties:
                catalog:
                  description: >-
                    Describes the products or services offered by a BPP. This is
                    typically sent as the response to a search intent from a
                    BAP. The payment terms, offers and terms of fulfillment
                    supported by the BPP can also be included here. The BPP can
                    show hierarchical nature of products/services in its catalog
                    using the parent_category_id in categories. The BPP can also
                    send a ttl (time to live) in the context which is the
                    duration for which a BAP can cache the catalog and use the
                    cached catalog.  <br>This has properties like
                    bbp/descriptor,bbp/categories,bbp/fulfillments,bbp/payments,bbp/offers,bbp/providers
                    and exp<br>This is used in the following
                    situations.<br><ul><li>This is typically used in the
                    discovery stage when the BPP sends the details of the
                    products and services it offers as response to a search
                    intent from the BAP. </li></ul>
                  type: object
                  additionalProperties: false
                  properties:
                    descriptor: *ref_37
                    fulfillments:
                      description: >-
                        Fulfillment modes offered at the BPP level. This is used
                        when a BPP itself offers fulfillments on behalf of the
                        providers it has onboarded.
                      type: array
                      items: &ref_52
                        description: >-
                          Describes how a an order will be rendered/fulfilled to
                          the end-customer
                        type: object
                        additionalProperties: false
                        properties:
                          id: &ref_58
                            description: Unique reference ID to the fulfillment of an order
                            type: string
                          type:
                            description: >-
                              A code that describes the mode of fulfillment.
                              This is typically set when there are multiple ways
                              an order can be fulfilled. For example, a retail
                              order can be fulfilled either via store pickup or
                              a home delivery. Similarly, a medical consultation
                              can be provided either in-person or via
                              tele-consultation. The network policy must publish
                              standard fulfillment type codes for the different
                              modes of fulfillment.
                            type: string
                          rateable:
                            description: Whether the fulfillment can be rated or not
                            type: boolean
                          rating:
                            description: The rating value of the fulfullment service.
                            allOf:
                              - *ref_38
                          state:
                            description: >-
                              The current state of fulfillment. The BPP must set
                              this value whenever the state of the order
                              fulfillment changes and fire an unsolicited
                              `on_status` call.
                            allOf:
                              - &ref_61
                                description: Describes the state of fulfillment
                                type: object
                                additionalProperties: false
                                properties:
                                  descriptor: *ref_37
                                  updated_at:
                                    type: string
                                    format: date-time
                                  updated_by:
                                    type: string
                                    description: ID of entity which changed the state
                          tracking:
                            type: boolean
                            description: Indicates whether the fulfillment allows tracking
                            default: false
                          customer:
                            description: The person that will ultimately receive the order
                            allOf:
                              - description: >-
                                  Describes a customer buying/availing a product
                                  or a service
                                type: object
                                additionalProperties: false
                                properties:
                                  organization: &ref_45
                                    description: >-
                                      An organization. Usually a recognized
                                      business entity.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      descriptor: *ref_37
                                      address:
                                        description: The postal address of the organization
                                        allOf:
                                          - *ref_39
                                      state:
                                        description: >-
                                          The state where the organization's
                                          address is registered
                                        allOf:
                                          - *ref_40
                                      city:
                                        description: >-
                                          The city where the the organization's
                                          address is registered
                                        allOf:
                                          - *ref_41
                                      contact: &ref_43
                                        description: >-
                                          Describes the contact information of an
                                          entity
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          phone:
                                            type: string
                                          email:
                                            type: string
                                          jcard:
                                            type: object
                                            description: >-
                                              A Jcard object as per
                                              draft-ietf-jcardcal-jcard-03
                                              specification
                                  person: &ref_44
                                    description: Describes a person as any individual
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      id:
                                        type: string
                                        description: Describes the identity of the person
                                      url:
                                        description: Profile url of the person
                                        type: string
                                        format: uri
                                      name:
                                        description: the name of the person
                                        type: string
                                      image: *ref_42
                                      age:
                                        description: Age of the person
                                        allOf:
                                          - &ref_47
                                            description: Describes duration as per ISO8601 format
                                            type: string
                                      dob:
                                        description: Date of birth of the person
                                        type: string
                                        format: date
                                      gender:
                                        type: string
                                        description: >-
                                          Gender of something, typically a Person,
                                          but possibly also fictional characters,
                                          animals, etc. While Male and Female may
                                          be used, text strings are also
                                          acceptable for people who do not
                                          identify as a binary gender.Allowed
                                          values for this field can be published
                                          in the network policy
                                      creds:
                                        type: array
                                        items:
                                          description: >-
                                            Describes a credential of an entity -
                                            Person or Organization
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            id:
                                              type: string
                                            type:
                                              type: string
                                              default: VerifiableCredential
                                            url:
                                              description: URL of the credential
                                              type: string
                                              format: uri
                                      languages:
                                        type: array
                                        items:
                                          description: >-
                                            Describes a language known to the
                                            person.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            code:
                                              type: string
                                            name:
                                              type: string
                                      skills:
                                        type: array
                                        items:
                                          description: Describes a skill of the person.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            code:
                                              type: string
                                            name:
                                              type: string
                                      tags:
                                        type: array
                                        items: &ref_48
                                          description: >-
                                            A collection of tag objects with group
                                            level attributes. For detailed
                                            documentation on the Tags and Tag Groups
                                            schema go to
                                            https://github.com/beckn/protocol-specifications/discussions/316
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            display:
                                              description: >-
                                                Indicates the display properties of the
                                                tag group. If display is set to false,
                                                then the group will not be displayed. If
                                                it is set to true, it should be
                                                displayed. However, group-level display
                                                properties can be overriden by
                                                individual tag-level display property.
                                                As this schema is purely for catalog
                                                display purposes, it is not recommended
                                                to send this value during search.
                                              type: boolean
                                              default: true
                                            descriptor:
                                              description: >-
                                                Description of the TagGroup, can be used
                                                to store detailed information.
                                              allOf:
                                                - *ref_37
                                            list:
                                              description: >-
                                                An array of Tag objects listed under
                                                this group. This property can be set by
                                                BAPs during search to narrow the
                                                `search` and achieve more relevant
                                                results. When received during
                                                `on_search`, BAPs must render this list
                                                under the heading described by the
                                                `name` property of this schema.
                                              type: array
                                              items:
                                                description: >-
                                                  Describes a tag. This is used to contain
                                                  extended metadata. This object can be
                                                  added as a property to any schema to
                                                  describe extended attributes. For BAPs,
                                                  tags can be sent during search to
                                                  optimize and filter search results. BPPs
                                                  can use tags to index their catalog to
                                                  allow better search functionality. Tags
                                                  are sent by the BPP as part of the
                                                  catalog response in the `on_search`
                                                  callback. Tags are also meant for
                                                  display purposes. Upon receiving a tag,
                                                  BAPs are meant to render them as
                                                  name-value pairs. This is particularly
                                                  useful when rendering tabular
                                                  information about a product or service.
                                                type: object
                                                additionalProperties: false
                                                properties:
                                                  descriptor:
                                                    description: >-
                                                      Description of the Tag, can be used to
                                                      store detailed information.
                                                    allOf:
                                                      - *ref_37
                                                  value:
                                                    description: >-
                                                      The value of the tag. This set by the
                                                      BPP and rendered as-is by the BAP.
                                                    type: string
                                                  display:
                                                    description: >-
                                                      This value indicates if the tag is
                                                      intended for display purposes. If set to
                                                      `true`, then this tag must be displayed.
                                                      If it is set to `false`, it should not
                                                      be displayed. This value can override
                                                      the group display value.
                                                    type: boolean
                                  contact: *ref_43
                          agent:
                            description: >-
                              The agent that is currently handling the
                              fulfillment of the order
                            allOf:
                              - description: >-
                                  Describes the direct performer, driver or
                                  executor that fulfills an order. It is usually
                                  a person. But in some rare cases, it could be
                                  a non-living entity like a drone, or a bot.
                                  Some examples of agents are Doctor in the
                                  healthcare sector, a driver in the mobility
                                  sector, or a delivery person in the logistics
                                  sector. This object can be set at any stage of
                                  the order lifecycle. This can be set at the
                                  discovery stage when the BPP wants to provide
                                  details on the agent fulfilling the order,
                                  like in healthcare, where the doctor's name
                                  appears during search. This object can also
                                  used to search for a particular person that
                                  the customer wants fulfilling an order.
                                  Sometimes, this object gets instantiated after
                                  the order is confirmed, like in the case of
                                  on-demand taxis, where the driver is assigned
                                  after the user confirms the ride.
                                type: object
                                additionalProperties: false
                                properties:
                                  person: *ref_44
                                  contact: *ref_43
                                  organization: *ref_45
                                  rating: *ref_38
                          contact: *ref_43
                          vehicle:
                            description: >-
                              Describes a vehicle is a device that is designed
                              or used to transport people or cargo over land,
                              water, air, or through space.<br>This has
                              properties like category, capacity, make, model,
                              size,variant,color,energy_type,registration
                            type: object
                            additionalProperties: false
                            properties:
                              category:
                                type: string
                              capacity:
                                type: integer
                              make:
                                type: string
                              model:
                                type: string
                              size:
                                type: string
                              variant:
                                type: string
                              color:
                                type: string
                              energy_type:
                                type: string
                              registration:
                                type: string
                              wheels_count:
                                type: string
                              cargo_volumne:
                                type: string
                              wheelchair_access:
                                type: string
                              code:
                                type: string
                              emission_standard:
                                type: string
                          stops:
                            description: >-
                              The list of logical stops encountered during the
                              fulfillment of an order.
                            type: array
                            items:
                              description: >-
                                A logical point in space and time during the
                                fulfillment of an order.
                              type: object
                              additionalProperties: false
                              properties:
                                id:
                                  type: string
                                parent_stop_id:
                                  type: string
                                location:
                                  description: Location of the stop
                                  allOf:
                                    - *ref_46
                                type:
                                  description: >-
                                    The type of stop. Allowed values of this
                                    property can be defined by the network
                                    policy.
                                  type: string
                                time:
                                  description: Timings applicable at the stop.
                                  allOf:
                                    - &ref_49
                                      description: >-
                                        Describes time in its various forms. It
                                        can be a single point in time; duration;
                                        or a structured timetable of
                                        operations<br>This has properties like
                                        label, time stamp,duration,range, days,
                                        schedule
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        label:
                                          type: string
                                        timestamp:
                                          type: string
                                          format: date-time
                                        duration: *ref_47
                                        range:
                                          type: object
                                          properties:
                                            start:
                                              type: string
                                              format: date-time
                                            end:
                                              type: string
                                              format: date-time
                                        days:
                                          type: string
                                          description: >-
                                            comma separated values representing days
                                            of the week
                                        schedule:
                                          description: >-
                                            Describes schedule as a repeating time
                                            period used to describe a regularly
                                            recurring event. At a minimum a schedule
                                            will specify frequency which describes
                                            the interval between occurrences of the
                                            event. Additional information can be
                                            provided to specify the schedule more
                                            precisely. This includes identifying the
                                            timestamps(s) of when the event will
                                            take place. Schedules may also have
                                            holidays to exclude a specific day from
                                            the schedule.<br>This has properties
                                            like frequency, holidays, times
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            frequency: *ref_47
                                            holidays:
                                              type: array
                                              items:
                                                type: string
                                                format: date-time
                                            times:
                                              type: array
                                              items:
                                                type: string
                                                format: date-time
                                instructions:
                                  description: >-
                                    Instructions that need to be followed at the
                                    stop
                                  allOf:
                                    - *ref_37
                                contact:
                                  description: Contact details of the stop
                                  allOf:
                                    - *ref_43
                                person:
                                  description: >-
                                    The details of the person present at the
                                    stop
                                  allOf:
                                    - *ref_44
                                authorization:
                                  description: >-
                                    Describes an authorization mechanism used to
                                    start or end the fulfillment of an order.
                                    For example, in the mobility sector, the
                                    driver may require a one-time password to
                                    initiate the ride. In the healthcare sector,
                                    a patient may need to provide a password to
                                    open a video conference link during a
                                    teleconsultation.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    type:
                                      description: >-
                                        Type of authorization mechanism used.
                                        The allowed values for this field can be
                                        published as part of the network policy.
                                      type: string
                                    token:
                                      description: >-
                                        Token used for authorization. This is
                                        typically generated at the BPP. The BAP
                                        can send this value to the user via any
                                        channel that it uses to authenticate the
                                        user like SMS, Email, Push notification,
                                        or in-app rendering.
                                      type: string
                                    valid_from:
                                      description: >-
                                        Timestamp in RFC3339 format from which
                                        token is valid
                                      type: string
                                      format: date-time
                                    valid_to:
                                      description: >-
                                        Timestamp in RFC3339 format until which
                                        token is valid
                                      type: string
                                      format: date-time
                                    status:
                                      description: Status of the token
                                      type: string
                          path:
                            description: >-
                              The physical path taken by the agent that can be
                              rendered on a map. The allowed format of this
                              property can be set by the network.
                            type: string
                          tags:
                            type: array
                            items: *ref_48
                    payments:
                      description: >-
                        Payment terms offered by the BPP for all transactions.
                        This can be overriden at the provider level.
                      type: array
                      items: &ref_53
                        description: >-
                          Describes the terms of settlement between the BAP and
                          the BPP for a single transaction. When instantiated,
                          this object contains <ol><li>the amount that has to be
                          settled,</li><li>The payment destination destination
                          details</li><li>When the settlement should happen,
                          and</li><li>A transaction reference ID</li></ol>.
                          During a transaction, the BPP reserves the right to
                          decide the terms of payment. However, the BAP can send
                          its terms to the BPP first. If the BPP does not agree
                          to those terms, it must overwrite the terms and return
                          them to the BAP. If overridden, the BAP must either
                          agree to the terms sent by the BPP in order to
                          preserve the provider's autonomy, or abort the
                          transaction. In case of such disagreements, the BAP
                          and the BPP can perform offline negotiations on the
                          payment terms. Once an agreement is reached, the BAP
                          and BPP can resume transactions.
                        type: object
                        additionalProperties: false
                        properties:
                          id: &ref_59
                            description: >-
                              ID of the payment term that can be referred at an
                              item or an order level in a catalog
                            type: string
                          collected_by:
                            description: >-
                              This field indicates who is the collector of
                              payment. The BAP can set this value to 'bap' if it
                              wants to collect the payment first and  settle it
                              to the BPP. If the BPP agrees to those terms, the
                              BPP should not send the payment url.
                              Alternatively, the BPP can set this field with the
                              value 'bpp' if it wants the payment to be made
                              directly.
                            type: string
                          url:
                            type: string
                            description: >-
                              A payment url to be called by the BAP. If empty,
                              then the payment is to be done offline. The
                              details of payment should be present in the params
                              object. If tl_method = http/get, then the payment
                              details will be sent as url params. Two url param
                              values, ```$transaction_id``` and ```$amount```
                              are mandatory.
                            format: uri
                          params:
                            type: object
                            properties:
                              transaction_id:
                                type: string
                                description: >-
                                  The reference transaction ID associated with a
                                  payment activity
                              amount:
                                type: string
                              currency:
                                type: string
                              bank_code:
                                type: string
                              bank_account_number:
                                type: string
                              virtual_payment_address:
                                type: string
                              source_bank_code:
                                type: string
                              source_bank_account_number:
                                type: string
                              source_virtual_payment_address:
                                type: string
                          type:
                            type: string
                            enum:
                              - PRE-ORDER
                              - PRE-FULFILLMENT
                              - ON-FULFILLMENT
                              - POST-FULFILLMENT
                              - ON-ORDER
                          status:
                            type: string
                            enum:
                              - PAID
                              - NOT-PAID
                          time: *ref_49
                          tags:
                            type: array
                            items: *ref_48
                    offers:
                      description: >-
                        Offers at the BPP-level. This is common across all
                        providers onboarded by the BPP.
                      type: array
                      items: &ref_54
                        description: >-
                          An offer associated with a catalog. This is typically
                          used to promote a particular product and enable more
                          purchases.
                        type: object
                        additionalProperties: false
                        properties:
                          id:
                            type: string
                          descriptor: *ref_37
                          location_ids:
                            type: array
                            items: *ref_50
                          category_ids:
                            type: array
                            items: &ref_51
                              description: ID of the category
                              type: string
                          item_ids:
                            type: array
                            items: &ref_55
                              description: ID of the item.
                              type: string
                          time: *ref_49
                          tags:
                            type: array
                            items: *ref_48
                    providers:
                      type: array
                      items:
                        description: Describes the catalog of a business.
                        type: object
                        properties:
                          id:
                            type: string
                            description: Id of the provider
                          descriptor: *ref_37
                          category_id:
                            type: string
                            description: >-
                              Category Id of the provider at the BPP-level
                              catalog
                          rating: *ref_38
                          time: *ref_49
                          categories:
                            type: array
                            items:
                              description: >-
                                A label under which a collection of items can be
                                grouped.
                              type: object
                              additionalProperties: false
                              properties:
                                id: *ref_51
                                parent_category_id: *ref_51
                                descriptor: *ref_37
                                time: *ref_49
                                ttl:
                                  description: Time to live for an instance of this schema
                                tags:
                                  type: array
                                  items: *ref_48
                          fulfillments:
                            type: array
                            items: *ref_52
                          payments:
                            type: array
                            items: *ref_53
                          locations:
                            type: array
                            items: *ref_46
                          offers:
                            type: array
                            items: *ref_54
                          items:
                            type: array
                            items:
                              description: >-
                                Describes a product or a service offered to the
                                end consumer by the provider. In the mobility
                                sector, it can represent a fare product like one
                                way journey. In the logistics sector, it can
                                represent the delivery service offering. In the
                                retail domain it can represent a product like a
                                grocery item.
                              type: object
                              additionalProperties: false
                              properties:
                                id: *ref_55
                                parent_item_id:
                                  description: ID of the item, this item is a variant of
                                  allOf:
                                    - *ref_55
                                parent_item_quantity:
                                  description: >-
                                    The number of units of the parent item this
                                    item is a multiple of
                                  allOf:
                                    - &ref_57
                                      description: Describes the count or amount of an item
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        allocated:
                                          description: >-
                                            This represents the exact quantity
                                            allocated for purchase of the item.
                                          type: object
                                          properties:
                                            count:
                                              type: integer
                                              minimum: 0
                                            measure: *ref_56
                                        available:
                                          description: >-
                                            This represents the exact quantity
                                            available for purchase of the item. The
                                            buyer can only purchase multiples of
                                            this
                                          type: object
                                          properties:
                                            count:
                                              type: integer
                                              minimum: 0
                                            measure: *ref_56
                                        maximum:
                                          description: >-
                                            This represents the maximum quantity
                                            allowed for purchase of the item
                                          type: object
                                          properties:
                                            count:
                                              type: integer
                                              minimum: 1
                                            measure: *ref_56
                                        minimum:
                                          description: >-
                                            This represents the minimum quantity
                                            allowed for purchase of the item
                                          type: object
                                          properties:
                                            count:
                                              type: integer
                                              minimum: 0
                                            measure: *ref_56
                                        selected:
                                          description: >-
                                            This represents the quantity selected
                                            for purchase of the item
                                          type: object
                                          properties:
                                            count:
                                              type: integer
                                              minimum: 0
                                            measure: *ref_56
                                        unitized:
                                          description: >-
                                            This represents the quantity available
                                            in a single unit of the item
                                          type: object
                                          properties:
                                            count:
                                              type: integer
                                              minimum: 1
                                              maximum: 1
                                            measure: *ref_56
                                descriptor:
                                  description: Physical description of the item
                                  allOf:
                                    - *ref_37
                                creator:
                                  description: The creator of this item
                                  allOf:
                                    - *ref_45
                                price:
                                  description: >-
                                    The price of this item, if it has intrinsic
                                    value
                                  allOf:
                                    - &ref_60
                                      description: >-
                                        Describes the price of a product or
                                        service
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        currency:
                                          type: string
                                        value: *ref_34
                                        estimated_value: *ref_34
                                        computed_value: *ref_34
                                        listed_value: *ref_34
                                        offered_value: *ref_34
                                        minimum_value: *ref_34
                                        maximum_value: *ref_34
                                quantity:
                                  description: The selling quantity of the item
                                  allOf:
                                    - *ref_57
                                category_ids:
                                  description: Categories this item can be listed under
                                  type: array
                                  items:
                                    allOf:
                                      - *ref_51
                                fulfillment_ids:
                                  description: >-
                                    Modes through which this item can be
                                    fulfilled
                                  type: array
                                  items:
                                    allOf:
                                      - *ref_58
                                location_ids:
                                  description: Provider Locations this item is available in
                                  type: array
                                  items:
                                    allOf:
                                      - *ref_50
                                payment_ids:
                                  description: >-
                                    Payment modalities through which this item
                                    can be ordered
                                  type: array
                                  items:
                                    allOf:
                                      - *ref_59
                                add_ons:
                                  type: array
                                  items:
                                    description: >-
                                      Describes an additional item offered as a
                                      value-addition to a product or service.
                                      This does not exist independently in a
                                      catalog and is always associated with an
                                      item.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      id:
                                        description: Provider-defined ID of the add-on
                                        type: string
                                      descriptor: *ref_37
                                      price: *ref_60
                                      quantity: *ref_57
                                cancellation_terms:
                                  description: Cancellation terms of this item
                                  type: array
                                  items:
                                    description: >-
                                      Describes the cancellation terms of an
                                      item or an order. This can be referenced
                                      at an item or order level. Item-level
                                      cancellation terms can override the terms
                                      at the order level.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      fulfillment_state:
                                        description: >-
                                          The state of fulfillment during which
                                          this term is applicable.
                                        allOf:
                                          - *ref_61
                                      reason_required:
                                        description: >-
                                          Indicates whether a reason is required
                                          to cancel the order
                                        type: boolean
                                      cancel_by:
                                        description: >-
                                          Information related to the time of
                                          cancellation.
                                        allOf:
                                          - *ref_49
                                      cancellation_fee:
                                        description: A fee applied on a particular entity
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          percentage:
                                            description: Percentage of a value
                                            allOf:
                                              - *ref_34
                                          amount:
                                            description: A fixed value
                                            allOf:
                                              - *ref_60
                                      xinput: &ref_63
                                        description: >-
                                          Contains any additional or extended
                                          inputs required to confirm an order.
                                          This is typically a Form Input.
                                          Sometimes, selection of catalog elements
                                          is not enough for the BPP to confirm an
                                          order. For example, to confirm a flight
                                          ticket, the airline requires details of
                                          the passengers along with information on
                                          baggage, identity, in addition to the
                                          class of ticket. Similarly, a logistics
                                          company may require details on the
                                          nature of shipment in order to confirm
                                          the shipping. A recruiting firm may
                                          require additional details on the
                                          applicant in order to confirm a job
                                          application. For all such purposes, the
                                          BPP can choose to send this object
                                          attached to any object in the catalog
                                          that is required to be sent while
                                          placing the order. This object can
                                          typically be sent at an item level or at
                                          the order level. The item level XInput
                                          will override the Order level XInput as
                                          it indicates a special requirement of
                                          information for that particular item.
                                          Hence the BAP must render a separate
                                          form for the Item and another form at
                                          the Order level before confirmation.
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          head:
                                            description: >-
                                              Provides the header information for the
                                              xinput.
                                            additionalProperties: false
                                            type: object
                                            properties:
                                              descriptor: *ref_37
                                              index:
                                                additionalProperties: false
                                                type: object
                                                properties:
                                                  min:
                                                    type: integer
                                                  cur:
                                                    type: integer
                                                  max:
                                                    type: integer
                                              headings:
                                                type: array
                                                items:
                                                  type: string
                                                  description: The heading names of the forms
                                          form:
                                            description: Describes a form
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                description: The form identifier.
                                                type: string
                                              url:
                                                description: >-
                                                  The URL from where the form can be
                                                  fetched. The content fetched from the
                                                  url must be processed as per the
                                                  mime_type specified in this object. Once
                                                  fetched, the rendering platform can
                                                  choosed to render the form as-is as an
                                                  embeddable element; or process it
                                                  further to blend with the theme of the
                                                  application. In case the interface is
                                                  non-visual, the the render can process
                                                  the form data and reproduce it as per
                                                  the standard specified in the form.
                                                type: string
                                                format: uri
                                              data:
                                                description: The form submission data
                                                type: object
                                                additionalProperties:
                                                  type: string
                                              mime_type:
                                                description: >-
                                                  This field indicates the nature and
                                                  format of the form received by querying
                                                  the url. MIME types are defined and
                                                  standardized in IETF's RFC 6838.
                                                type: string
                                                enum:
                                                  - text/html
                                                  - application/html
                                                  - application/xml
                                              resubmit:
                                                type: boolean
                                              multiple_sumbissions:
                                                type: boolean
                                          form_response:
                                            description: >-
                                              Describes the response to a form
                                              submission
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              status:
                                                description: Contains the status of form submission.
                                                type: string
                                              signature:
                                                type: string
                                              submission_id:
                                                type: string
                                                format: uuid
                                              errors:
                                                type: array
                                                items: &ref_64
                                                  description: >-
                                                    Describes an error object that is
                                                    returned by a BAP, BPP or BG as a
                                                    response or callback to an action by
                                                    another network participant. This object
                                                    is sent when any request received by a
                                                    network participant is unacceptable.
                                                    This object can be sent either during
                                                    Ack or with the callback.
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    code:
                                                      type: string
                                                      description: >-
                                                        Standard error code. For full list of
                                                        error codes, refer to
                                                        docs/protocol-drafts/BECKN-005-ERROR-CODES-DRAFT-01.md
                                                        of this repo"
                                                    paths:
                                                      type: string
                                                      description: >-
                                                        Path to json schema generating the
                                                        error. Used only during json schema
                                                        validation errors
                                                    message:
                                                      type: string
                                                      description: >-
                                                        Human readable message describing the
                                                        error. Used mainly for logging. Not
                                                        recommended to be shown to the user.
                                          required:
                                            description: >-
                                              Indicates whether the form data is
                                              mandatorily required by the BPP to
                                              confirm the order.
                                            type: boolean
                                      external_ref: *ref_62
                                refund_terms:
                                  description: Refund terms of this item
                                  type: array
                                  items:
                                    description: Refund term of an item or an order
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      fulfillment_state:
                                        description: >-
                                          The state of fulfillment during which
                                          this term is applicable.
                                        allOf:
                                          - *ref_40
                                      refund_eligible:
                                        description: >-
                                          Indicates if cancellation will result in
                                          a refund
                                        type: boolean
                                      refund_within:
                                        description: >-
                                          Time within which refund will be
                                          processed after successful cancellation.
                                        allOf:
                                          - *ref_49
                                      refund_amount: *ref_60
                                replacement_terms:
                                  description: >-
                                    Terms that are applicable be met when this
                                    item is replaced
                                  type: array
                                  items:
                                    description: >-
                                      The replacement policy of an item or an
                                      order
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      fulfillment_state:
                                        description: >-
                                          The state of fulfillment during which
                                          this term is applicable.
                                        allOf:
                                          - *ref_40
                                      replace_within:
                                        description: >-
                                          Applicable only for buyer managed
                                          returns where the buyer has to replace
                                          the item before a certain date-time,
                                          failing which they will not be eligible
                                          for replacement
                                        allOf:
                                          - *ref_49
                                      external_ref: *ref_62
                                return_terms:
                                  description: >-
                                    Terms that are applicable when this item is
                                    returned
                                  type: array
                                  items:
                                    description: >-
                                      Describes the return policy of an item or
                                      an order
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      fulfillment_state:
                                        description: >-
                                          The state of fulfillment during which
                                          this term IETF''s applicable.
                                        allOf:
                                          - *ref_40
                                      return_eligible:
                                        description: >-
                                          Indicates whether the item is eligible
                                          for return
                                        type: boolean
                                      return_time:
                                        description: >-
                                          Applicable only for buyer managed
                                          returns where the buyer has to return
                                          the item to the origin before a certain
                                          date-time, failing which they will not
                                          be eligible for refund.
                                        allOf:
                                          - *ref_49
                                      return_location:
                                        description: >-
                                          The location where the item or order
                                          must / will be returned to
                                        allOf:
                                          - *ref_46
                                      fulfillment_managed_by:
                                        description: The entity that will perform the return
                                        type: string
                                        enum:
                                          - CONSUMER
                                          - PROVIDER
                                xinput:
                                  description: >-
                                    Additional input required from the customer
                                    to purchase / avail this item
                                  allOf:
                                    - *ref_63
                                time:
                                  description: >-
                                    Temporal attributes of this item. This
                                    property is used when the item exists on the
                                    catalog only for a limited period of time.
                                  allOf:
                                    - *ref_49
                                rateable:
                                  description: Whether this item can be rated
                                  type: boolean
                                rating:
                                  description: The rating of the item
                                  allOf:
                                    - *ref_38
                                matched:
                                  description: >-
                                    Whether this item is an exact match of the
                                    request
                                  type: boolean
                                related:
                                  description: >-
                                    Whether this item is a related item to the
                                    exactly matched item
                                  type: boolean
                                recommended:
                                  description: >-
                                    Whether this item is a recommended item to a
                                    response
                                  type: boolean
                                ttl:
                                  description: >-
                                    Time to live in seconds for an instance of
                                    this schema
                                  type: string
                                tags:
                                  type: array
                                  items: *ref_48
                          exp:
                            type: string
                            description: Time after which catalog has to be refreshed
                            format: date-time
                          rateable:
                            description: Whether this provider can be rated or not
                            type: boolean
                          ttl:
                            description: >-
                              The time-to-live in seconds, for this object. This
                              can be overriden at deeper levels. A value of -1
                              indicates that this object is not cacheable.
                            type: string
                          tags:
                            type: array
                            items: *ref_48
                    exp:
                      description: Timestamp after which catalog will expire
                      type: string
                      format: date-time
                    ttl:
                      description: Duration in seconds after which this catalog will expire
                      type: string
              required:
                - catalog
            error: *ref_64
          required:
            - context
        select:
          type: object
          properties:
            context:
              allOf:
                - description: >-
                    Every API call in beckn protocol has a context. It provides
                    a high-level overview to the receiver about the nature of
                    the intended transaction. Typically, it is the BAP that sets
                    the transaction context based on the consumer's location and
                    action on their UI. But sometimes, during unsolicited
                    callbacks, the BPP also sets the transaction context but it
                    is usually the same as the context of a previous full-cycle,
                    request-callback interaction between the BAP and the BPP.
                    The context object contains four types of fields.
                    <ol><li>Demographic information about the transaction using
                    fields like `domain`, `country`, and
                    `region`.</li><li>Addressing details like the sending and
                    receiving platform's ID and API
                    URL.</li><li>Interoperability information like the protocol
                    version that implemented by the sender
                    and,</li><li>Transaction details like the method being
                    called at the receiver's endpoint, the transaction_id that
                    represents an end-to-end user session at the BAP, a message
                    ID to pair requests with callbacks, a timestamp to capture
                    sending times, a ttl to specifiy the validity of the
                    request, and a key to encrypt information if
                    necessary.</li></ol> This object must be passed in every
                    interaction between a BAP and a BPP. In HTTP/S
                    implementations, it is not necessary to send the context
                    during the synchronous response. However, in asynchronous
                    protocols, the context must be sent during all interactions,
                  type: object
                  additionalProperties: false
                  properties:
                    domain:
                      description: Domain code that is relevant to this transaction context
                      allOf:
                        - type: string
                          description: >-
                            Standard code representing the domain. The standard
                            is usually published as part of the network policy.
                            Furthermore, the network facilitator should also
                            provide a mechanism to provide the supported domains
                            of a network.
                    location:
                      description: >-
                        The location where the transaction is intended to be
                        fulfilled.
                      allOf:
                        - &ref_82
                          description: The physical location of something
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_83
                              type: string
                            descriptor: &ref_69
                              description: Physical description of something.
                              type: object
                              additionalProperties: false
                              properties:
                                name:
                                  type: string
                                code:
                                  type: string
                                short_desc:
                                  type: string
                                long_desc:
                                  type: string
                                additional_desc:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                                    content_type:
                                      type: string
                                      enum:
                                        - text/plain
                                        - text/html
                                        - application/json
                                media:
                                  type: array
                                  items: &ref_91
                                    description: >-
                                      This object contains a url to a media
                                      file.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      mimetype:
                                        description: >-
                                          indicates the nature and format of the
                                          document, file, or assortment of bytes.
                                          MIME types are defined and standardized
                                          in IETF's RFC 6838
                                        type: string
                                      url:
                                        description: The URL of the file
                                        type: string
                                        format: uri
                                      signature:
                                        description: >-
                                          The digital signature of the file signed
                                          by the sender
                                        type: string
                                      dsa:
                                        description: The signing algorithm used by the sender
                                        type: string
                                images:
                                  type: array
                                  items: &ref_77
                                    description: Describes an image
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      url:
                                        description: >-
                                          URL to the image. This can be a data url
                                          or an remote url
                                        type: string
                                        format: uri
                                      size_type:
                                        description: >-
                                          The size of the image. The network
                                          policy can define the default dimensions
                                          of each type
                                        type: string
                                        enum:
                                          - xs
                                          - sm
                                          - md
                                          - lg
                                          - xl
                                          - custom
                                      width:
                                        description: Width of the image in pixels
                                        type: string
                                      height:
                                        description: Height of the image in pixels
                                        type: string
                            map_url:
                              description: >-
                                The url to the map of the location. This can be
                                a globally recognized map url or the one
                                specified by the network policy.
                              type: string
                              format: uri
                            gps:
                              description: The GPS co-ordinates of this location.
                              allOf:
                                - &ref_65
                                  description: Describes a GPS coordinate
                                  type: string
                                  pattern: >-
                                    ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                            address:
                              description: The address of this location.
                              allOf:
                                - &ref_74
                                  description: Describes a postal address.
                                  type: string
                            city:
                              description: The city this location is, or is located within
                              allOf:
                                - &ref_76
                                  description: Describes a city
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      description: Name of the city
                                      type: string
                                    code:
                                      description: City code
                                      type: string
                            district:
                              description: The state this location is, or is located within
                              type: string
                            state:
                              description: The state this location is, or is located within
                              allOf:
                                - &ref_75
                                  description: >-
                                    A bounded geopolitical region of governance
                                    inside a country.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the state
                                    code:
                                      type: string
                                      description: >-
                                        State code as per country or
                                        international standards
                            country:
                              description: >-
                                The country this location is, or is located
                                within
                              allOf:
                                - description: Describes a country
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the country
                                    code:
                                      type: string
                                      description: >-
                                        Country code as per ISO 3166-1 and ISO
                                        3166-2 format
                            area_code:
                              type: string
                            circle:
                              description: >-
                                Describes a circular region of a specified
                                radius centered at a specified GPS coordinate.
                              type: object
                              additionalProperties: false
                              properties:
                                gps: *ref_65
                                radius: &ref_85
                                  description: Describes a scalar
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - CONSTANT
                                        - VARIABLE
                                    value: &ref_66
                                      description: >-
                                        Describes a numerical value in decimal
                                        form
                                      type: string
                                      pattern: '[+-]?([0-9]*[.])?[0-9]+'
                                    estimated_value: *ref_66
                                    computed_value: *ref_66
                                    range:
                                      type: object
                                      properties:
                                        min: *ref_66
                                        max: *ref_66
                                    unit:
                                      type: string
                            polygon:
                              description: The boundary polygon of this location
                              type: string
                            3dspace:
                              description: >-
                                The three dimensional region describing this
                                location
                              type: string
                            rating:
                              description: The rating of this location
                              allOf:
                                - &ref_70
                                  description: >-
                                    Rating value given to the object. This can
                                    be a single value or can also contain an
                                    inequality operator like gt, gte, lt, lte.
                                    This can also contain an inequality
                                    expression containing logical operators like
                                    && and ||.
                                  type: string
                    action:
                      description: >-
                        The Beckn protocol method being called by the sender and
                        executed at the receiver.
                      type: string
                    version:
                      type: string
                      description: >-
                        Version of transaction protocol being used by the
                        sender.
                    bap_id:
                      description: Subscriber ID of the BAP
                      allOf:
                        - &ref_67
                          description: >-
                            A globally unique identifier of the platform,
                            Typically it is the fully qualified domain name
                            (FQDN) of the platform.
                          type: string
                    bap_uri:
                      description: >-
                        Subscriber URL of the BAP for accepting callbacks from
                        BPPs.
                      allOf:
                        - &ref_68
                          description: >-
                            The callback URL of the Subscriber. This should
                            necessarily contain the same domain name as set in
                            `subscriber_id``.
                          type: string
                          format: uri
                    bpp_id:
                      description: Subscriber ID of the BPP
                      allOf:
                        - *ref_67
                    bpp_uri:
                      description: Subscriber URL of the BPP for accepting calls from BAPs.
                      allOf:
                        - *ref_68
                    transaction_id:
                      description: >-
                        This is a unique value which persists across all API
                        calls from `search` through `confirm`. This is done to
                        indicate an active user session across multiple
                        requests. The BPPs can use this value to push
                        personalized recommendations, and dynamic offerings
                        related to an ongoing transaction despite being unaware
                        of the user active on the BAP.
                      type: string
                      format: uuid
                    message_id:
                      description: >-
                        This is a unique value which persists during a request /
                        callback cycle. Since beckn protocol APIs are
                        asynchronous, BAPs need a common value to match an
                        incoming callback from a BPP to an earlier call. This
                        value can also be used to ignore duplicate messages
                        coming from the BPP. It is recommended to generate a
                        fresh message_id for every new interaction. When sending
                        unsolicited callbacks, BPPs must generate a new
                        message_id.
                      type: string
                      format: uuid
                    timestamp:
                      description: Time of request generation in RFC3339 format
                      type: string
                      format: date-time
                    key:
                      description: The encryption public key of the sender
                      type: string
                    ttl:
                      description: >-
                        The duration in ISO8601 format after timestamp for which
                        this message holds valid
                      type: string
                - type: object
                  properties:
                    action:
                      enum:
                        - select
                  required:
                    - action
            message:
              type: object
              properties:
                order:
                  description: >-
                    Describes a legal purchase order. It contains the complete
                    details of the legal contract created between the buyer and
                    the seller.
                  type: object
                  additionalProperties: false
                  properties:
                    id:
                      type: string
                      description: >-
                        Human-readable ID of the order. This is generated at the
                        BPP layer. The BPP can either generate order id within
                        its system or forward the order ID created at the
                        provider level.
                    ref_order_ids:
                      description: >-
                        A list of order IDs to link this order to previous
                        orders.
                      type: array
                      items:
                        type: string
                        description: ID of a previous order
                    status:
                      description: >-
                        Status of the order. Allowed values can be defined by
                        the network policy
                      type: string
                      enum:
                        - ACTIVE
                        - COMPLETE
                        - CANCELLED
                    type:
                      description: >-
                        This is used to indicate the type of order being created
                        to BPPs. Sometimes orders can be linked to previous
                        orders, like a replacement order in a retail domain. A
                        follow-up consultation in healthcare domain. A single
                        order part of a subscription order. The list of order
                        types can be standardized at the network level.
                      type: string
                      default: DEFAULT
                      enum:
                        - DRAFT
                        - DEFAULT
                    provider:
                      description: >-
                        Details of the provider whose catalog items have been
                        selected.
                      allOf:
                        - description: Describes the catalog of a business.
                          type: object
                          properties:
                            id:
                              type: string
                              description: Id of the provider
                            descriptor: *ref_69
                            category_id:
                              type: string
                              description: >-
                                Category Id of the provider at the BPP-level
                                catalog
                            rating: *ref_70
                            time: &ref_73
                              description: >-
                                Describes time in its various forms. It can be a
                                single point in time; duration; or a structured
                                timetable of operations<br>This has properties
                                like label, time stamp,duration,range, days,
                                schedule
                              type: object
                              additionalProperties: false
                              properties:
                                label:
                                  type: string
                                timestamp:
                                  type: string
                                  format: date-time
                                duration: &ref_71
                                  description: Describes duration as per ISO8601 format
                                  type: string
                                range:
                                  type: object
                                  properties:
                                    start:
                                      type: string
                                      format: date-time
                                    end:
                                      type: string
                                      format: date-time
                                days:
                                  type: string
                                  description: >-
                                    comma separated values representing days of
                                    the week
                                schedule:
                                  description: >-
                                    Describes schedule as a repeating time
                                    period used to describe a regularly
                                    recurring event. At a minimum a schedule
                                    will specify frequency which describes the
                                    interval between occurrences of the event.
                                    Additional information can be provided to
                                    specify the schedule more precisely. This
                                    includes identifying the timestamps(s) of
                                    when the event will take place. Schedules
                                    may also have holidays to exclude a specific
                                    day from the schedule.<br>This has
                                    properties like frequency, holidays, times
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    frequency: *ref_71
                                    holidays:
                                      type: array
                                      items:
                                        type: string
                                        format: date-time
                                    times:
                                      type: array
                                      items:
                                        type: string
                                        format: date-time
                            categories:
                              type: array
                              items:
                                description: >-
                                  A label under which a collection of items can
                                  be grouped.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_72
                                    description: ID of the category
                                    type: string
                                  parent_category_id: *ref_72
                                  descriptor: *ref_69
                                  time: *ref_73
                                  ttl:
                                    description: >-
                                      Time to live for an instance of this
                                      schema
                                  tags:
                                    type: array
                                    items: &ref_78
                                      description: >-
                                        A collection of tag objects with group
                                        level attributes. For detailed
                                        documentation on the Tags and Tag Groups
                                        schema go to
                                        https://github.com/beckn/protocol-specifications/discussions/316
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        display:
                                          description: >-
                                            Indicates the display properties of the
                                            tag group. If display is set to false,
                                            then the group will not be displayed. If
                                            it is set to true, it should be
                                            displayed. However, group-level display
                                            properties can be overriden by
                                            individual tag-level display property.
                                            As this schema is purely for catalog
                                            display purposes, it is not recommended
                                            to send this value during search.
                                          type: boolean
                                          default: true
                                        descriptor:
                                          description: >-
                                            Description of the TagGroup, can be used
                                            to store detailed information.
                                          allOf:
                                            - *ref_69
                                        list:
                                          description: >-
                                            An array of Tag objects listed under
                                            this group. This property can be set by
                                            BAPs during search to narrow the
                                            `search` and achieve more relevant
                                            results. When received during
                                            `on_search`, BAPs must render this list
                                            under the heading described by the
                                            `name` property of this schema.
                                          type: array
                                          items:
                                            description: >-
                                              Describes a tag. This is used to contain
                                              extended metadata. This object can be
                                              added as a property to any schema to
                                              describe extended attributes. For BAPs,
                                              tags can be sent during search to
                                              optimize and filter search results. BPPs
                                              can use tags to index their catalog to
                                              allow better search functionality. Tags
                                              are sent by the BPP as part of the
                                              catalog response in the `on_search`
                                              callback. Tags are also meant for
                                              display purposes. Upon receiving a tag,
                                              BAPs are meant to render them as
                                              name-value pairs. This is particularly
                                              useful when rendering tabular
                                              information about a product or service.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              descriptor:
                                                description: >-
                                                  Description of the Tag, can be used to
                                                  store detailed information.
                                                allOf:
                                                  - *ref_69
                                              value:
                                                description: >-
                                                  The value of the tag. This set by the
                                                  BPP and rendered as-is by the BAP.
                                                type: string
                                              display:
                                                description: >-
                                                  This value indicates if the tag is
                                                  intended for display purposes. If set to
                                                  `true`, then this tag must be displayed.
                                                  If it is set to `false`, it should not
                                                  be displayed. This value can override
                                                  the group display value.
                                                type: boolean
                            fulfillments:
                              type: array
                              items: &ref_96
                                description: >-
                                  Describes how a an order will be
                                  rendered/fulfilled to the end-customer
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_87
                                    description: >-
                                      Unique reference ID to the fulfillment of
                                      an order
                                    type: string
                                  type:
                                    description: >-
                                      A code that describes the mode of
                                      fulfillment. This is typically set when
                                      there are multiple ways an order can be
                                      fulfilled. For example, a retail order can
                                      be fulfilled either via store pickup or a
                                      home delivery. Similarly, a medical
                                      consultation can be provided either
                                      in-person or via tele-consultation. The
                                      network policy must publish standard
                                      fulfillment type codes for the different
                                      modes of fulfillment.
                                    type: string
                                  rateable:
                                    description: >-
                                      Whether the fulfillment can be rated or
                                      not
                                    type: boolean
                                  rating:
                                    description: >-
                                      The rating value of the fulfullment
                                      service.
                                    allOf:
                                      - *ref_70
                                  state:
                                    description: >-
                                      The current state of fulfillment. The BPP
                                      must set this value whenever the state of
                                      the order fulfillment changes and fire an
                                      unsolicited `on_status` call.
                                    allOf:
                                      - &ref_90
                                        description: Describes the state of fulfillment
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          descriptor: *ref_69
                                          updated_at:
                                            type: string
                                            format: date-time
                                          updated_by:
                                            type: string
                                            description: ID of entity which changed the state
                                  tracking:
                                    type: boolean
                                    description: >-
                                      Indicates whether the fulfillment allows
                                      tracking
                                    default: false
                                  customer:
                                    description: >-
                                      The person that will ultimately receive
                                      the order
                                    allOf:
                                      - description: >-
                                          Describes a customer buying/availing a
                                          product or a service
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          organization: &ref_81
                                            description: >-
                                              An organization. Usually a recognized
                                              business entity.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              descriptor: *ref_69
                                              address:
                                                description: The postal address of the organization
                                                allOf:
                                                  - *ref_74
                                              state:
                                                description: >-
                                                  The state where the organization's
                                                  address is registered
                                                allOf:
                                                  - *ref_75
                                              city:
                                                description: >-
                                                  The city where the the organization's
                                                  address is registered
                                                allOf:
                                                  - *ref_76
                                              contact: &ref_79
                                                description: >-
                                                  Describes the contact information of an
                                                  entity
                                                type: object
                                                additionalProperties: false
                                                properties:
                                                  phone:
                                                    type: string
                                                  email:
                                                    type: string
                                                  jcard:
                                                    type: object
                                                    description: >-
                                                      A Jcard object as per
                                                      draft-ietf-jcardcal-jcard-03
                                                      specification
                                          person: &ref_80
                                            description: Describes a person as any individual
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                                description: Describes the identity of the person
                                              url:
                                                description: Profile url of the person
                                                type: string
                                                format: uri
                                              name:
                                                description: the name of the person
                                                type: string
                                              image: *ref_77
                                              age:
                                                description: Age of the person
                                                allOf:
                                                  - *ref_71
                                              dob:
                                                description: Date of birth of the person
                                                type: string
                                                format: date
                                              gender:
                                                type: string
                                                description: >-
                                                  Gender of something, typically a Person,
                                                  but possibly also fictional characters,
                                                  animals, etc. While Male and Female may
                                                  be used, text strings are also
                                                  acceptable for people who do not
                                                  identify as a binary gender.Allowed
                                                  values for this field can be published
                                                  in the network policy
                                              creds:
                                                type: array
                                                items:
                                                  description: >-
                                                    Describes a credential of an entity -
                                                    Person or Organization
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    id:
                                                      type: string
                                                    type:
                                                      type: string
                                                      default: VerifiableCredential
                                                    url:
                                                      description: URL of the credential
                                                      type: string
                                                      format: uri
                                              languages:
                                                type: array
                                                items:
                                                  description: >-
                                                    Describes a language known to the
                                                    person.
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    code:
                                                      type: string
                                                    name:
                                                      type: string
                                              skills:
                                                type: array
                                                items:
                                                  description: Describes a skill of the person.
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    code:
                                                      type: string
                                                    name:
                                                      type: string
                                              tags:
                                                type: array
                                                items: *ref_78
                                          contact: *ref_79
                                  agent:
                                    description: >-
                                      The agent that is currently handling the
                                      fulfillment of the order
                                    allOf:
                                      - description: >-
                                          Describes the direct performer, driver
                                          or executor that fulfills an order. It
                                          is usually a person. But in some rare
                                          cases, it could be a non-living entity
                                          like a drone, or a bot. Some examples of
                                          agents are Doctor in the healthcare
                                          sector, a driver in the mobility sector,
                                          or a delivery person in the logistics
                                          sector. This object can be set at any
                                          stage of the order lifecycle. This can
                                          be set at the discovery stage when the
                                          BPP wants to provide details on the
                                          agent fulfilling the order, like in
                                          healthcare, where the doctor's name
                                          appears during search. This object can
                                          also used to search for a particular
                                          person that the customer wants
                                          fulfilling an order. Sometimes, this
                                          object gets instantiated after the order
                                          is confirmed, like in the case of
                                          on-demand taxis, where the driver is
                                          assigned after the user confirms the
                                          ride.
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          person: *ref_80
                                          contact: *ref_79
                                          organization: *ref_81
                                          rating: *ref_70
                                  contact: *ref_79
                                  vehicle:
                                    description: >-
                                      Describes a vehicle is a device that is
                                      designed or used to transport people or
                                      cargo over land, water, air, or through
                                      space.<br>This has properties like
                                      category, capacity, make, model,
                                      size,variant,color,energy_type,registration
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      category:
                                        type: string
                                      capacity:
                                        type: integer
                                      make:
                                        type: string
                                      model:
                                        type: string
                                      size:
                                        type: string
                                      variant:
                                        type: string
                                      color:
                                        type: string
                                      energy_type:
                                        type: string
                                      registration:
                                        type: string
                                      wheels_count:
                                        type: string
                                      cargo_volumne:
                                        type: string
                                      wheelchair_access:
                                        type: string
                                      code:
                                        type: string
                                      emission_standard:
                                        type: string
                                  stops:
                                    description: >-
                                      The list of logical stops encountered
                                      during the fulfillment of an order.
                                    type: array
                                    items:
                                      description: >-
                                        A logical point in space and time during
                                        the fulfillment of an order.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                        parent_stop_id:
                                          type: string
                                        location:
                                          description: Location of the stop
                                          allOf:
                                            - *ref_82
                                        type:
                                          description: >-
                                            The type of stop. Allowed values of this
                                            property can be defined by the network
                                            policy.
                                          type: string
                                        time:
                                          description: Timings applicable at the stop.
                                          allOf:
                                            - *ref_73
                                        instructions:
                                          description: >-
                                            Instructions that need to be followed at
                                            the stop
                                          allOf:
                                            - *ref_69
                                        contact:
                                          description: Contact details of the stop
                                          allOf:
                                            - *ref_79
                                        person:
                                          description: >-
                                            The details of the person present at the
                                            stop
                                          allOf:
                                            - *ref_80
                                        authorization:
                                          description: >-
                                            Describes an authorization mechanism
                                            used to start or end the fulfillment of
                                            an order. For example, in the mobility
                                            sector, the driver may require a
                                            one-time password to initiate the ride.
                                            In the healthcare sector, a patient may
                                            need to provide a password to open a
                                            video conference link during a
                                            teleconsultation.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            type:
                                              description: >-
                                                Type of authorization mechanism used.
                                                The allowed values for this field can be
                                                published as part of the network policy.
                                              type: string
                                            token:
                                              description: >-
                                                Token used for authorization. This is
                                                typically generated at the BPP. The BAP
                                                can send this value to the user via any
                                                channel that it uses to authenticate the
                                                user like SMS, Email, Push notification,
                                                or in-app rendering.
                                              type: string
                                            valid_from:
                                              description: >-
                                                Timestamp in RFC3339 format from which
                                                token is valid
                                              type: string
                                              format: date-time
                                            valid_to:
                                              description: >-
                                                Timestamp in RFC3339 format until which
                                                token is valid
                                              type: string
                                              format: date-time
                                            status:
                                              description: Status of the token
                                              type: string
                                  path:
                                    description: >-
                                      The physical path taken by the agent that
                                      can be rendered on a map. The allowed
                                      format of this property can be set by the
                                      network.
                                    type: string
                                  tags:
                                    type: array
                                    items: *ref_78
                            payments:
                              type: array
                              items: &ref_101
                                description: >-
                                  Describes the terms of settlement between the
                                  BAP and the BPP for a single transaction. When
                                  instantiated, this object contains <ol><li>the
                                  amount that has to be settled,</li><li>The
                                  payment destination destination
                                  details</li><li>When the settlement should
                                  happen, and</li><li>A transaction reference
                                  ID</li></ol>. During a transaction, the BPP
                                  reserves the right to decide the terms of
                                  payment. However, the BAP can send its terms
                                  to the BPP first. If the BPP does not agree to
                                  those terms, it must overwrite the terms and
                                  return them to the BAP. If overridden, the BAP
                                  must either agree to the terms sent by the BPP
                                  in order to preserve the provider's autonomy,
                                  or abort the transaction. In case of such
                                  disagreements, the BAP and the BPP can perform
                                  offline negotiations on the payment terms.
                                  Once an agreement is reached, the BAP and BPP
                                  can resume transactions.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_88
                                    description: >-
                                      ID of the payment term that can be
                                      referred at an item or an order level in a
                                      catalog
                                    type: string
                                  collected_by:
                                    description: >-
                                      This field indicates who is the collector
                                      of payment. The BAP can set this value to
                                      'bap' if it wants to collect the payment
                                      first and  settle it to the BPP. If the
                                      BPP agrees to those terms, the BPP should
                                      not send the payment url. Alternatively,
                                      the BPP can set this field with the value
                                      'bpp' if it wants the payment to be made
                                      directly.
                                    type: string
                                  url:
                                    type: string
                                    description: >-
                                      A payment url to be called by the BAP. If
                                      empty, then the payment is to be done
                                      offline. The details of payment should be
                                      present in the params object. If tl_method
                                      = http/get, then the payment details will
                                      be sent as url params. Two url param
                                      values, ```$transaction_id``` and
                                      ```$amount``` are mandatory.
                                    format: uri
                                  params:
                                    type: object
                                    properties:
                                      transaction_id:
                                        type: string
                                        description: >-
                                          The reference transaction ID associated
                                          with a payment activity
                                      amount:
                                        type: string
                                      currency:
                                        type: string
                                      bank_code:
                                        type: string
                                      bank_account_number:
                                        type: string
                                      virtual_payment_address:
                                        type: string
                                      source_bank_code:
                                        type: string
                                      source_bank_account_number:
                                        type: string
                                      source_virtual_payment_address:
                                        type: string
                                  type:
                                    type: string
                                    enum:
                                      - PRE-ORDER
                                      - PRE-FULFILLMENT
                                      - ON-FULFILLMENT
                                      - POST-FULFILLMENT
                                      - ON-ORDER
                                  status:
                                    type: string
                                    enum:
                                      - PAID
                                      - NOT-PAID
                                  time: *ref_73
                                  tags:
                                    type: array
                                    items: *ref_78
                            locations:
                              type: array
                              items: *ref_82
                            offers:
                              type: array
                              items: &ref_95
                                description: >-
                                  An offer associated with a catalog. This is
                                  typically used to promote a particular product
                                  and enable more purchases.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  descriptor: *ref_69
                                  location_ids:
                                    type: array
                                    items: *ref_83
                                  category_ids:
                                    type: array
                                    items: *ref_72
                                  item_ids:
                                    type: array
                                    items: &ref_84
                                      description: ID of the item.
                                      type: string
                                  time: *ref_73
                                  tags:
                                    type: array
                                    items: *ref_78
                            items:
                              type: array
                              items: &ref_93
                                description: >-
                                  Describes a product or a service offered to
                                  the end consumer by the provider. In the
                                  mobility sector, it can represent a fare
                                  product like one way journey. In the logistics
                                  sector, it can represent the delivery service
                                  offering. In the retail domain it can
                                  represent a product like a grocery item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: *ref_84
                                  parent_item_id:
                                    description: ID of the item, this item is a variant of
                                    allOf:
                                      - *ref_84
                                  parent_item_quantity:
                                    description: >-
                                      The number of units of the parent item
                                      this item is a multiple of
                                    allOf:
                                      - &ref_86
                                        description: Describes the count or amount of an item
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          allocated:
                                            description: >-
                                              This represents the exact quantity
                                              allocated for purchase of the item.
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_85
                                          available:
                                            description: >-
                                              This represents the exact quantity
                                              available for purchase of the item. The
                                              buyer can only purchase multiples of
                                              this
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_85
                                          maximum:
                                            description: >-
                                              This represents the maximum quantity
                                              allowed for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 1
                                              measure: *ref_85
                                          minimum:
                                            description: >-
                                              This represents the minimum quantity
                                              allowed for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_85
                                          selected:
                                            description: >-
                                              This represents the quantity selected
                                              for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_85
                                          unitized:
                                            description: >-
                                              This represents the quantity available
                                              in a single unit of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 1
                                                maximum: 1
                                              measure: *ref_85
                                  descriptor:
                                    description: Physical description of the item
                                    allOf:
                                      - *ref_69
                                  creator:
                                    description: The creator of this item
                                    allOf:
                                      - *ref_81
                                  price:
                                    description: >-
                                      The price of this item, if it has
                                      intrinsic value
                                    allOf:
                                      - &ref_89
                                        description: >-
                                          Describes the price of a product or
                                          service
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          currency:
                                            type: string
                                          value: *ref_66
                                          estimated_value: *ref_66
                                          computed_value: *ref_66
                                          listed_value: *ref_66
                                          offered_value: *ref_66
                                          minimum_value: *ref_66
                                          maximum_value: *ref_66
                                  quantity:
                                    description: The selling quantity of the item
                                    allOf:
                                      - *ref_86
                                  category_ids:
                                    description: Categories this item can be listed under
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_72
                                  fulfillment_ids:
                                    description: >-
                                      Modes through which this item can be
                                      fulfilled
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_87
                                  location_ids:
                                    description: >-
                                      Provider Locations this item is available
                                      in
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_83
                                  payment_ids:
                                    description: >-
                                      Payment modalities through which this item
                                      can be ordered
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_88
                                  add_ons:
                                    type: array
                                    items: &ref_94
                                      description: >-
                                        Describes an additional item offered as
                                        a value-addition to a product or
                                        service. This does not exist
                                        independently in a catalog and is always
                                        associated with an item.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          description: Provider-defined ID of the add-on
                                          type: string
                                        descriptor: *ref_69
                                        price: *ref_89
                                        quantity: *ref_86
                                  cancellation_terms:
                                    description: Cancellation terms of this item
                                    type: array
                                    items: &ref_97
                                      description: >-
                                        Describes the cancellation terms of an
                                        item or an order. This can be referenced
                                        at an item or order level. Item-level
                                        cancellation terms can override the
                                        terms at the order level.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_90
                                        reason_required:
                                          description: >-
                                            Indicates whether a reason is required
                                            to cancel the order
                                          type: boolean
                                        cancel_by:
                                          description: >-
                                            Information related to the time of
                                            cancellation.
                                          allOf:
                                            - *ref_73
                                        cancellation_fee:
                                          description: A fee applied on a particular entity
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            percentage:
                                              description: Percentage of a value
                                              allOf:
                                                - *ref_66
                                            amount:
                                              description: A fixed value
                                              allOf:
                                                - *ref_89
                                        xinput: &ref_92
                                          description: >-
                                            Contains any additional or extended
                                            inputs required to confirm an order.
                                            This is typically a Form Input.
                                            Sometimes, selection of catalog elements
                                            is not enough for the BPP to confirm an
                                            order. For example, to confirm a flight
                                            ticket, the airline requires details of
                                            the passengers along with information on
                                            baggage, identity, in addition to the
                                            class of ticket. Similarly, a logistics
                                            company may require details on the
                                            nature of shipment in order to confirm
                                            the shipping. A recruiting firm may
                                            require additional details on the
                                            applicant in order to confirm a job
                                            application. For all such purposes, the
                                            BPP can choose to send this object
                                            attached to any object in the catalog
                                            that is required to be sent while
                                            placing the order. This object can
                                            typically be sent at an item level or at
                                            the order level. The item level XInput
                                            will override the Order level XInput as
                                            it indicates a special requirement of
                                            information for that particular item.
                                            Hence the BAP must render a separate
                                            form for the Item and another form at
                                            the Order level before confirmation.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            head:
                                              description: >-
                                                Provides the header information for the
                                                xinput.
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                descriptor: *ref_69
                                                index:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    min:
                                                      type: integer
                                                    cur:
                                                      type: integer
                                                    max:
                                                      type: integer
                                                headings:
                                                  type: array
                                                  items:
                                                    type: string
                                                    description: The heading names of the forms
                                            form:
                                              description: Describes a form
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                id:
                                                  description: The form identifier.
                                                  type: string
                                                url:
                                                  description: >-
                                                    The URL from where the form can be
                                                    fetched. The content fetched from the
                                                    url must be processed as per the
                                                    mime_type specified in this object. Once
                                                    fetched, the rendering platform can
                                                    choosed to render the form as-is as an
                                                    embeddable element; or process it
                                                    further to blend with the theme of the
                                                    application. In case the interface is
                                                    non-visual, the the render can process
                                                    the form data and reproduce it as per
                                                    the standard specified in the form.
                                                  type: string
                                                  format: uri
                                                data:
                                                  description: The form submission data
                                                  type: object
                                                  additionalProperties:
                                                    type: string
                                                mime_type:
                                                  description: >-
                                                    This field indicates the nature and
                                                    format of the form received by querying
                                                    the url. MIME types are defined and
                                                    standardized in IETF's RFC 6838.
                                                  type: string
                                                  enum:
                                                    - text/html
                                                    - application/html
                                                    - application/xml
                                                resubmit:
                                                  type: boolean
                                                multiple_sumbissions:
                                                  type: boolean
                                            form_response:
                                              description: >-
                                                Describes the response to a form
                                                submission
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                status:
                                                  description: Contains the status of form submission.
                                                  type: string
                                                signature:
                                                  type: string
                                                submission_id:
                                                  type: string
                                                errors:
                                                  type: array
                                                  items:
                                                    description: >-
                                                      Describes an error object that is
                                                      returned by a BAP, BPP or BG as a
                                                      response or callback to an action by
                                                      another network participant. This object
                                                      is sent when any request received by a
                                                      network participant is unacceptable.
                                                      This object can be sent either during
                                                      Ack or with the callback.
                                                    type: object
                                                    additionalProperties: false
                                                    properties:
                                                      code:
                                                        type: string
                                                        description: >-
                                                          Standard error code. For full list of
                                                          error codes, refer to
                                                          docs/protocol-drafts/BECKN-005-ERROR-CODES-DRAFT-01.md
                                                          of this repo"
                                                      paths:
                                                        type: string
                                                        description: >-
                                                          Path to json schema generating the
                                                          error. Used only during json schema
                                                          validation errors
                                                      message:
                                                        type: string
                                                        description: >-
                                                          Human readable message describing the
                                                          error. Used mainly for logging. Not
                                                          recommended to be shown to the user.
                                            required:
                                              description: >-
                                                Indicates whether the form data is
                                                mandatorily required by the BPP to
                                                confirm the order.
                                              type: boolean
                                        external_ref: *ref_91
                                  refund_terms:
                                    description: Refund terms of this item
                                    type: array
                                    items: &ref_98
                                      description: Refund term of an item or an order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_75
                                        refund_eligible:
                                          description: >-
                                            Indicates if cancellation will result in
                                            a refund
                                          type: boolean
                                        refund_within:
                                          description: >-
                                            Time within which refund will be
                                            processed after successful cancellation.
                                          allOf:
                                            - *ref_73
                                        refund_amount: *ref_89
                                  replacement_terms:
                                    description: >-
                                      Terms that are applicable be met when this
                                      item is replaced
                                    type: array
                                    items: &ref_99
                                      description: >-
                                        The replacement policy of an item or an
                                        order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_75
                                        replace_within:
                                          description: >-
                                            Applicable only for buyer managed
                                            returns where the buyer has to replace
                                            the item before a certain date-time,
                                            failing which they will not be eligible
                                            for replacement
                                          allOf:
                                            - *ref_73
                                        external_ref: *ref_91
                                  return_terms:
                                    description: >-
                                      Terms that are applicable when this item
                                      is returned
                                    type: array
                                    items: &ref_100
                                      description: >-
                                        Describes the return policy of an item
                                        or an order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term IETF''s applicable.
                                          allOf:
                                            - *ref_75
                                        return_eligible:
                                          description: >-
                                            Indicates whether the item is eligible
                                            for return
                                          type: boolean
                                        return_time:
                                          description: >-
                                            Applicable only for buyer managed
                                            returns where the buyer has to return
                                            the item to the origin before a certain
                                            date-time, failing which they will not
                                            be eligible for refund.
                                          allOf:
                                            - *ref_73
                                        return_location:
                                          description: >-
                                            The location where the item or order
                                            must / will be returned to
                                          allOf:
                                            - *ref_82
                                        fulfillment_managed_by:
                                          description: The entity that will perform the return
                                          type: string
                                          enum:
                                            - CONSUMER
                                            - PROVIDER
                                  xinput:
                                    description: >-
                                      Additional input required from the
                                      customer to purchase / avail this item
                                    allOf:
                                      - *ref_92
                                  time:
                                    description: >-
                                      Temporal attributes of this item. This
                                      property is used when the item exists on
                                      the catalog only for a limited period of
                                      time.
                                    allOf:
                                      - *ref_73
                                  rateable:
                                    description: Whether this item can be rated
                                    type: boolean
                                  rating:
                                    description: The rating of the item
                                    allOf:
                                      - *ref_70
                                  matched:
                                    description: >-
                                      Whether this item is an exact match of the
                                      request
                                    type: boolean
                                  related:
                                    description: >-
                                      Whether this item is a related item to the
                                      exactly matched item
                                    type: boolean
                                  recommended:
                                    description: >-
                                      Whether this item is a recommended item to
                                      a response
                                    type: boolean
                                  ttl:
                                    description: >-
                                      Time to live in seconds for an instance of
                                      this schema
                                    type: string
                                  tags:
                                    type: array
                                    items: *ref_78
                            exp:
                              type: string
                              description: Time after which catalog has to be refreshed
                              format: date-time
                            rateable:
                              description: Whether this provider can be rated or not
                              type: boolean
                            ttl:
                              description: >-
                                The time-to-live in seconds, for this object.
                                This can be overriden at deeper levels. A value
                                of -1 indicates that this object is not
                                cacheable.
                              type: string
                            tags:
                              type: array
                              items: *ref_78
                    items:
                      description: The items purchased / availed in this order
                      type: array
                      items: *ref_93
                    add_ons:
                      description: The add-ons purchased / availed in this order
                      type: array
                      items: *ref_94
                    offers:
                      description: The offers applied in this order
                      type: array
                      items: *ref_95
                    billing:
                      description: The billing details of this order
                      allOf:
                        - description: >-
                            Describes the billing details of an entity.<br>This
                            has properties like
                            name,organization,address,email,phone,time,tax_number,
                            created_at,updated_at
                          type: object
                          additionalProperties: false
                          properties:
                            name:
                              description: Name of the billable entity
                              type: string
                            organization:
                              description: Details of the organization being billed.
                              allOf:
                                - *ref_81
                            address:
                              description: The address of the billable entity
                              allOf:
                                - *ref_74
                            state:
                              description: >-
                                The state where the billable entity resides.
                                This is important for state-level tax
                                calculation
                              allOf:
                                - *ref_75
                            city:
                              description: The city where the billable entity resides.
                              allOf:
                                - *ref_76
                            email:
                              description: Email address where the bill is sent to
                              type: string
                              format: email
                            phone:
                              description: Phone number of the billable entity
                              type: string
                            time:
                              description: Details regarding the billing period
                              allOf:
                                - *ref_73
                            tax_id:
                              description: >-
                                ID of the billable entity as recognized by the
                                taxation authority
                              type: string
                    fulfillments:
                      description: The fulfillments involved in completing this order
                      type: array
                      items: *ref_96
                    cancellation:
                      description: The cancellation details of this order
                      allOf:
                        - description: Describes a cancellation event
                          type: object
                          additionalProperties: false
                          properties:
                            time:
                              description: >-
                                Date-time when the order was cancelled by the
                                buyer
                              type: string
                              format: date-time
                            cancelled_by:
                              type: string
                              enum:
                                - CONSUMER
                                - PROVIDER
                            reason:
                              description: The reason for cancellation
                              allOf:
                                - description: Describes a selectable option
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    id:
                                      type: string
                                    descriptor: *ref_69
                            additional_description:
                              description: >-
                                Any additional information regarding the nature
                                of cancellation
                              allOf:
                                - *ref_69
                    cancellation_terms:
                      description: Cancellation terms of this item
                      type: array
                      items: *ref_97
                    documents:
                      type: array
                      items:
                        description: Documnents associated to the order
                        type: object
                        additionalProperties: false
                        properties:
                          descriptor: *ref_69
                          mime_type:
                            description: >-
                              This field indicates the nature and format of the
                              form received by querying the url. MIME types are
                              defined and standardized in IETF's RFC 6838.
                            type: string
                            enum:
                              - text/html
                              - application/html
                              - application/xml
                              - application/pdf
                          url:
                            description: >-
                              The URL from where the form can be fetched. The
                              content fetched from the url must be processed as
                              per the mime_type specified in this object.
                            type: string
                            format: uri
                    refund_terms:
                      description: Refund terms of this item
                      type: array
                      items: *ref_98
                    replacement_terms:
                      description: Replacement terms of this item
                      type: array
                      items: *ref_99
                    return_terms:
                      description: Return terms of this item
                      type: array
                      items: *ref_100
                    quote:
                      description: The mutually agreed upon quotation for this order.
                      allOf:
                        - description: >-
                            Describes a quote. It is the estimated price of
                            products or services from the BPP.<br>This has
                            properties like price, breakup, ttl
                          type: object
                          additionalProperties: false
                          properties:
                            id:
                              description: ID of the quote.
                              type: string
                            price:
                              description: The total quoted price
                              allOf:
                                - *ref_89
                            breakup:
                              description: the breakup of the total quoted price
                              type: array
                              items:
                                type: object
                                properties:
                                  item: *ref_93
                                  title:
                                    type: string
                                  price: *ref_89
                            ttl: *ref_71
                    payments:
                      description: The terms of settlement for this order
                      type: array
                      items: *ref_101
                    created_at:
                      description: The date-time of creation of this order
                      type: string
                      format: date-time
                    updated_at:
                      description: The date-time of updated of this order
                      type: string
                      format: date-time
                    xinput:
                      description: >-
                        Additional input required from the customer to confirm
                        this order
                      allOf:
                        - *ref_92
                    tags:
                      type: array
                      items: *ref_78
              required:
                - order
          required:
            - context
            - message
        on_select:
          type: object
          properties:
            context:
              allOf:
                - description: >-
                    Every API call in beckn protocol has a context. It provides
                    a high-level overview to the receiver about the nature of
                    the intended transaction. Typically, it is the BAP that sets
                    the transaction context based on the consumer's location and
                    action on their UI. But sometimes, during unsolicited
                    callbacks, the BPP also sets the transaction context but it
                    is usually the same as the context of a previous full-cycle,
                    request-callback interaction between the BAP and the BPP.
                    The context object contains four types of fields.
                    <ol><li>Demographic information about the transaction using
                    fields like `domain`, `country`, and
                    `region`.</li><li>Addressing details like the sending and
                    receiving platform's ID and API
                    URL.</li><li>Interoperability information like the protocol
                    version that implemented by the sender
                    and,</li><li>Transaction details like the method being
                    called at the receiver's endpoint, the transaction_id that
                    represents an end-to-end user session at the BAP, a message
                    ID to pair requests with callbacks, a timestamp to capture
                    sending times, a ttl to specifiy the validity of the
                    request, and a key to encrypt information if
                    necessary.</li></ol> This object must be passed in every
                    interaction between a BAP and a BPP. In HTTP/S
                    implementations, it is not necessary to send the context
                    during the synchronous response. However, in asynchronous
                    protocols, the context must be sent during all interactions,
                  type: object
                  additionalProperties: false
                  properties:
                    domain:
                      description: Domain code that is relevant to this transaction context
                      allOf:
                        - type: string
                          description: >-
                            Standard code representing the domain. The standard
                            is usually published as part of the network policy.
                            Furthermore, the network facilitator should also
                            provide a mechanism to provide the supported domains
                            of a network.
                    location:
                      description: >-
                        The location where the transaction is intended to be
                        fulfilled.
                      allOf:
                        - &ref_119
                          description: The physical location of something
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_120
                              type: string
                            descriptor: &ref_106
                              description: Physical description of something.
                              type: object
                              additionalProperties: false
                              properties:
                                name:
                                  type: string
                                code:
                                  type: string
                                short_desc:
                                  type: string
                                long_desc:
                                  type: string
                                additional_desc:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                                    content_type:
                                      type: string
                                      enum:
                                        - text/plain
                                        - text/html
                                        - application/json
                                media:
                                  type: array
                                  items: &ref_128
                                    description: >-
                                      This object contains a url to a media
                                      file.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      mimetype:
                                        description: >-
                                          indicates the nature and format of the
                                          document, file, or assortment of bytes.
                                          MIME types are defined and standardized
                                          in IETF's RFC 6838
                                        type: string
                                      url:
                                        description: The URL of the file
                                        type: string
                                        format: uri
                                      signature:
                                        description: >-
                                          The digital signature of the file signed
                                          by the sender
                                        type: string
                                      dsa:
                                        description: The signing algorithm used by the sender
                                        type: string
                                images:
                                  type: array
                                  items: &ref_114
                                    description: Describes an image
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      url:
                                        description: >-
                                          URL to the image. This can be a data url
                                          or an remote url
                                        type: string
                                        format: uri
                                      size_type:
                                        description: >-
                                          The size of the image. The network
                                          policy can define the default dimensions
                                          of each type
                                        type: string
                                        enum:
                                          - xs
                                          - sm
                                          - md
                                          - lg
                                          - xl
                                          - custom
                                      width:
                                        description: Width of the image in pixels
                                        type: string
                                      height:
                                        description: Height of the image in pixels
                                        type: string
                            map_url:
                              description: >-
                                The url to the map of the location. This can be
                                a globally recognized map url or the one
                                specified by the network policy.
                              type: string
                              format: uri
                            gps:
                              description: The GPS co-ordinates of this location.
                              allOf:
                                - &ref_102
                                  description: Describes a GPS coordinate
                                  type: string
                                  pattern: >-
                                    ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                            address:
                              description: The address of this location.
                              allOf:
                                - &ref_111
                                  description: Describes a postal address.
                                  type: string
                            city:
                              description: The city this location is, or is located within
                              allOf:
                                - &ref_113
                                  description: Describes a city
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      description: Name of the city
                                      type: string
                                    code:
                                      description: City code
                                      type: string
                            district:
                              description: The state this location is, or is located within
                              type: string
                            state:
                              description: The state this location is, or is located within
                              allOf:
                                - &ref_112
                                  description: >-
                                    A bounded geopolitical region of governance
                                    inside a country.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the state
                                    code:
                                      type: string
                                      description: >-
                                        State code as per country or
                                        international standards
                            country:
                              description: >-
                                The country this location is, or is located
                                within
                              allOf:
                                - description: Describes a country
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the country
                                    code:
                                      type: string
                                      description: >-
                                        Country code as per ISO 3166-1 and ISO
                                        3166-2 format
                            area_code:
                              type: string
                            circle:
                              description: >-
                                Describes a circular region of a specified
                                radius centered at a specified GPS coordinate.
                              type: object
                              additionalProperties: false
                              properties:
                                gps: *ref_102
                                radius: &ref_122
                                  description: Describes a scalar
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - CONSTANT
                                        - VARIABLE
                                    value: &ref_103
                                      description: >-
                                        Describes a numerical value in decimal
                                        form
                                      type: string
                                      pattern: '[+-]?([0-9]*[.])?[0-9]+'
                                    estimated_value: *ref_103
                                    computed_value: *ref_103
                                    range:
                                      type: object
                                      properties:
                                        min: *ref_103
                                        max: *ref_103
                                    unit:
                                      type: string
                            polygon:
                              description: The boundary polygon of this location
                              type: string
                            3dspace:
                              description: >-
                                The three dimensional region describing this
                                location
                              type: string
                            rating:
                              description: The rating of this location
                              allOf:
                                - &ref_107
                                  description: >-
                                    Rating value given to the object. This can
                                    be a single value or can also contain an
                                    inequality operator like gt, gte, lt, lte.
                                    This can also contain an inequality
                                    expression containing logical operators like
                                    && and ||.
                                  type: string
                    action:
                      description: >-
                        The Beckn protocol method being called by the sender and
                        executed at the receiver.
                      type: string
                    version:
                      type: string
                      description: >-
                        Version of transaction protocol being used by the
                        sender.
                    bap_id:
                      description: Subscriber ID of the BAP
                      allOf:
                        - &ref_104
                          description: >-
                            A globally unique identifier of the platform,
                            Typically it is the fully qualified domain name
                            (FQDN) of the platform.
                          type: string
                    bap_uri:
                      description: >-
                        Subscriber URL of the BAP for accepting callbacks from
                        BPPs.
                      allOf:
                        - &ref_105
                          description: >-
                            The callback URL of the Subscriber. This should
                            necessarily contain the same domain name as set in
                            `subscriber_id``.
                          type: string
                          format: uri
                    bpp_id:
                      description: Subscriber ID of the BPP
                      allOf:
                        - *ref_104
                    bpp_uri:
                      description: Subscriber URL of the BPP for accepting calls from BAPs.
                      allOf:
                        - *ref_105
                    transaction_id:
                      description: >-
                        This is a unique value which persists across all API
                        calls from `search` through `confirm`. This is done to
                        indicate an active user session across multiple
                        requests. The BPPs can use this value to push
                        personalized recommendations, and dynamic offerings
                        related to an ongoing transaction despite being unaware
                        of the user active on the BAP.
                      type: string
                      format: uuid
                    message_id:
                      description: >-
                        This is a unique value which persists during a request /
                        callback cycle. Since beckn protocol APIs are
                        asynchronous, BAPs need a common value to match an
                        incoming callback from a BPP to an earlier call. This
                        value can also be used to ignore duplicate messages
                        coming from the BPP. It is recommended to generate a
                        fresh message_id for every new interaction. When sending
                        unsolicited callbacks, BPPs must generate a new
                        message_id.
                      type: string
                      format: uuid
                    timestamp:
                      description: Time of request generation in RFC3339 format
                      type: string
                      format: date-time
                    key:
                      description: The encryption public key of the sender
                      type: string
                    ttl:
                      description: >-
                        The duration in ISO8601 format after timestamp for which
                        this message holds valid
                      type: string
                - type: object
                  properties:
                    action:
                      enum:
                        - on_select
                  required:
                    - action
            message:
              type: object
              properties:
                order:
                  description: >-
                    Describes a legal purchase order. It contains the complete
                    details of the legal contract created between the buyer and
                    the seller.
                  type: object
                  additionalProperties: false
                  properties:
                    id:
                      type: string
                      description: >-
                        Human-readable ID of the order. This is generated at the
                        BPP layer. The BPP can either generate order id within
                        its system or forward the order ID created at the
                        provider level.
                    ref_order_ids:
                      description: >-
                        A list of order IDs to link this order to previous
                        orders.
                      type: array
                      items:
                        type: string
                        description: ID of a previous order
                    status:
                      description: >-
                        Status of the order. Allowed values can be defined by
                        the network policy
                      type: string
                      enum:
                        - ACTIVE
                        - COMPLETE
                        - CANCELLED
                    type:
                      description: >-
                        This is used to indicate the type of order being created
                        to BPPs. Sometimes orders can be linked to previous
                        orders, like a replacement order in a retail domain. A
                        follow-up consultation in healthcare domain. A single
                        order part of a subscription order. The list of order
                        types can be standardized at the network level.
                      type: string
                      default: DEFAULT
                      enum:
                        - DRAFT
                        - DEFAULT
                    provider:
                      description: >-
                        Details of the provider whose catalog items have been
                        selected.
                      allOf:
                        - description: Describes the catalog of a business.
                          type: object
                          properties:
                            id:
                              type: string
                              description: Id of the provider
                            descriptor: *ref_106
                            category_id:
                              type: string
                              description: >-
                                Category Id of the provider at the BPP-level
                                catalog
                            rating: *ref_107
                            time: &ref_110
                              description: >-
                                Describes time in its various forms. It can be a
                                single point in time; duration; or a structured
                                timetable of operations<br>This has properties
                                like label, time stamp,duration,range, days,
                                schedule
                              type: object
                              additionalProperties: false
                              properties:
                                label:
                                  type: string
                                timestamp:
                                  type: string
                                  format: date-time
                                duration: &ref_108
                                  description: Describes duration as per ISO8601 format
                                  type: string
                                range:
                                  type: object
                                  properties:
                                    start:
                                      type: string
                                      format: date-time
                                    end:
                                      type: string
                                      format: date-time
                                days:
                                  type: string
                                  description: >-
                                    comma separated values representing days of
                                    the week
                                schedule:
                                  description: >-
                                    Describes schedule as a repeating time
                                    period used to describe a regularly
                                    recurring event. At a minimum a schedule
                                    will specify frequency which describes the
                                    interval between occurrences of the event.
                                    Additional information can be provided to
                                    specify the schedule more precisely. This
                                    includes identifying the timestamps(s) of
                                    when the event will take place. Schedules
                                    may also have holidays to exclude a specific
                                    day from the schedule.<br>This has
                                    properties like frequency, holidays, times
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    frequency: *ref_108
                                    holidays:
                                      type: array
                                      items:
                                        type: string
                                        format: date-time
                                    times:
                                      type: array
                                      items:
                                        type: string
                                        format: date-time
                            categories:
                              type: array
                              items:
                                description: >-
                                  A label under which a collection of items can
                                  be grouped.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_109
                                    description: ID of the category
                                    type: string
                                  parent_category_id: *ref_109
                                  descriptor: *ref_106
                                  time: *ref_110
                                  ttl:
                                    description: >-
                                      Time to live for an instance of this
                                      schema
                                  tags:
                                    type: array
                                    items: &ref_115
                                      description: >-
                                        A collection of tag objects with group
                                        level attributes. For detailed
                                        documentation on the Tags and Tag Groups
                                        schema go to
                                        https://github.com/beckn/protocol-specifications/discussions/316
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        display:
                                          description: >-
                                            Indicates the display properties of the
                                            tag group. If display is set to false,
                                            then the group will not be displayed. If
                                            it is set to true, it should be
                                            displayed. However, group-level display
                                            properties can be overriden by
                                            individual tag-level display property.
                                            As this schema is purely for catalog
                                            display purposes, it is not recommended
                                            to send this value during search.
                                          type: boolean
                                          default: true
                                        descriptor:
                                          description: >-
                                            Description of the TagGroup, can be used
                                            to store detailed information.
                                          allOf:
                                            - *ref_106
                                        list:
                                          description: >-
                                            An array of Tag objects listed under
                                            this group. This property can be set by
                                            BAPs during search to narrow the
                                            `search` and achieve more relevant
                                            results. When received during
                                            `on_search`, BAPs must render this list
                                            under the heading described by the
                                            `name` property of this schema.
                                          type: array
                                          items:
                                            description: >-
                                              Describes a tag. This is used to contain
                                              extended metadata. This object can be
                                              added as a property to any schema to
                                              describe extended attributes. For BAPs,
                                              tags can be sent during search to
                                              optimize and filter search results. BPPs
                                              can use tags to index their catalog to
                                              allow better search functionality. Tags
                                              are sent by the BPP as part of the
                                              catalog response in the `on_search`
                                              callback. Tags are also meant for
                                              display purposes. Upon receiving a tag,
                                              BAPs are meant to render them as
                                              name-value pairs. This is particularly
                                              useful when rendering tabular
                                              information about a product or service.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              descriptor:
                                                description: >-
                                                  Description of the Tag, can be used to
                                                  store detailed information.
                                                allOf:
                                                  - *ref_106
                                              value:
                                                description: >-
                                                  The value of the tag. This set by the
                                                  BPP and rendered as-is by the BAP.
                                                type: string
                                              display:
                                                description: >-
                                                  This value indicates if the tag is
                                                  intended for display purposes. If set to
                                                  `true`, then this tag must be displayed.
                                                  If it is set to `false`, it should not
                                                  be displayed. This value can override
                                                  the group display value.
                                                type: boolean
                            fulfillments:
                              type: array
                              items: &ref_133
                                description: >-
                                  Describes how a an order will be
                                  rendered/fulfilled to the end-customer
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_124
                                    description: >-
                                      Unique reference ID to the fulfillment of
                                      an order
                                    type: string
                                  type:
                                    description: >-
                                      A code that describes the mode of
                                      fulfillment. This is typically set when
                                      there are multiple ways an order can be
                                      fulfilled. For example, a retail order can
                                      be fulfilled either via store pickup or a
                                      home delivery. Similarly, a medical
                                      consultation can be provided either
                                      in-person or via tele-consultation. The
                                      network policy must publish standard
                                      fulfillment type codes for the different
                                      modes of fulfillment.
                                    type: string
                                  rateable:
                                    description: >-
                                      Whether the fulfillment can be rated or
                                      not
                                    type: boolean
                                  rating:
                                    description: >-
                                      The rating value of the fulfullment
                                      service.
                                    allOf:
                                      - *ref_107
                                  state:
                                    description: >-
                                      The current state of fulfillment. The BPP
                                      must set this value whenever the state of
                                      the order fulfillment changes and fire an
                                      unsolicited `on_status` call.
                                    allOf:
                                      - &ref_127
                                        description: Describes the state of fulfillment
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          descriptor: *ref_106
                                          updated_at:
                                            type: string
                                            format: date-time
                                          updated_by:
                                            type: string
                                            description: ID of entity which changed the state
                                  tracking:
                                    type: boolean
                                    description: >-
                                      Indicates whether the fulfillment allows
                                      tracking
                                    default: false
                                  customer:
                                    description: >-
                                      The person that will ultimately receive
                                      the order
                                    allOf:
                                      - description: >-
                                          Describes a customer buying/availing a
                                          product or a service
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          organization: &ref_118
                                            description: >-
                                              An organization. Usually a recognized
                                              business entity.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              descriptor: *ref_106
                                              address:
                                                description: The postal address of the organization
                                                allOf:
                                                  - *ref_111
                                              state:
                                                description: >-
                                                  The state where the organization's
                                                  address is registered
                                                allOf:
                                                  - *ref_112
                                              city:
                                                description: >-
                                                  The city where the the organization's
                                                  address is registered
                                                allOf:
                                                  - *ref_113
                                              contact: &ref_116
                                                description: >-
                                                  Describes the contact information of an
                                                  entity
                                                type: object
                                                additionalProperties: false
                                                properties:
                                                  phone:
                                                    type: string
                                                  email:
                                                    type: string
                                                  jcard:
                                                    type: object
                                                    description: >-
                                                      A Jcard object as per
                                                      draft-ietf-jcardcal-jcard-03
                                                      specification
                                          person: &ref_117
                                            description: Describes a person as any individual
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                                description: Describes the identity of the person
                                              url:
                                                description: Profile url of the person
                                                type: string
                                                format: uri
                                              name:
                                                description: the name of the person
                                                type: string
                                              image: *ref_114
                                              age:
                                                description: Age of the person
                                                allOf:
                                                  - *ref_108
                                              dob:
                                                description: Date of birth of the person
                                                type: string
                                                format: date
                                              gender:
                                                type: string
                                                description: >-
                                                  Gender of something, typically a Person,
                                                  but possibly also fictional characters,
                                                  animals, etc. While Male and Female may
                                                  be used, text strings are also
                                                  acceptable for people who do not
                                                  identify as a binary gender.Allowed
                                                  values for this field can be published
                                                  in the network policy
                                              creds:
                                                type: array
                                                items:
                                                  description: >-
                                                    Describes a credential of an entity -
                                                    Person or Organization
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    id:
                                                      type: string
                                                    type:
                                                      type: string
                                                      default: VerifiableCredential
                                                    url:
                                                      description: URL of the credential
                                                      type: string
                                                      format: uri
                                              languages:
                                                type: array
                                                items:
                                                  description: >-
                                                    Describes a language known to the
                                                    person.
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    code:
                                                      type: string
                                                    name:
                                                      type: string
                                              skills:
                                                type: array
                                                items:
                                                  description: Describes a skill of the person.
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    code:
                                                      type: string
                                                    name:
                                                      type: string
                                              tags:
                                                type: array
                                                items: *ref_115
                                          contact: *ref_116
                                  agent:
                                    description: >-
                                      The agent that is currently handling the
                                      fulfillment of the order
                                    allOf:
                                      - description: >-
                                          Describes the direct performer, driver
                                          or executor that fulfills an order. It
                                          is usually a person. But in some rare
                                          cases, it could be a non-living entity
                                          like a drone, or a bot. Some examples of
                                          agents are Doctor in the healthcare
                                          sector, a driver in the mobility sector,
                                          or a delivery person in the logistics
                                          sector. This object can be set at any
                                          stage of the order lifecycle. This can
                                          be set at the discovery stage when the
                                          BPP wants to provide details on the
                                          agent fulfilling the order, like in
                                          healthcare, where the doctor's name
                                          appears during search. This object can
                                          also used to search for a particular
                                          person that the customer wants
                                          fulfilling an order. Sometimes, this
                                          object gets instantiated after the order
                                          is confirmed, like in the case of
                                          on-demand taxis, where the driver is
                                          assigned after the user confirms the
                                          ride.
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          person: *ref_117
                                          contact: *ref_116
                                          organization: *ref_118
                                          rating: *ref_107
                                  contact: *ref_116
                                  vehicle:
                                    description: >-
                                      Describes a vehicle is a device that is
                                      designed or used to transport people or
                                      cargo over land, water, air, or through
                                      space.<br>This has properties like
                                      category, capacity, make, model,
                                      size,variant,color,energy_type,registration
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      category:
                                        type: string
                                      capacity:
                                        type: integer
                                      make:
                                        type: string
                                      model:
                                        type: string
                                      size:
                                        type: string
                                      variant:
                                        type: string
                                      color:
                                        type: string
                                      energy_type:
                                        type: string
                                      registration:
                                        type: string
                                      wheels_count:
                                        type: string
                                      cargo_volumne:
                                        type: string
                                      wheelchair_access:
                                        type: string
                                      code:
                                        type: string
                                      emission_standard:
                                        type: string
                                  stops:
                                    description: >-
                                      The list of logical stops encountered
                                      during the fulfillment of an order.
                                    type: array
                                    items:
                                      description: >-
                                        A logical point in space and time during
                                        the fulfillment of an order.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                        parent_stop_id:
                                          type: string
                                        location:
                                          description: Location of the stop
                                          allOf:
                                            - *ref_119
                                        type:
                                          description: >-
                                            The type of stop. Allowed values of this
                                            property can be defined by the network
                                            policy.
                                          type: string
                                        time:
                                          description: Timings applicable at the stop.
                                          allOf:
                                            - *ref_110
                                        instructions:
                                          description: >-
                                            Instructions that need to be followed at
                                            the stop
                                          allOf:
                                            - *ref_106
                                        contact:
                                          description: Contact details of the stop
                                          allOf:
                                            - *ref_116
                                        person:
                                          description: >-
                                            The details of the person present at the
                                            stop
                                          allOf:
                                            - *ref_117
                                        authorization:
                                          description: >-
                                            Describes an authorization mechanism
                                            used to start or end the fulfillment of
                                            an order. For example, in the mobility
                                            sector, the driver may require a
                                            one-time password to initiate the ride.
                                            In the healthcare sector, a patient may
                                            need to provide a password to open a
                                            video conference link during a
                                            teleconsultation.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            type:
                                              description: >-
                                                Type of authorization mechanism used.
                                                The allowed values for this field can be
                                                published as part of the network policy.
                                              type: string
                                            token:
                                              description: >-
                                                Token used for authorization. This is
                                                typically generated at the BPP. The BAP
                                                can send this value to the user via any
                                                channel that it uses to authenticate the
                                                user like SMS, Email, Push notification,
                                                or in-app rendering.
                                              type: string
                                            valid_from:
                                              description: >-
                                                Timestamp in RFC3339 format from which
                                                token is valid
                                              type: string
                                              format: date-time
                                            valid_to:
                                              description: >-
                                                Timestamp in RFC3339 format until which
                                                token is valid
                                              type: string
                                              format: date-time
                                            status:
                                              description: Status of the token
                                              type: string
                                  path:
                                    description: >-
                                      The physical path taken by the agent that
                                      can be rendered on a map. The allowed
                                      format of this property can be set by the
                                      network.
                                    type: string
                                  tags:
                                    type: array
                                    items: *ref_115
                            payments:
                              type: array
                              items: &ref_138
                                description: >-
                                  Describes the terms of settlement between the
                                  BAP and the BPP for a single transaction. When
                                  instantiated, this object contains <ol><li>the
                                  amount that has to be settled,</li><li>The
                                  payment destination destination
                                  details</li><li>When the settlement should
                                  happen, and</li><li>A transaction reference
                                  ID</li></ol>. During a transaction, the BPP
                                  reserves the right to decide the terms of
                                  payment. However, the BAP can send its terms
                                  to the BPP first. If the BPP does not agree to
                                  those terms, it must overwrite the terms and
                                  return them to the BAP. If overridden, the BAP
                                  must either agree to the terms sent by the BPP
                                  in order to preserve the provider's autonomy,
                                  or abort the transaction. In case of such
                                  disagreements, the BAP and the BPP can perform
                                  offline negotiations on the payment terms.
                                  Once an agreement is reached, the BAP and BPP
                                  can resume transactions.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_125
                                    description: >-
                                      ID of the payment term that can be
                                      referred at an item or an order level in a
                                      catalog
                                    type: string
                                  collected_by:
                                    description: >-
                                      This field indicates who is the collector
                                      of payment. The BAP can set this value to
                                      'bap' if it wants to collect the payment
                                      first and  settle it to the BPP. If the
                                      BPP agrees to those terms, the BPP should
                                      not send the payment url. Alternatively,
                                      the BPP can set this field with the value
                                      'bpp' if it wants the payment to be made
                                      directly.
                                    type: string
                                  url:
                                    type: string
                                    description: >-
                                      A payment url to be called by the BAP. If
                                      empty, then the payment is to be done
                                      offline. The details of payment should be
                                      present in the params object. If tl_method
                                      = http/get, then the payment details will
                                      be sent as url params. Two url param
                                      values, ```$transaction_id``` and
                                      ```$amount``` are mandatory.
                                    format: uri
                                  params:
                                    type: object
                                    properties:
                                      transaction_id:
                                        type: string
                                        description: >-
                                          The reference transaction ID associated
                                          with a payment activity
                                      amount:
                                        type: string
                                      currency:
                                        type: string
                                      bank_code:
                                        type: string
                                      bank_account_number:
                                        type: string
                                      virtual_payment_address:
                                        type: string
                                      source_bank_code:
                                        type: string
                                      source_bank_account_number:
                                        type: string
                                      source_virtual_payment_address:
                                        type: string
                                  type:
                                    type: string
                                    enum:
                                      - PRE-ORDER
                                      - PRE-FULFILLMENT
                                      - ON-FULFILLMENT
                                      - POST-FULFILLMENT
                                      - ON-ORDER
                                  status:
                                    type: string
                                    enum:
                                      - PAID
                                      - NOT-PAID
                                  time: *ref_110
                                  tags:
                                    type: array
                                    items: *ref_115
                            locations:
                              type: array
                              items: *ref_119
                            offers:
                              type: array
                              items: &ref_132
                                description: >-
                                  An offer associated with a catalog. This is
                                  typically used to promote a particular product
                                  and enable more purchases.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  descriptor: *ref_106
                                  location_ids:
                                    type: array
                                    items: *ref_120
                                  category_ids:
                                    type: array
                                    items: *ref_109
                                  item_ids:
                                    type: array
                                    items: &ref_121
                                      description: ID of the item.
                                      type: string
                                  time: *ref_110
                                  tags:
                                    type: array
                                    items: *ref_115
                            items:
                              type: array
                              items: &ref_130
                                description: >-
                                  Describes a product or a service offered to
                                  the end consumer by the provider. In the
                                  mobility sector, it can represent a fare
                                  product like one way journey. In the logistics
                                  sector, it can represent the delivery service
                                  offering. In the retail domain it can
                                  represent a product like a grocery item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: *ref_121
                                  parent_item_id:
                                    description: ID of the item, this item is a variant of
                                    allOf:
                                      - *ref_121
                                  parent_item_quantity:
                                    description: >-
                                      The number of units of the parent item
                                      this item is a multiple of
                                    allOf:
                                      - &ref_123
                                        description: Describes the count or amount of an item
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          allocated:
                                            description: >-
                                              This represents the exact quantity
                                              allocated for purchase of the item.
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_122
                                          available:
                                            description: >-
                                              This represents the exact quantity
                                              available for purchase of the item. The
                                              buyer can only purchase multiples of
                                              this
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_122
                                          maximum:
                                            description: >-
                                              This represents the maximum quantity
                                              allowed for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 1
                                              measure: *ref_122
                                          minimum:
                                            description: >-
                                              This represents the minimum quantity
                                              allowed for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_122
                                          selected:
                                            description: >-
                                              This represents the quantity selected
                                              for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_122
                                          unitized:
                                            description: >-
                                              This represents the quantity available
                                              in a single unit of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 1
                                                maximum: 1
                                              measure: *ref_122
                                  descriptor:
                                    description: Physical description of the item
                                    allOf:
                                      - *ref_106
                                  creator:
                                    description: The creator of this item
                                    allOf:
                                      - *ref_118
                                  price:
                                    description: >-
                                      The price of this item, if it has
                                      intrinsic value
                                    allOf:
                                      - &ref_126
                                        description: >-
                                          Describes the price of a product or
                                          service
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          currency:
                                            type: string
                                          value: *ref_103
                                          estimated_value: *ref_103
                                          computed_value: *ref_103
                                          listed_value: *ref_103
                                          offered_value: *ref_103
                                          minimum_value: *ref_103
                                          maximum_value: *ref_103
                                  quantity:
                                    description: The selling quantity of the item
                                    allOf:
                                      - *ref_123
                                  category_ids:
                                    description: Categories this item can be listed under
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_109
                                  fulfillment_ids:
                                    description: >-
                                      Modes through which this item can be
                                      fulfilled
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_124
                                  location_ids:
                                    description: >-
                                      Provider Locations this item is available
                                      in
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_120
                                  payment_ids:
                                    description: >-
                                      Payment modalities through which this item
                                      can be ordered
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_125
                                  add_ons:
                                    type: array
                                    items: &ref_131
                                      description: >-
                                        Describes an additional item offered as
                                        a value-addition to a product or
                                        service. This does not exist
                                        independently in a catalog and is always
                                        associated with an item.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          description: Provider-defined ID of the add-on
                                          type: string
                                        descriptor: *ref_106
                                        price: *ref_126
                                        quantity: *ref_123
                                  cancellation_terms:
                                    description: Cancellation terms of this item
                                    type: array
                                    items: &ref_134
                                      description: >-
                                        Describes the cancellation terms of an
                                        item or an order. This can be referenced
                                        at an item or order level. Item-level
                                        cancellation terms can override the
                                        terms at the order level.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_127
                                        reason_required:
                                          description: >-
                                            Indicates whether a reason is required
                                            to cancel the order
                                          type: boolean
                                        cancel_by:
                                          description: >-
                                            Information related to the time of
                                            cancellation.
                                          allOf:
                                            - *ref_110
                                        cancellation_fee:
                                          description: A fee applied on a particular entity
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            percentage:
                                              description: Percentage of a value
                                              allOf:
                                                - *ref_103
                                            amount:
                                              description: A fixed value
                                              allOf:
                                                - *ref_126
                                        xinput: &ref_129
                                          description: >-
                                            Contains any additional or extended
                                            inputs required to confirm an order.
                                            This is typically a Form Input.
                                            Sometimes, selection of catalog elements
                                            is not enough for the BPP to confirm an
                                            order. For example, to confirm a flight
                                            ticket, the airline requires details of
                                            the passengers along with information on
                                            baggage, identity, in addition to the
                                            class of ticket. Similarly, a logistics
                                            company may require details on the
                                            nature of shipment in order to confirm
                                            the shipping. A recruiting firm may
                                            require additional details on the
                                            applicant in order to confirm a job
                                            application. For all such purposes, the
                                            BPP can choose to send this object
                                            attached to any object in the catalog
                                            that is required to be sent while
                                            placing the order. This object can
                                            typically be sent at an item level or at
                                            the order level. The item level XInput
                                            will override the Order level XInput as
                                            it indicates a special requirement of
                                            information for that particular item.
                                            Hence the BAP must render a separate
                                            form for the Item and another form at
                                            the Order level before confirmation.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            head:
                                              description: >-
                                                Provides the header information for the
                                                xinput.
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                descriptor: *ref_106
                                                index:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    min:
                                                      type: integer
                                                    cur:
                                                      type: integer
                                                    max:
                                                      type: integer
                                                headings:
                                                  type: array
                                                  items:
                                                    type: string
                                                    description: The heading names of the forms
                                            form:
                                              description: Describes a form
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                id:
                                                  description: The form identifier.
                                                  type: string
                                                url:
                                                  description: >-
                                                    The URL from where the form can be
                                                    fetched. The content fetched from the
                                                    url must be processed as per the
                                                    mime_type specified in this object. Once
                                                    fetched, the rendering platform can
                                                    choosed to render the form as-is as an
                                                    embeddable element; or process it
                                                    further to blend with the theme of the
                                                    application. In case the interface is
                                                    non-visual, the the render can process
                                                    the form data and reproduce it as per
                                                    the standard specified in the form.
                                                  type: string
                                                  format: uri
                                                data:
                                                  description: The form submission data
                                                  type: object
                                                  additionalProperties:
                                                    type: string
                                                mime_type:
                                                  description: >-
                                                    This field indicates the nature and
                                                    format of the form received by querying
                                                    the url. MIME types are defined and
                                                    standardized in IETF's RFC 6838.
                                                  type: string
                                                  enum:
                                                    - text/html
                                                    - application/html
                                                    - application/xml
                                                resubmit:
                                                  type: boolean
                                                multiple_sumbissions:
                                                  type: boolean
                                            form_response:
                                              description: >-
                                                Describes the response to a form
                                                submission
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                status:
                                                  description: Contains the status of form submission.
                                                  type: string
                                                signature:
                                                  type: string
                                                submission_id:
                                                  type: string
                                                  format: uuid
                                                errors:
                                                  type: array
                                                  items: &ref_139
                                                    description: >-
                                                      Describes an error object that is
                                                      returned by a BAP, BPP or BG as a
                                                      response or callback to an action by
                                                      another network participant. This object
                                                      is sent when any request received by a
                                                      network participant is unacceptable.
                                                      This object can be sent either during
                                                      Ack or with the callback.
                                                    type: object
                                                    additionalProperties: false
                                                    properties:
                                                      code:
                                                        type: string
                                                        description: >-
                                                          Standard error code. For full list of
                                                          error codes, refer to
                                                          docs/protocol-drafts/BECKN-005-ERROR-CODES-DRAFT-01.md
                                                          of this repo"
                                                      paths:
                                                        type: string
                                                        description: >-
                                                          Path to json schema generating the
                                                          error. Used only during json schema
                                                          validation errors
                                                      message:
                                                        type: string
                                                        description: >-
                                                          Human readable message describing the
                                                          error. Used mainly for logging. Not
                                                          recommended to be shown to the user.
                                            required:
                                              description: >-
                                                Indicates whether the form data is
                                                mandatorily required by the BPP to
                                                confirm the order.
                                              type: boolean
                                        external_ref: *ref_128
                                  refund_terms:
                                    description: Refund terms of this item
                                    type: array
                                    items: &ref_135
                                      description: Refund term of an item or an order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_112
                                        refund_eligible:
                                          description: >-
                                            Indicates if cancellation will result in
                                            a refund
                                          type: boolean
                                        refund_within:
                                          description: >-
                                            Time within which refund will be
                                            processed after successful cancellation.
                                          allOf:
                                            - *ref_110
                                        refund_amount: *ref_126
                                  replacement_terms:
                                    description: >-
                                      Terms that are applicable be met when this
                                      item is replaced
                                    type: array
                                    items: &ref_136
                                      description: >-
                                        The replacement policy of an item or an
                                        order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_112
                                        replace_within:
                                          description: >-
                                            Applicable only for buyer managed
                                            returns where the buyer has to replace
                                            the item before a certain date-time,
                                            failing which they will not be eligible
                                            for replacement
                                          allOf:
                                            - *ref_110
                                        external_ref: *ref_128
                                  return_terms:
                                    description: >-
                                      Terms that are applicable when this item
                                      is returned
                                    type: array
                                    items: &ref_137
                                      description: >-
                                        Describes the return policy of an item
                                        or an order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term IETF''s applicable.
                                          allOf:
                                            - *ref_112
                                        return_eligible:
                                          description: >-
                                            Indicates whether the item is eligible
                                            for return
                                          type: boolean
                                        return_time:
                                          description: >-
                                            Applicable only for buyer managed
                                            returns where the buyer has to return
                                            the item to the origin before a certain
                                            date-time, failing which they will not
                                            be eligible for refund.
                                          allOf:
                                            - *ref_110
                                        return_location:
                                          description: >-
                                            The location where the item or order
                                            must / will be returned to
                                          allOf:
                                            - *ref_119
                                        fulfillment_managed_by:
                                          description: The entity that will perform the return
                                          type: string
                                          enum:
                                            - CONSUMER
                                            - PROVIDER
                                  xinput:
                                    description: >-
                                      Additional input required from the
                                      customer to purchase / avail this item
                                    allOf:
                                      - *ref_129
                                  time:
                                    description: >-
                                      Temporal attributes of this item. This
                                      property is used when the item exists on
                                      the catalog only for a limited period of
                                      time.
                                    allOf:
                                      - *ref_110
                                  rateable:
                                    description: Whether this item can be rated
                                    type: boolean
                                  rating:
                                    description: The rating of the item
                                    allOf:
                                      - *ref_107
                                  matched:
                                    description: >-
                                      Whether this item is an exact match of the
                                      request
                                    type: boolean
                                  related:
                                    description: >-
                                      Whether this item is a related item to the
                                      exactly matched item
                                    type: boolean
                                  recommended:
                                    description: >-
                                      Whether this item is a recommended item to
                                      a response
                                    type: boolean
                                  ttl:
                                    description: >-
                                      Time to live in seconds for an instance of
                                      this schema
                                    type: string
                                  tags:
                                    type: array
                                    items: *ref_115
                            exp:
                              type: string
                              description: Time after which catalog has to be refreshed
                              format: date-time
                            rateable:
                              description: Whether this provider can be rated or not
                              type: boolean
                            ttl:
                              description: >-
                                The time-to-live in seconds, for this object.
                                This can be overriden at deeper levels. A value
                                of -1 indicates that this object is not
                                cacheable.
                              type: string
                            tags:
                              type: array
                              items: *ref_115
                    items:
                      description: The items purchased / availed in this order
                      type: array
                      items: *ref_130
                    add_ons:
                      description: The add-ons purchased / availed in this order
                      type: array
                      items: *ref_131
                    offers:
                      description: The offers applied in this order
                      type: array
                      items: *ref_132
                    billing:
                      description: The billing details of this order
                      allOf:
                        - description: >-
                            Describes the billing details of an entity.<br>This
                            has properties like
                            name,organization,address,email,phone,time,tax_number,
                            created_at,updated_at
                          type: object
                          additionalProperties: false
                          properties:
                            name:
                              description: Name of the billable entity
                              type: string
                            organization:
                              description: Details of the organization being billed.
                              allOf:
                                - *ref_118
                            address:
                              description: The address of the billable entity
                              allOf:
                                - *ref_111
                            state:
                              description: >-
                                The state where the billable entity resides.
                                This is important for state-level tax
                                calculation
                              allOf:
                                - *ref_112
                            city:
                              description: The city where the billable entity resides.
                              allOf:
                                - *ref_113
                            email:
                              description: Email address where the bill is sent to
                              type: string
                              format: email
                            phone:
                              description: Phone number of the billable entity
                              type: string
                            time:
                              description: Details regarding the billing period
                              allOf:
                                - *ref_110
                            tax_id:
                              description: >-
                                ID of the billable entity as recognized by the
                                taxation authority
                              type: string
                    fulfillments:
                      description: The fulfillments involved in completing this order
                      type: array
                      items: *ref_133
                    cancellation:
                      description: The cancellation details of this order
                      allOf:
                        - description: Describes a cancellation event
                          type: object
                          additionalProperties: false
                          properties:
                            time:
                              description: >-
                                Date-time when the order was cancelled by the
                                buyer
                              type: string
                              format: date-time
                            cancelled_by:
                              type: string
                              enum:
                                - CONSUMER
                                - PROVIDER
                            reason:
                              description: The reason for cancellation
                              allOf:
                                - description: Describes a selectable option
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    id:
                                      type: string
                                    descriptor: *ref_106
                            additional_description:
                              description: >-
                                Any additional information regarding the nature
                                of cancellation
                              allOf:
                                - *ref_106
                    cancellation_terms:
                      description: Cancellation terms of this item
                      type: array
                      items: *ref_134
                    documents:
                      type: array
                      items:
                        description: Documnents associated to the order
                        type: object
                        additionalProperties: false
                        properties:
                          descriptor: *ref_106
                          mime_type:
                            description: >-
                              This field indicates the nature and format of the
                              form received by querying the url. MIME types are
                              defined and standardized in IETF's RFC 6838.
                            type: string
                            enum:
                              - text/html
                              - application/html
                              - application/xml
                              - application/pdf
                          url:
                            description: >-
                              The URL from where the form can be fetched. The
                              content fetched from the url must be processed as
                              per the mime_type specified in this object.
                            type: string
                            format: uri
                    refund_terms:
                      description: Refund terms of this item
                      type: array
                      items: *ref_135
                    replacement_terms:
                      description: Replacement terms of this item
                      type: array
                      items: *ref_136
                    return_terms:
                      description: Return terms of this item
                      type: array
                      items: *ref_137
                    quote:
                      description: The mutually agreed upon quotation for this order.
                      allOf:
                        - description: >-
                            Describes a quote. It is the estimated price of
                            products or services from the BPP.<br>This has
                            properties like price, breakup, ttl
                          type: object
                          additionalProperties: false
                          properties:
                            id:
                              description: ID of the quote.
                              type: string
                            price:
                              description: The total quoted price
                              allOf:
                                - *ref_126
                            breakup:
                              description: the breakup of the total quoted price
                              type: array
                              items:
                                type: object
                                properties:
                                  item: *ref_130
                                  title:
                                    type: string
                                  price: *ref_126
                            ttl: *ref_108
                    payments:
                      description: The terms of settlement for this order
                      type: array
                      items: *ref_138
                    created_at:
                      description: The date-time of creation of this order
                      type: string
                      format: date-time
                    updated_at:
                      description: The date-time of updated of this order
                      type: string
                      format: date-time
                    xinput:
                      description: >-
                        Additional input required from the customer to confirm
                        this order
                      allOf:
                        - *ref_129
                    tags:
                      type: array
                      items: *ref_115
            error: *ref_139
          required:
            - context
        init:
          type: object
          properties:
            context:
              allOf:
                - description: >-
                    Every API call in beckn protocol has a context. It provides
                    a high-level overview to the receiver about the nature of
                    the intended transaction. Typically, it is the BAP that sets
                    the transaction context based on the consumer's location and
                    action on their UI. But sometimes, during unsolicited
                    callbacks, the BPP also sets the transaction context but it
                    is usually the same as the context of a previous full-cycle,
                    request-callback interaction between the BAP and the BPP.
                    The context object contains four types of fields.
                    <ol><li>Demographic information about the transaction using
                    fields like `domain`, `country`, and
                    `region`.</li><li>Addressing details like the sending and
                    receiving platform's ID and API
                    URL.</li><li>Interoperability information like the protocol
                    version that implemented by the sender
                    and,</li><li>Transaction details like the method being
                    called at the receiver's endpoint, the transaction_id that
                    represents an end-to-end user session at the BAP, a message
                    ID to pair requests with callbacks, a timestamp to capture
                    sending times, a ttl to specifiy the validity of the
                    request, and a key to encrypt information if
                    necessary.</li></ol> This object must be passed in every
                    interaction between a BAP and a BPP. In HTTP/S
                    implementations, it is not necessary to send the context
                    during the synchronous response. However, in asynchronous
                    protocols, the context must be sent during all interactions,
                  type: object
                  additionalProperties: false
                  properties:
                    domain:
                      description: Domain code that is relevant to this transaction context
                      allOf:
                        - type: string
                          description: >-
                            Standard code representing the domain. The standard
                            is usually published as part of the network policy.
                            Furthermore, the network facilitator should also
                            provide a mechanism to provide the supported domains
                            of a network.
                    location:
                      description: >-
                        The location where the transaction is intended to be
                        fulfilled.
                      allOf:
                        - &ref_157
                          description: The physical location of something
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_158
                              type: string
                            descriptor: &ref_144
                              description: Physical description of something.
                              type: object
                              additionalProperties: false
                              properties:
                                name:
                                  type: string
                                code:
                                  type: string
                                short_desc:
                                  type: string
                                long_desc:
                                  type: string
                                additional_desc:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                                    content_type:
                                      type: string
                                      enum:
                                        - text/plain
                                        - text/html
                                        - application/json
                                media:
                                  type: array
                                  items: &ref_166
                                    description: >-
                                      This object contains a url to a media
                                      file.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      mimetype:
                                        description: >-
                                          indicates the nature and format of the
                                          document, file, or assortment of bytes.
                                          MIME types are defined and standardized
                                          in IETF's RFC 6838
                                        type: string
                                      url:
                                        description: The URL of the file
                                        type: string
                                        format: uri
                                      signature:
                                        description: >-
                                          The digital signature of the file signed
                                          by the sender
                                        type: string
                                      dsa:
                                        description: The signing algorithm used by the sender
                                        type: string
                                images:
                                  type: array
                                  items: &ref_152
                                    description: Describes an image
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      url:
                                        description: >-
                                          URL to the image. This can be a data url
                                          or an remote url
                                        type: string
                                        format: uri
                                      size_type:
                                        description: >-
                                          The size of the image. The network
                                          policy can define the default dimensions
                                          of each type
                                        type: string
                                        enum:
                                          - xs
                                          - sm
                                          - md
                                          - lg
                                          - xl
                                          - custom
                                      width:
                                        description: Width of the image in pixels
                                        type: string
                                      height:
                                        description: Height of the image in pixels
                                        type: string
                            map_url:
                              description: >-
                                The url to the map of the location. This can be
                                a globally recognized map url or the one
                                specified by the network policy.
                              type: string
                              format: uri
                            gps:
                              description: The GPS co-ordinates of this location.
                              allOf:
                                - &ref_140
                                  description: Describes a GPS coordinate
                                  type: string
                                  pattern: >-
                                    ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                            address:
                              description: The address of this location.
                              allOf:
                                - &ref_149
                                  description: Describes a postal address.
                                  type: string
                            city:
                              description: The city this location is, or is located within
                              allOf:
                                - &ref_151
                                  description: Describes a city
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      description: Name of the city
                                      type: string
                                    code:
                                      description: City code
                                      type: string
                            district:
                              description: The state this location is, or is located within
                              type: string
                            state:
                              description: The state this location is, or is located within
                              allOf:
                                - &ref_150
                                  description: >-
                                    A bounded geopolitical region of governance
                                    inside a country.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the state
                                    code:
                                      type: string
                                      description: >-
                                        State code as per country or
                                        international standards
                            country:
                              description: >-
                                The country this location is, or is located
                                within
                              allOf:
                                - description: Describes a country
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the country
                                    code:
                                      type: string
                                      description: >-
                                        Country code as per ISO 3166-1 and ISO
                                        3166-2 format
                            area_code:
                              type: string
                            circle:
                              description: >-
                                Describes a circular region of a specified
                                radius centered at a specified GPS coordinate.
                              type: object
                              additionalProperties: false
                              properties:
                                gps: *ref_140
                                radius: &ref_160
                                  description: Describes a scalar
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - CONSTANT
                                        - VARIABLE
                                    value: &ref_141
                                      description: >-
                                        Describes a numerical value in decimal
                                        form
                                      type: string
                                      pattern: '[+-]?([0-9]*[.])?[0-9]+'
                                    estimated_value: *ref_141
                                    computed_value: *ref_141
                                    range:
                                      type: object
                                      properties:
                                        min: *ref_141
                                        max: *ref_141
                                    unit:
                                      type: string
                            polygon:
                              description: The boundary polygon of this location
                              type: string
                            3dspace:
                              description: >-
                                The three dimensional region describing this
                                location
                              type: string
                            rating:
                              description: The rating of this location
                              allOf:
                                - &ref_145
                                  description: >-
                                    Rating value given to the object. This can
                                    be a single value or can also contain an
                                    inequality operator like gt, gte, lt, lte.
                                    This can also contain an inequality
                                    expression containing logical operators like
                                    && and ||.
                                  type: string
                    action:
                      description: >-
                        The Beckn protocol method being called by the sender and
                        executed at the receiver.
                      type: string
                    version:
                      type: string
                      description: >-
                        Version of transaction protocol being used by the
                        sender.
                    bap_id:
                      description: Subscriber ID of the BAP
                      allOf:
                        - &ref_142
                          description: >-
                            A globally unique identifier of the platform,
                            Typically it is the fully qualified domain name
                            (FQDN) of the platform.
                          type: string
                    bap_uri:
                      description: >-
                        Subscriber URL of the BAP for accepting callbacks from
                        BPPs.
                      allOf:
                        - &ref_143
                          description: >-
                            The callback URL of the Subscriber. This should
                            necessarily contain the same domain name as set in
                            `subscriber_id``.
                          type: string
                          format: uri
                    bpp_id:
                      description: Subscriber ID of the BPP
                      allOf:
                        - *ref_142
                    bpp_uri:
                      description: Subscriber URL of the BPP for accepting calls from BAPs.
                      allOf:
                        - *ref_143
                    transaction_id:
                      description: >-
                        This is a unique value which persists across all API
                        calls from `search` through `confirm`. This is done to
                        indicate an active user session across multiple
                        requests. The BPPs can use this value to push
                        personalized recommendations, and dynamic offerings
                        related to an ongoing transaction despite being unaware
                        of the user active on the BAP.
                      type: string
                      format: uuid
                    message_id:
                      description: >-
                        This is a unique value which persists during a request /
                        callback cycle. Since beckn protocol APIs are
                        asynchronous, BAPs need a common value to match an
                        incoming callback from a BPP to an earlier call. This
                        value can also be used to ignore duplicate messages
                        coming from the BPP. It is recommended to generate a
                        fresh message_id for every new interaction. When sending
                        unsolicited callbacks, BPPs must generate a new
                        message_id.
                      type: string
                      format: uuid
                    timestamp:
                      description: Time of request generation in RFC3339 format
                      type: string
                      format: date-time
                    key:
                      description: The encryption public key of the sender
                      type: string
                    ttl:
                      description: >-
                        The duration in ISO8601 format after timestamp for which
                        this message holds valid
                      type: string
                - type: object
                  properties:
                    action:
                      enum:
                        - init
                  required:
                    - action
            message:
              type: object
              properties:
                order:
                  description: >-
                    Describes a legal purchase order. It contains the complete
                    details of the legal contract created between the buyer and
                    the seller.
                  type: object
                  additionalProperties: false
                  properties:
                    id:
                      type: string
                      description: >-
                        Human-readable ID of the order. This is generated at the
                        BPP layer. The BPP can either generate order id within
                        its system or forward the order ID created at the
                        provider level.
                    ref_order_ids:
                      description: >-
                        A list of order IDs to link this order to previous
                        orders.
                      type: array
                      items:
                        type: string
                        description: ID of a previous order
                    status:
                      description: >-
                        Status of the order. Allowed values can be defined by
                        the network policy
                      type: string
                      enum:
                        - ACTIVE
                        - COMPLETE
                        - CANCELLED
                    type:
                      description: >-
                        This is used to indicate the type of order being created
                        to BPPs. Sometimes orders can be linked to previous
                        orders, like a replacement order in a retail domain. A
                        follow-up consultation in healthcare domain. A single
                        order part of a subscription order. The list of order
                        types can be standardized at the network level.
                      type: string
                      default: DEFAULT
                      enum:
                        - DRAFT
                        - DEFAULT
                    provider:
                      description: >-
                        Details of the provider whose catalog items have been
                        selected.
                      allOf:
                        - description: Describes the catalog of a business.
                          type: object
                          properties:
                            id:
                              type: string
                              description: Id of the provider
                            descriptor: *ref_144
                            category_id:
                              type: string
                              description: >-
                                Category Id of the provider at the BPP-level
                                catalog
                            rating: *ref_145
                            time: &ref_148
                              description: >-
                                Describes time in its various forms. It can be a
                                single point in time; duration; or a structured
                                timetable of operations<br>This has properties
                                like label, time stamp,duration,range, days,
                                schedule
                              type: object
                              additionalProperties: false
                              properties:
                                label:
                                  type: string
                                timestamp:
                                  type: string
                                  format: date-time
                                duration: &ref_146
                                  description: Describes duration as per ISO8601 format
                                  type: string
                                range:
                                  type: object
                                  properties:
                                    start:
                                      type: string
                                      format: date-time
                                    end:
                                      type: string
                                      format: date-time
                                days:
                                  type: string
                                  description: >-
                                    comma separated values representing days of
                                    the week
                                schedule:
                                  description: >-
                                    Describes schedule as a repeating time
                                    period used to describe a regularly
                                    recurring event. At a minimum a schedule
                                    will specify frequency which describes the
                                    interval between occurrences of the event.
                                    Additional information can be provided to
                                    specify the schedule more precisely. This
                                    includes identifying the timestamps(s) of
                                    when the event will take place. Schedules
                                    may also have holidays to exclude a specific
                                    day from the schedule.<br>This has
                                    properties like frequency, holidays, times
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    frequency: *ref_146
                                    holidays:
                                      type: array
                                      items:
                                        type: string
                                        format: date-time
                                    times:
                                      type: array
                                      items:
                                        type: string
                                        format: date-time
                            categories:
                              type: array
                              items:
                                description: >-
                                  A label under which a collection of items can
                                  be grouped.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_147
                                    description: ID of the category
                                    type: string
                                  parent_category_id: *ref_147
                                  descriptor: *ref_144
                                  time: *ref_148
                                  ttl:
                                    description: >-
                                      Time to live for an instance of this
                                      schema
                                  tags:
                                    type: array
                                    items: &ref_153
                                      description: >-
                                        A collection of tag objects with group
                                        level attributes. For detailed
                                        documentation on the Tags and Tag Groups
                                        schema go to
                                        https://github.com/beckn/protocol-specifications/discussions/316
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        display:
                                          description: >-
                                            Indicates the display properties of the
                                            tag group. If display is set to false,
                                            then the group will not be displayed. If
                                            it is set to true, it should be
                                            displayed. However, group-level display
                                            properties can be overriden by
                                            individual tag-level display property.
                                            As this schema is purely for catalog
                                            display purposes, it is not recommended
                                            to send this value during search.
                                          type: boolean
                                          default: true
                                        descriptor:
                                          description: >-
                                            Description of the TagGroup, can be used
                                            to store detailed information.
                                          allOf:
                                            - *ref_144
                                        list:
                                          description: >-
                                            An array of Tag objects listed under
                                            this group. This property can be set by
                                            BAPs during search to narrow the
                                            `search` and achieve more relevant
                                            results. When received during
                                            `on_search`, BAPs must render this list
                                            under the heading described by the
                                            `name` property of this schema.
                                          type: array
                                          items:
                                            description: >-
                                              Describes a tag. This is used to contain
                                              extended metadata. This object can be
                                              added as a property to any schema to
                                              describe extended attributes. For BAPs,
                                              tags can be sent during search to
                                              optimize and filter search results. BPPs
                                              can use tags to index their catalog to
                                              allow better search functionality. Tags
                                              are sent by the BPP as part of the
                                              catalog response in the `on_search`
                                              callback. Tags are also meant for
                                              display purposes. Upon receiving a tag,
                                              BAPs are meant to render them as
                                              name-value pairs. This is particularly
                                              useful when rendering tabular
                                              information about a product or service.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              descriptor:
                                                description: >-
                                                  Description of the Tag, can be used to
                                                  store detailed information.
                                                allOf:
                                                  - *ref_144
                                              value:
                                                description: >-
                                                  The value of the tag. This set by the
                                                  BPP and rendered as-is by the BAP.
                                                type: string
                                              display:
                                                description: >-
                                                  This value indicates if the tag is
                                                  intended for display purposes. If set to
                                                  `true`, then this tag must be displayed.
                                                  If it is set to `false`, it should not
                                                  be displayed. This value can override
                                                  the group display value.
                                                type: boolean
                            fulfillments:
                              type: array
                              items: &ref_171
                                description: >-
                                  Describes how a an order will be
                                  rendered/fulfilled to the end-customer
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_162
                                    description: >-
                                      Unique reference ID to the fulfillment of
                                      an order
                                    type: string
                                  type:
                                    description: >-
                                      A code that describes the mode of
                                      fulfillment. This is typically set when
                                      there are multiple ways an order can be
                                      fulfilled. For example, a retail order can
                                      be fulfilled either via store pickup or a
                                      home delivery. Similarly, a medical
                                      consultation can be provided either
                                      in-person or via tele-consultation. The
                                      network policy must publish standard
                                      fulfillment type codes for the different
                                      modes of fulfillment.
                                    type: string
                                  rateable:
                                    description: >-
                                      Whether the fulfillment can be rated or
                                      not
                                    type: boolean
                                  rating:
                                    description: >-
                                      The rating value of the fulfullment
                                      service.
                                    allOf:
                                      - *ref_145
                                  state:
                                    description: >-
                                      The current state of fulfillment. The BPP
                                      must set this value whenever the state of
                                      the order fulfillment changes and fire an
                                      unsolicited `on_status` call.
                                    allOf:
                                      - &ref_165
                                        description: Describes the state of fulfillment
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          descriptor: *ref_144
                                          updated_at:
                                            type: string
                                            format: date-time
                                          updated_by:
                                            type: string
                                            description: ID of entity which changed the state
                                  tracking:
                                    type: boolean
                                    description: >-
                                      Indicates whether the fulfillment allows
                                      tracking
                                    default: false
                                  customer:
                                    description: >-
                                      The person that will ultimately receive
                                      the order
                                    allOf:
                                      - description: >-
                                          Describes a customer buying/availing a
                                          product or a service
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          organization: &ref_156
                                            description: >-
                                              An organization. Usually a recognized
                                              business entity.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              descriptor: *ref_144
                                              address:
                                                description: The postal address of the organization
                                                allOf:
                                                  - *ref_149
                                              state:
                                                description: >-
                                                  The state where the organization's
                                                  address is registered
                                                allOf:
                                                  - *ref_150
                                              city:
                                                description: >-
                                                  The city where the the organization's
                                                  address is registered
                                                allOf:
                                                  - *ref_151
                                              contact: &ref_154
                                                description: >-
                                                  Describes the contact information of an
                                                  entity
                                                type: object
                                                additionalProperties: false
                                                properties:
                                                  phone:
                                                    type: string
                                                  email:
                                                    type: string
                                                  jcard:
                                                    type: object
                                                    description: >-
                                                      A Jcard object as per
                                                      draft-ietf-jcardcal-jcard-03
                                                      specification
                                          person: &ref_155
                                            description: Describes a person as any individual
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                                description: Describes the identity of the person
                                              url:
                                                description: Profile url of the person
                                                type: string
                                                format: uri
                                              name:
                                                description: the name of the person
                                                type: string
                                              image: *ref_152
                                              age:
                                                description: Age of the person
                                                allOf:
                                                  - *ref_146
                                              dob:
                                                description: Date of birth of the person
                                                type: string
                                                format: date
                                              gender:
                                                type: string
                                                description: >-
                                                  Gender of something, typically a Person,
                                                  but possibly also fictional characters,
                                                  animals, etc. While Male and Female may
                                                  be used, text strings are also
                                                  acceptable for people who do not
                                                  identify as a binary gender.Allowed
                                                  values for this field can be published
                                                  in the network policy
                                              creds:
                                                type: array
                                                items:
                                                  description: >-
                                                    Describes a credential of an entity -
                                                    Person or Organization
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    id:
                                                      type: string
                                                    type:
                                                      type: string
                                                      default: VerifiableCredential
                                                    url:
                                                      description: URL of the credential
                                                      type: string
                                                      format: uri
                                              languages:
                                                type: array
                                                items:
                                                  description: >-
                                                    Describes a language known to the
                                                    person.
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    code:
                                                      type: string
                                                    name:
                                                      type: string
                                              skills:
                                                type: array
                                                items:
                                                  description: Describes a skill of the person.
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    code:
                                                      type: string
                                                    name:
                                                      type: string
                                              tags:
                                                type: array
                                                items: *ref_153
                                          contact: *ref_154
                                  agent:
                                    description: >-
                                      The agent that is currently handling the
                                      fulfillment of the order
                                    allOf:
                                      - description: >-
                                          Describes the direct performer, driver
                                          or executor that fulfills an order. It
                                          is usually a person. But in some rare
                                          cases, it could be a non-living entity
                                          like a drone, or a bot. Some examples of
                                          agents are Doctor in the healthcare
                                          sector, a driver in the mobility sector,
                                          or a delivery person in the logistics
                                          sector. This object can be set at any
                                          stage of the order lifecycle. This can
                                          be set at the discovery stage when the
                                          BPP wants to provide details on the
                                          agent fulfilling the order, like in
                                          healthcare, where the doctor's name
                                          appears during search. This object can
                                          also used to search for a particular
                                          person that the customer wants
                                          fulfilling an order. Sometimes, this
                                          object gets instantiated after the order
                                          is confirmed, like in the case of
                                          on-demand taxis, where the driver is
                                          assigned after the user confirms the
                                          ride.
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          person: *ref_155
                                          contact: *ref_154
                                          organization: *ref_156
                                          rating: *ref_145
                                  contact: *ref_154
                                  vehicle:
                                    description: >-
                                      Describes a vehicle is a device that is
                                      designed or used to transport people or
                                      cargo over land, water, air, or through
                                      space.<br>This has properties like
                                      category, capacity, make, model,
                                      size,variant,color,energy_type,registration
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      category:
                                        type: string
                                      capacity:
                                        type: integer
                                      make:
                                        type: string
                                      model:
                                        type: string
                                      size:
                                        type: string
                                      variant:
                                        type: string
                                      color:
                                        type: string
                                      energy_type:
                                        type: string
                                      registration:
                                        type: string
                                      wheels_count:
                                        type: string
                                      cargo_volumne:
                                        type: string
                                      wheelchair_access:
                                        type: string
                                      code:
                                        type: string
                                      emission_standard:
                                        type: string
                                  stops:
                                    description: >-
                                      The list of logical stops encountered
                                      during the fulfillment of an order.
                                    type: array
                                    items:
                                      description: >-
                                        A logical point in space and time during
                                        the fulfillment of an order.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                        parent_stop_id:
                                          type: string
                                        location:
                                          description: Location of the stop
                                          allOf:
                                            - *ref_157
                                        type:
                                          description: >-
                                            The type of stop. Allowed values of this
                                            property can be defined by the network
                                            policy.
                                          type: string
                                        time:
                                          description: Timings applicable at the stop.
                                          allOf:
                                            - *ref_148
                                        instructions:
                                          description: >-
                                            Instructions that need to be followed at
                                            the stop
                                          allOf:
                                            - *ref_144
                                        contact:
                                          description: Contact details of the stop
                                          allOf:
                                            - *ref_154
                                        person:
                                          description: >-
                                            The details of the person present at the
                                            stop
                                          allOf:
                                            - *ref_155
                                        authorization:
                                          description: >-
                                            Describes an authorization mechanism
                                            used to start or end the fulfillment of
                                            an order. For example, in the mobility
                                            sector, the driver may require a
                                            one-time password to initiate the ride.
                                            In the healthcare sector, a patient may
                                            need to provide a password to open a
                                            video conference link during a
                                            teleconsultation.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            type:
                                              description: >-
                                                Type of authorization mechanism used.
                                                The allowed values for this field can be
                                                published as part of the network policy.
                                              type: string
                                            token:
                                              description: >-
                                                Token used for authorization. This is
                                                typically generated at the BPP. The BAP
                                                can send this value to the user via any
                                                channel that it uses to authenticate the
                                                user like SMS, Email, Push notification,
                                                or in-app rendering.
                                              type: string
                                            valid_from:
                                              description: >-
                                                Timestamp in RFC3339 format from which
                                                token is valid
                                              type: string
                                              format: date-time
                                            valid_to:
                                              description: >-
                                                Timestamp in RFC3339 format until which
                                                token is valid
                                              type: string
                                              format: date-time
                                            status:
                                              description: Status of the token
                                              type: string
                                  path:
                                    description: >-
                                      The physical path taken by the agent that
                                      can be rendered on a map. The allowed
                                      format of this property can be set by the
                                      network.
                                    type: string
                                  tags:
                                    type: array
                                    items: *ref_153
                            payments:
                              type: array
                              items: &ref_176
                                description: >-
                                  Describes the terms of settlement between the
                                  BAP and the BPP for a single transaction. When
                                  instantiated, this object contains <ol><li>the
                                  amount that has to be settled,</li><li>The
                                  payment destination destination
                                  details</li><li>When the settlement should
                                  happen, and</li><li>A transaction reference
                                  ID</li></ol>. During a transaction, the BPP
                                  reserves the right to decide the terms of
                                  payment. However, the BAP can send its terms
                                  to the BPP first. If the BPP does not agree to
                                  those terms, it must overwrite the terms and
                                  return them to the BAP. If overridden, the BAP
                                  must either agree to the terms sent by the BPP
                                  in order to preserve the provider's autonomy,
                                  or abort the transaction. In case of such
                                  disagreements, the BAP and the BPP can perform
                                  offline negotiations on the payment terms.
                                  Once an agreement is reached, the BAP and BPP
                                  can resume transactions.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_163
                                    description: >-
                                      ID of the payment term that can be
                                      referred at an item or an order level in a
                                      catalog
                                    type: string
                                  collected_by:
                                    description: >-
                                      This field indicates who is the collector
                                      of payment. The BAP can set this value to
                                      'bap' if it wants to collect the payment
                                      first and  settle it to the BPP. If the
                                      BPP agrees to those terms, the BPP should
                                      not send the payment url. Alternatively,
                                      the BPP can set this field with the value
                                      'bpp' if it wants the payment to be made
                                      directly.
                                    type: string
                                  url:
                                    type: string
                                    description: >-
                                      A payment url to be called by the BAP. If
                                      empty, then the payment is to be done
                                      offline. The details of payment should be
                                      present in the params object. If tl_method
                                      = http/get, then the payment details will
                                      be sent as url params. Two url param
                                      values, ```$transaction_id``` and
                                      ```$amount``` are mandatory.
                                    format: uri
                                  params:
                                    type: object
                                    properties:
                                      transaction_id:
                                        type: string
                                        description: >-
                                          The reference transaction ID associated
                                          with a payment activity
                                      amount:
                                        type: string
                                      currency:
                                        type: string
                                      bank_code:
                                        type: string
                                      bank_account_number:
                                        type: string
                                      virtual_payment_address:
                                        type: string
                                      source_bank_code:
                                        type: string
                                      source_bank_account_number:
                                        type: string
                                      source_virtual_payment_address:
                                        type: string
                                  type:
                                    type: string
                                    enum:
                                      - PRE-ORDER
                                      - PRE-FULFILLMENT
                                      - ON-FULFILLMENT
                                      - POST-FULFILLMENT
                                      - ON_ORDER
                                  status:
                                    type: string
                                    enum:
                                      - PAID
                                      - NOT-PAID
                                  time: *ref_148
                                  tags:
                                    type: array
                                    items: *ref_153
                            locations:
                              type: array
                              items: *ref_157
                            offers:
                              type: array
                              items: &ref_170
                                description: >-
                                  An offer associated with a catalog. This is
                                  typically used to promote a particular product
                                  and enable more purchases.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  descriptor: *ref_144
                                  location_ids:
                                    type: array
                                    items: *ref_158
                                  category_ids:
                                    type: array
                                    items: *ref_147
                                  item_ids:
                                    type: array
                                    items: &ref_159
                                      description: ID of the item.
                                      type: string
                                  time: *ref_148
                                  tags:
                                    type: array
                                    items: *ref_153
                            items:
                              type: array
                              items: &ref_168
                                description: >-
                                  Describes a product or a service offered to
                                  the end consumer by the provider. In the
                                  mobility sector, it can represent a fare
                                  product like one way journey. In the logistics
                                  sector, it can represent the delivery service
                                  offering. In the retail domain it can
                                  represent a product like a grocery item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: *ref_159
                                  parent_item_id:
                                    description: ID of the item, this item is a variant of
                                    allOf:
                                      - *ref_159
                                  parent_item_quantity:
                                    description: >-
                                      The number of units of the parent item
                                      this item is a multiple of
                                    allOf:
                                      - &ref_161
                                        description: Describes the count or amount of an item
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          allocated:
                                            description: >-
                                              This represents the exact quantity
                                              allocated for purchase of the item.
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_160
                                          available:
                                            description: >-
                                              This represents the exact quantity
                                              available for purchase of the item. The
                                              buyer can only purchase multiples of
                                              this
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_160
                                          maximum:
                                            description: >-
                                              This represents the maximum quantity
                                              allowed for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 1
                                              measure: *ref_160
                                          minimum:
                                            description: >-
                                              This represents the minimum quantity
                                              allowed for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_160
                                          selected:
                                            description: >-
                                              This represents the quantity selected
                                              for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_160
                                          unitized:
                                            description: >-
                                              This represents the quantity available
                                              in a single unit of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 1
                                                maximum: 1
                                              measure: *ref_160
                                  descriptor:
                                    description: Physical description of the item
                                    allOf:
                                      - *ref_144
                                  creator:
                                    description: The creator of this item
                                    allOf:
                                      - *ref_156
                                  price:
                                    description: >-
                                      The price of this item, if it has
                                      intrinsic value
                                    allOf:
                                      - &ref_164
                                        description: >-
                                          Describes the price of a product or
                                          service
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          currency:
                                            type: string
                                          value: *ref_141
                                          estimated_value: *ref_141
                                          computed_value: *ref_141
                                          listed_value: *ref_141
                                          offered_value: *ref_141
                                          minimum_value: *ref_141
                                          maximum_value: *ref_141
                                  quantity:
                                    description: The selling quantity of the item
                                    allOf:
                                      - *ref_161
                                  category_ids:
                                    description: Categories this item can be listed under
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_147
                                  fulfillment_ids:
                                    description: >-
                                      Modes through which this item can be
                                      fulfilled
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_162
                                  location_ids:
                                    description: >-
                                      Provider Locations this item is available
                                      in
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_158
                                  payment_ids:
                                    description: >-
                                      Payment modalities through which this item
                                      can be ordered
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_163
                                  add_ons:
                                    type: array
                                    items: &ref_169
                                      description: >-
                                        Describes an additional item offered as
                                        a value-addition to a product or
                                        service. This does not exist
                                        independently in a catalog and is always
                                        associated with an item.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          description: Provider-defined ID of the add-on
                                          type: string
                                        descriptor: *ref_144
                                        price: *ref_164
                                        quantity: *ref_161
                                  cancellation_terms:
                                    description: Cancellation terms of this item
                                    type: array
                                    items: &ref_172
                                      description: >-
                                        Describes the cancellation terms of an
                                        item or an order. This can be referenced
                                        at an item or order level. Item-level
                                        cancellation terms can override the
                                        terms at the order level.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_165
                                        reason_required:
                                          description: >-
                                            Indicates whether a reason is required
                                            to cancel the order
                                          type: boolean
                                        cancel_by:
                                          description: >-
                                            Information related to the time of
                                            cancellation.
                                          allOf:
                                            - *ref_148
                                        cancellation_fee:
                                          description: A fee applied on a particular entity
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            percentage:
                                              description: Percentage of a value
                                              allOf:
                                                - *ref_141
                                            amount:
                                              description: A fixed value
                                              allOf:
                                                - *ref_164
                                        xinput: &ref_167
                                          description: >-
                                            Contains any additional or extended
                                            inputs required to confirm an order.
                                            This is typically a Form Input.
                                            Sometimes, selection of catalog elements
                                            is not enough for the BPP to confirm an
                                            order. For example, to confirm a flight
                                            ticket, the airline requires details of
                                            the passengers along with information on
                                            baggage, identity, in addition to the
                                            class of ticket. Similarly, a logistics
                                            company may require details on the
                                            nature of shipment in order to confirm
                                            the shipping. A recruiting firm may
                                            require additional details on the
                                            applicant in order to confirm a job
                                            application. For all such purposes, the
                                            BPP can choose to send this object
                                            attached to any object in the catalog
                                            that is required to be sent while
                                            placing the order. This object can
                                            typically be sent at an item level or at
                                            the order level. The item level XInput
                                            will override the Order level XInput as
                                            it indicates a special requirement of
                                            information for that particular item.
                                            Hence the BAP must render a separate
                                            form for the Item and another form at
                                            the Order level before confirmation.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            head:
                                              description: >-
                                                Provides the header information for the
                                                xinput.
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                descriptor: *ref_144
                                                index:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    min:
                                                      type: integer
                                                    cur:
                                                      type: integer
                                                    max:
                                                      type: integer
                                                headings:
                                                  type: array
                                                  items:
                                                    type: string
                                                    description: The heading names of the forms
                                            form:
                                              description: Describes a form
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                id:
                                                  description: The form identifier.
                                                  type: string
                                                url:
                                                  description: >-
                                                    The URL from where the form can be
                                                    fetched. The content fetched from the
                                                    url must be processed as per the
                                                    mime_type specified in this object. Once
                                                    fetched, the rendering platform can
                                                    choosed to render the form as-is as an
                                                    embeddable element; or process it
                                                    further to blend with the theme of the
                                                    application. In case the interface is
                                                    non-visual, the the render can process
                                                    the form data and reproduce it as per
                                                    the standard specified in the form.
                                                  type: string
                                                  format: uri
                                                data:
                                                  description: The form submission data
                                                  type: object
                                                  additionalProperties:
                                                    type: string
                                                mime_type:
                                                  description: >-
                                                    This field indicates the nature and
                                                    format of the form received by querying
                                                    the url. MIME types are defined and
                                                    standardized in IETF's RFC 6838.
                                                  type: string
                                                  enum:
                                                    - text/html
                                                    - application/html
                                                    - application/xml
                                                resubmit:
                                                  type: boolean
                                                multiple_sumbissions:
                                                  type: boolean
                                            form_response:
                                              description: >-
                                                Describes the response to a form
                                                submission
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                status:
                                                  description: Contains the status of form submission.
                                                  type: string
                                                signature:
                                                  type: string
                                                submission_id:
                                                  type: string
                                                errors:
                                                  type: array
                                                  items:
                                                    description: >-
                                                      Describes an error object that is
                                                      returned by a BAP, BPP or BG as a
                                                      response or callback to an action by
                                                      another network participant. This object
                                                      is sent when any request received by a
                                                      network participant is unacceptable.
                                                      This object can be sent either during
                                                      Ack or with the callback.
                                                    type: object
                                                    additionalProperties: false
                                                    properties:
                                                      code:
                                                        type: string
                                                        description: >-
                                                          Standard error code. For full list of
                                                          error codes, refer to
                                                          docs/protocol-drafts/BECKN-005-ERROR-CODES-DRAFT-01.md
                                                          of this repo"
                                                      paths:
                                                        type: string
                                                        description: >-
                                                          Path to json schema generating the
                                                          error. Used only during json schema
                                                          validation errors
                                                      message:
                                                        type: string
                                                        description: >-
                                                          Human readable message describing the
                                                          error. Used mainly for logging. Not
                                                          recommended to be shown to the user.
                                            required:
                                              description: >-
                                                Indicates whether the form data is
                                                mandatorily required by the BPP to
                                                confirm the order.
                                              type: boolean
                                        external_ref: *ref_166
                                  refund_terms:
                                    description: Refund terms of this item
                                    type: array
                                    items: &ref_173
                                      description: Refund term of an item or an order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_150
                                        refund_eligible:
                                          description: >-
                                            Indicates if cancellation will result in
                                            a refund
                                          type: boolean
                                        refund_within:
                                          description: >-
                                            Time within which refund will be
                                            processed after successful cancellation.
                                          allOf:
                                            - *ref_148
                                        refund_amount: *ref_164
                                  replacement_terms:
                                    description: >-
                                      Terms that are applicable be met when this
                                      item is replaced
                                    type: array
                                    items: &ref_174
                                      description: >-
                                        The replacement policy of an item or an
                                        order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_150
                                        replace_within:
                                          description: >-
                                            Applicable only for buyer managed
                                            returns where the buyer has to replace
                                            the item before a certain date-time,
                                            failing which they will not be eligible
                                            for replacement
                                          allOf:
                                            - *ref_148
                                        external_ref: *ref_166
                                  return_terms:
                                    description: >-
                                      Terms that are applicable when this item
                                      is returned
                                    type: array
                                    items: &ref_175
                                      description: >-
                                        Describes the return policy of an item
                                        or an order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term IETF''s applicable.
                                          allOf:
                                            - *ref_150
                                        return_eligible:
                                          description: >-
                                            Indicates whether the item is eligible
                                            for return
                                          type: boolean
                                        return_time:
                                          description: >-
                                            Applicable only for buyer managed
                                            returns where the buyer has to return
                                            the item to the origin before a certain
                                            date-time, failing which they will not
                                            be eligible for refund.
                                          allOf:
                                            - *ref_148
                                        return_location:
                                          description: >-
                                            The location where the item or order
                                            must / will be returned to
                                          allOf:
                                            - *ref_157
                                        fulfillment_managed_by:
                                          description: The entity that will perform the return
                                          type: string
                                          enum:
                                            - CONSUMER
                                            - PROVIDER
                                  xinput:
                                    description: >-
                                      Additional input required from the
                                      customer to purchase / avail this item
                                    allOf:
                                      - *ref_167
                                  time:
                                    description: >-
                                      Temporal attributes of this item. This
                                      property is used when the item exists on
                                      the catalog only for a limited period of
                                      time.
                                    allOf:
                                      - *ref_148
                                  rateable:
                                    description: Whether this item can be rated
                                    type: boolean
                                  rating:
                                    description: The rating of the item
                                    allOf:
                                      - *ref_145
                                  matched:
                                    description: >-
                                      Whether this item is an exact match of the
                                      request
                                    type: boolean
                                  related:
                                    description: >-
                                      Whether this item is a related item to the
                                      exactly matched item
                                    type: boolean
                                  recommended:
                                    description: >-
                                      Whether this item is a recommended item to
                                      a response
                                    type: boolean
                                  ttl:
                                    description: >-
                                      Time to live in seconds for an instance of
                                      this schema
                                    type: string
                                  tags:
                                    type: array
                                    items: *ref_153
                            exp:
                              type: string
                              description: Time after which catalog has to be refreshed
                              format: date-time
                            rateable:
                              description: Whether this provider can be rated or not
                              type: boolean
                            ttl:
                              description: >-
                                The time-to-live in seconds, for this object.
                                This can be overriden at deeper levels. A value
                                of -1 indicates that this object is not
                                cacheable.
                              type: string
                            tags:
                              type: array
                              items: *ref_153
                    items:
                      description: The items purchased / availed in this order
                      type: array
                      items: *ref_168
                    add_ons:
                      description: The add-ons purchased / availed in this order
                      type: array
                      items: *ref_169
                    offers:
                      description: The offers applied in this order
                      type: array
                      items: *ref_170
                    billing:
                      description: The billing details of this order
                      allOf:
                        - description: >-
                            Describes the billing details of an entity.<br>This
                            has properties like
                            name,organization,address,email,phone,time,tax_number,
                            created_at,updated_at
                          type: object
                          additionalProperties: false
                          properties:
                            name:
                              description: Name of the billable entity
                              type: string
                            organization:
                              description: Details of the organization being billed.
                              allOf:
                                - *ref_156
                            address:
                              description: The address of the billable entity
                              allOf:
                                - *ref_149
                            state:
                              description: >-
                                The state where the billable entity resides.
                                This is important for state-level tax
                                calculation
                              allOf:
                                - *ref_150
                            city:
                              description: The city where the billable entity resides.
                              allOf:
                                - *ref_151
                            email:
                              description: Email address where the bill is sent to
                              type: string
                              format: email
                            phone:
                              description: Phone number of the billable entity
                              type: string
                            time:
                              description: Details regarding the billing period
                              allOf:
                                - *ref_148
                            tax_id:
                              description: >-
                                ID of the billable entity as recognized by the
                                taxation authority
                              type: string
                    fulfillments:
                      description: The fulfillments involved in completing this order
                      type: array
                      items: *ref_171
                    cancellation:
                      description: The cancellation details of this order
                      allOf:
                        - description: Describes a cancellation event
                          type: object
                          additionalProperties: false
                          properties:
                            time:
                              description: >-
                                Date-time when the order was cancelled by the
                                buyer
                              type: string
                              format: date-time
                            cancelled_by:
                              type: string
                              enum:
                                - CONSUMER
                                - PROVIDER
                            reason:
                              description: The reason for cancellation
                              allOf:
                                - description: Describes a selectable option
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    id:
                                      type: string
                                    descriptor: *ref_144
                            additional_description:
                              description: >-
                                Any additional information regarding the nature
                                of cancellation
                              allOf:
                                - *ref_144
                    cancellation_terms:
                      description: Cancellation terms of this item
                      type: array
                      items: *ref_172
                    documents:
                      type: array
                      items:
                        description: Documnents associated to the order
                        type: object
                        additionalProperties: false
                        properties:
                          descriptor: *ref_144
                          mime_type:
                            description: >-
                              This field indicates the nature and format of the
                              form received by querying the url. MIME types are
                              defined and standardized in IETF's RFC 6838.
                            type: string
                            enum:
                              - text/html
                              - application/html
                              - application/xml
                              - application/pdf
                          url:
                            description: >-
                              The URL from where the form can be fetched. The
                              content fetched from the url must be processed as
                              per the mime_type specified in this object.
                            type: string
                            format: uri
                    refund_terms:
                      description: Refund terms of this item
                      type: array
                      items: *ref_173
                    replacement_terms:
                      description: Replacement terms of this item
                      type: array
                      items: *ref_174
                    return_terms:
                      description: Return terms of this item
                      type: array
                      items: *ref_175
                    quote:
                      description: The mutually agreed upon quotation for this order.
                      allOf:
                        - description: >-
                            Describes a quote. It is the estimated price of
                            products or services from the BPP.<br>This has
                            properties like price, breakup, ttl
                          type: object
                          additionalProperties: false
                          properties:
                            id:
                              description: ID of the quote.
                              type: string
                            price:
                              description: The total quoted price
                              allOf:
                                - *ref_164
                            breakup:
                              description: the breakup of the total quoted price
                              type: array
                              items:
                                type: object
                                properties:
                                  item: *ref_168
                                  title:
                                    type: string
                                  price: *ref_164
                            ttl: *ref_146
                    payments:
                      description: The terms of settlement for this order
                      type: array
                      items: *ref_176
                    created_at:
                      description: The date-time of creation of this order
                      type: string
                      format: date-time
                    updated_at:
                      description: The date-time of updated of this order
                      type: string
                      format: date-time
                    xinput:
                      description: >-
                        Additional input required from the customer to confirm
                        this order
                      allOf:
                        - *ref_167
                    tags:
                      type: array
                      items: *ref_153
              required:
                - order
          required:
            - context
            - message
        on_init:
          type: object
          properties:
            context:
              allOf:
                - description: >-
                    Every API call in beckn protocol has a context. It provides
                    a high-level overview to the receiver about the nature of
                    the intended transaction. Typically, it is the BAP that sets
                    the transaction context based on the consumer's location and
                    action on their UI. But sometimes, during unsolicited
                    callbacks, the BPP also sets the transaction context but it
                    is usually the same as the context of a previous full-cycle,
                    request-callback interaction between the BAP and the BPP.
                    The context object contains four types of fields.
                    <ol><li>Demographic information about the transaction using
                    fields like `domain`, `country`, and
                    `region`.</li><li>Addressing details like the sending and
                    receiving platform's ID and API
                    URL.</li><li>Interoperability information like the protocol
                    version that implemented by the sender
                    and,</li><li>Transaction details like the method being
                    called at the receiver's endpoint, the transaction_id that
                    represents an end-to-end user session at the BAP, a message
                    ID to pair requests with callbacks, a timestamp to capture
                    sending times, a ttl to specifiy the validity of the
                    request, and a key to encrypt information if
                    necessary.</li></ol> This object must be passed in every
                    interaction between a BAP and a BPP. In HTTP/S
                    implementations, it is not necessary to send the context
                    during the synchronous response. However, in asynchronous
                    protocols, the context must be sent during all interactions,
                  type: object
                  additionalProperties: false
                  properties:
                    domain:
                      description: Domain code that is relevant to this transaction context
                      allOf:
                        - type: string
                          description: >-
                            Standard code representing the domain. The standard
                            is usually published as part of the network policy.
                            Furthermore, the network facilitator should also
                            provide a mechanism to provide the supported domains
                            of a network.
                    location:
                      description: >-
                        The location where the transaction is intended to be
                        fulfilled.
                      allOf:
                        - &ref_194
                          description: The physical location of something
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_195
                              type: string
                            descriptor: &ref_181
                              description: Physical description of something.
                              type: object
                              additionalProperties: false
                              properties:
                                name:
                                  type: string
                                code:
                                  type: string
                                short_desc:
                                  type: string
                                long_desc:
                                  type: string
                                additional_desc:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                                    content_type:
                                      type: string
                                      enum:
                                        - text/plain
                                        - text/html
                                        - application/json
                                media:
                                  type: array
                                  items: &ref_203
                                    description: >-
                                      This object contains a url to a media
                                      file.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      mimetype:
                                        description: >-
                                          indicates the nature and format of the
                                          document, file, or assortment of bytes.
                                          MIME types are defined and standardized
                                          in IETF's RFC 6838
                                        type: string
                                      url:
                                        description: The URL of the file
                                        type: string
                                        format: uri
                                      signature:
                                        description: >-
                                          The digital signature of the file signed
                                          by the sender
                                        type: string
                                      dsa:
                                        description: The signing algorithm used by the sender
                                        type: string
                                images:
                                  type: array
                                  items: &ref_189
                                    description: Describes an image
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      url:
                                        description: >-
                                          URL to the image. This can be a data url
                                          or an remote url
                                        type: string
                                        format: uri
                                      size_type:
                                        description: >-
                                          The size of the image. The network
                                          policy can define the default dimensions
                                          of each type
                                        type: string
                                        enum:
                                          - xs
                                          - sm
                                          - md
                                          - lg
                                          - xl
                                          - custom
                                      width:
                                        description: Width of the image in pixels
                                        type: string
                                      height:
                                        description: Height of the image in pixels
                                        type: string
                            map_url:
                              description: >-
                                The url to the map of the location. This can be
                                a globally recognized map url or the one
                                specified by the network policy.
                              type: string
                              format: uri
                            gps:
                              description: The GPS co-ordinates of this location.
                              allOf:
                                - &ref_177
                                  description: Describes a GPS coordinate
                                  type: string
                                  pattern: >-
                                    ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                            address:
                              description: The address of this location.
                              allOf:
                                - &ref_186
                                  description: Describes a postal address.
                                  type: string
                            city:
                              description: The city this location is, or is located within
                              allOf:
                                - &ref_188
                                  description: Describes a city
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      description: Name of the city
                                      type: string
                                    code:
                                      description: City code
                                      type: string
                            district:
                              description: The state this location is, or is located within
                              type: string
                            state:
                              description: The state this location is, or is located within
                              allOf:
                                - &ref_187
                                  description: >-
                                    A bounded geopolitical region of governance
                                    inside a country.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the state
                                    code:
                                      type: string
                                      description: >-
                                        State code as per country or
                                        international standards
                            country:
                              description: >-
                                The country this location is, or is located
                                within
                              allOf:
                                - description: Describes a country
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the country
                                    code:
                                      type: string
                                      description: >-
                                        Country code as per ISO 3166-1 and ISO
                                        3166-2 format
                            area_code:
                              type: string
                            circle:
                              description: >-
                                Describes a circular region of a specified
                                radius centered at a specified GPS coordinate.
                              type: object
                              additionalProperties: false
                              properties:
                                gps: *ref_177
                                radius: &ref_197
                                  description: Describes a scalar
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - CONSTANT
                                        - VARIABLE
                                    value: &ref_178
                                      description: >-
                                        Describes a numerical value in decimal
                                        form
                                      type: string
                                      pattern: '[+-]?([0-9]*[.])?[0-9]+'
                                    estimated_value: *ref_178
                                    computed_value: *ref_178
                                    range:
                                      type: object
                                      properties:
                                        min: *ref_178
                                        max: *ref_178
                                    unit:
                                      type: string
                            polygon:
                              description: The boundary polygon of this location
                              type: string
                            3dspace:
                              description: >-
                                The three dimensional region describing this
                                location
                              type: string
                            rating:
                              description: The rating of this location
                              allOf:
                                - &ref_182
                                  description: >-
                                    Rating value given to the object. This can
                                    be a single value or can also contain an
                                    inequality operator like gt, gte, lt, lte.
                                    This can also contain an inequality
                                    expression containing logical operators like
                                    && and ||.
                                  type: string
                    action:
                      description: >-
                        The Beckn protocol method being called by the sender and
                        executed at the receiver.
                      type: string
                    version:
                      type: string
                      description: >-
                        Version of transaction protocol being used by the
                        sender.
                    bap_id:
                      description: Subscriber ID of the BAP
                      allOf:
                        - &ref_179
                          description: >-
                            A globally unique identifier of the platform,
                            Typically it is the fully qualified domain name
                            (FQDN) of the platform.
                          type: string
                    bap_uri:
                      description: >-
                        Subscriber URL of the BAP for accepting callbacks from
                        BPPs.
                      allOf:
                        - &ref_180
                          description: >-
                            The callback URL of the Subscriber. This should
                            necessarily contain the same domain name as set in
                            `subscriber_id``.
                          type: string
                          format: uri
                    bpp_id:
                      description: Subscriber ID of the BPP
                      allOf:
                        - *ref_179
                    bpp_uri:
                      description: Subscriber URL of the BPP for accepting calls from BAPs.
                      allOf:
                        - *ref_180
                    transaction_id:
                      description: >-
                        This is a unique value which persists across all API
                        calls from `search` through `confirm`. This is done to
                        indicate an active user session across multiple
                        requests. The BPPs can use this value to push
                        personalized recommendations, and dynamic offerings
                        related to an ongoing transaction despite being unaware
                        of the user active on the BAP.
                      type: string
                      format: uuid
                    message_id:
                      description: >-
                        This is a unique value which persists during a request /
                        callback cycle. Since beckn protocol APIs are
                        asynchronous, BAPs need a common value to match an
                        incoming callback from a BPP to an earlier call. This
                        value can also be used to ignore duplicate messages
                        coming from the BPP. It is recommended to generate a
                        fresh message_id for every new interaction. When sending
                        unsolicited callbacks, BPPs must generate a new
                        message_id.
                      type: string
                      format: uuid
                    timestamp:
                      description: Time of request generation in RFC3339 format
                      type: string
                      format: date-time
                    key:
                      description: The encryption public key of the sender
                      type: string
                    ttl:
                      description: >-
                        The duration in ISO8601 format after timestamp for which
                        this message holds valid
                      type: string
                - type: object
                  properties:
                    action:
                      enum:
                        - on_init
                  required:
                    - action
            message:
              type: object
              properties:
                order:
                  description: >-
                    Describes a legal purchase order. It contains the complete
                    details of the legal contract created between the buyer and
                    the seller.
                  type: object
                  additionalProperties: false
                  properties:
                    id:
                      type: string
                      description: >-
                        Human-readable ID of the order. This is generated at the
                        BPP layer. The BPP can either generate order id within
                        its system or forward the order ID created at the
                        provider level.
                    ref_order_ids:
                      description: >-
                        A list of order IDs to link this order to previous
                        orders.
                      type: array
                      items:
                        type: string
                        description: ID of a previous order
                    status:
                      description: >-
                        Status of the order. Allowed values can be defined by
                        the network policy
                      type: string
                      enum:
                        - ACTIVE
                        - COMPLETE
                        - CANCELLED
                    type:
                      description: >-
                        This is used to indicate the type of order being created
                        to BPPs. Sometimes orders can be linked to previous
                        orders, like a replacement order in a retail domain. A
                        follow-up consultation in healthcare domain. A single
                        order part of a subscription order. The list of order
                        types can be standardized at the network level.
                      type: string
                      default: DEFAULT
                      enum:
                        - DRAFT
                        - DEFAULT
                    provider:
                      description: >-
                        Details of the provider whose catalog items have been
                        selected.
                      allOf:
                        - description: Describes the catalog of a business.
                          type: object
                          properties:
                            id:
                              type: string
                              description: Id of the provider
                            descriptor: *ref_181
                            category_id:
                              type: string
                              description: >-
                                Category Id of the provider at the BPP-level
                                catalog
                            rating: *ref_182
                            time: &ref_185
                              description: >-
                                Describes time in its various forms. It can be a
                                single point in time; duration; or a structured
                                timetable of operations<br>This has properties
                                like label, time stamp,duration,range, days,
                                schedule
                              type: object
                              additionalProperties: false
                              properties:
                                label:
                                  type: string
                                timestamp:
                                  type: string
                                  format: date-time
                                duration: &ref_183
                                  description: Describes duration as per ISO8601 format
                                  type: string
                                range:
                                  type: object
                                  properties:
                                    start:
                                      type: string
                                      format: date-time
                                    end:
                                      type: string
                                      format: date-time
                                days:
                                  type: string
                                  description: >-
                                    comma separated values representing days of
                                    the week
                                schedule:
                                  description: >-
                                    Describes schedule as a repeating time
                                    period used to describe a regularly
                                    recurring event. At a minimum a schedule
                                    will specify frequency which describes the
                                    interval between occurrences of the event.
                                    Additional information can be provided to
                                    specify the schedule more precisely. This
                                    includes identifying the timestamps(s) of
                                    when the event will take place. Schedules
                                    may also have holidays to exclude a specific
                                    day from the schedule.<br>This has
                                    properties like frequency, holidays, times
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    frequency: *ref_183
                                    holidays:
                                      type: array
                                      items:
                                        type: string
                                        format: date-time
                                    times:
                                      type: array
                                      items:
                                        type: string
                                        format: date-time
                            categories:
                              type: array
                              items:
                                description: >-
                                  A label under which a collection of items can
                                  be grouped.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_184
                                    description: ID of the category
                                    type: string
                                  parent_category_id: *ref_184
                                  descriptor: *ref_181
                                  time: *ref_185
                                  ttl:
                                    description: >-
                                      Time to live for an instance of this
                                      schema
                                  tags:
                                    type: array
                                    items: &ref_190
                                      description: >-
                                        A collection of tag objects with group
                                        level attributes. For detailed
                                        documentation on the Tags and Tag Groups
                                        schema go to
                                        https://github.com/beckn/protocol-specifications/discussions/316
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        display:
                                          description: >-
                                            Indicates the display properties of the
                                            tag group. If display is set to false,
                                            then the group will not be displayed. If
                                            it is set to true, it should be
                                            displayed. However, group-level display
                                            properties can be overriden by
                                            individual tag-level display property.
                                            As this schema is purely for catalog
                                            display purposes, it is not recommended
                                            to send this value during search.
                                          type: boolean
                                          default: true
                                        descriptor:
                                          description: >-
                                            Description of the TagGroup, can be used
                                            to store detailed information.
                                          allOf:
                                            - *ref_181
                                        list:
                                          description: >-
                                            An array of Tag objects listed under
                                            this group. This property can be set by
                                            BAPs during search to narrow the
                                            `search` and achieve more relevant
                                            results. When received during
                                            `on_search`, BAPs must render this list
                                            under the heading described by the
                                            `name` property of this schema.
                                          type: array
                                          items:
                                            description: >-
                                              Describes a tag. This is used to contain
                                              extended metadata. This object can be
                                              added as a property to any schema to
                                              describe extended attributes. For BAPs,
                                              tags can be sent during search to
                                              optimize and filter search results. BPPs
                                              can use tags to index their catalog to
                                              allow better search functionality. Tags
                                              are sent by the BPP as part of the
                                              catalog response in the `on_search`
                                              callback. Tags are also meant for
                                              display purposes. Upon receiving a tag,
                                              BAPs are meant to render them as
                                              name-value pairs. This is particularly
                                              useful when rendering tabular
                                              information about a product or service.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              descriptor:
                                                description: >-
                                                  Description of the Tag, can be used to
                                                  store detailed information.
                                                allOf:
                                                  - *ref_181
                                              value:
                                                description: >-
                                                  The value of the tag. This set by the
                                                  BPP and rendered as-is by the BAP.
                                                type: string
                                              display:
                                                description: >-
                                                  This value indicates if the tag is
                                                  intended for display purposes. If set to
                                                  `true`, then this tag must be displayed.
                                                  If it is set to `false`, it should not
                                                  be displayed. This value can override
                                                  the group display value.
                                                type: boolean
                            fulfillments:
                              type: array
                              items: &ref_208
                                description: >-
                                  Describes how a an order will be
                                  rendered/fulfilled to the end-customer
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_199
                                    description: >-
                                      Unique reference ID to the fulfillment of
                                      an order
                                    type: string
                                  type:
                                    description: >-
                                      A code that describes the mode of
                                      fulfillment. This is typically set when
                                      there are multiple ways an order can be
                                      fulfilled. For example, a retail order can
                                      be fulfilled either via store pickup or a
                                      home delivery. Similarly, a medical
                                      consultation can be provided either
                                      in-person or via tele-consultation. The
                                      network policy must publish standard
                                      fulfillment type codes for the different
                                      modes of fulfillment.
                                    type: string
                                  rateable:
                                    description: >-
                                      Whether the fulfillment can be rated or
                                      not
                                    type: boolean
                                  rating:
                                    description: >-
                                      The rating value of the fulfullment
                                      service.
                                    allOf:
                                      - *ref_182
                                  state:
                                    description: >-
                                      The current state of fulfillment. The BPP
                                      must set this value whenever the state of
                                      the order fulfillment changes and fire an
                                      unsolicited `on_status` call.
                                    allOf:
                                      - &ref_202
                                        description: Describes the state of fulfillment
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          descriptor: *ref_181
                                          updated_at:
                                            type: string
                                            format: date-time
                                          updated_by:
                                            type: string
                                            description: ID of entity which changed the state
                                  tracking:
                                    type: boolean
                                    description: >-
                                      Indicates whether the fulfillment allows
                                      tracking
                                    default: false
                                  customer:
                                    description: >-
                                      The person that will ultimately receive
                                      the order
                                    allOf:
                                      - description: >-
                                          Describes a customer buying/availing a
                                          product or a service
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          organization: &ref_193
                                            description: >-
                                              An organization. Usually a recognized
                                              business entity.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              descriptor: *ref_181
                                              address:
                                                description: The postal address of the organization
                                                allOf:
                                                  - *ref_186
                                              state:
                                                description: >-
                                                  The state where the organization's
                                                  address is registered
                                                allOf:
                                                  - *ref_187
                                              city:
                                                description: >-
                                                  The city where the the organization's
                                                  address is registered
                                                allOf:
                                                  - *ref_188
                                              contact: &ref_191
                                                description: >-
                                                  Describes the contact information of an
                                                  entity
                                                type: object
                                                additionalProperties: false
                                                properties:
                                                  phone:
                                                    type: string
                                                  email:
                                                    type: string
                                                  jcard:
                                                    type: object
                                                    description: >-
                                                      A Jcard object as per
                                                      draft-ietf-jcardcal-jcard-03
                                                      specification
                                          person: &ref_192
                                            description: Describes a person as any individual
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                                description: Describes the identity of the person
                                              url:
                                                description: Profile url of the person
                                                type: string
                                                format: uri
                                              name:
                                                description: the name of the person
                                                type: string
                                              image: *ref_189
                                              age:
                                                description: Age of the person
                                                allOf:
                                                  - *ref_183
                                              dob:
                                                description: Date of birth of the person
                                                type: string
                                                format: date
                                              gender:
                                                type: string
                                                description: >-
                                                  Gender of something, typically a Person,
                                                  but possibly also fictional characters,
                                                  animals, etc. While Male and Female may
                                                  be used, text strings are also
                                                  acceptable for people who do not
                                                  identify as a binary gender.Allowed
                                                  values for this field can be published
                                                  in the network policy
                                              creds:
                                                type: array
                                                items:
                                                  description: >-
                                                    Describes a credential of an entity -
                                                    Person or Organization
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    id:
                                                      type: string
                                                    type:
                                                      type: string
                                                      default: VerifiableCredential
                                                    url:
                                                      description: URL of the credential
                                                      type: string
                                                      format: uri
                                              languages:
                                                type: array
                                                items:
                                                  description: >-
                                                    Describes a language known to the
                                                    person.
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    code:
                                                      type: string
                                                    name:
                                                      type: string
                                              skills:
                                                type: array
                                                items:
                                                  description: Describes a skill of the person.
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    code:
                                                      type: string
                                                    name:
                                                      type: string
                                              tags:
                                                type: array
                                                items: *ref_190
                                          contact: *ref_191
                                  agent:
                                    description: >-
                                      The agent that is currently handling the
                                      fulfillment of the order
                                    allOf:
                                      - description: >-
                                          Describes the direct performer, driver
                                          or executor that fulfills an order. It
                                          is usually a person. But in some rare
                                          cases, it could be a non-living entity
                                          like a drone, or a bot. Some examples of
                                          agents are Doctor in the healthcare
                                          sector, a driver in the mobility sector,
                                          or a delivery person in the logistics
                                          sector. This object can be set at any
                                          stage of the order lifecycle. This can
                                          be set at the discovery stage when the
                                          BPP wants to provide details on the
                                          agent fulfilling the order, like in
                                          healthcare, where the doctor's name
                                          appears during search. This object can
                                          also used to search for a particular
                                          person that the customer wants
                                          fulfilling an order. Sometimes, this
                                          object gets instantiated after the order
                                          is confirmed, like in the case of
                                          on-demand taxis, where the driver is
                                          assigned after the user confirms the
                                          ride.
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          person: *ref_192
                                          contact: *ref_191
                                          organization: *ref_193
                                          rating: *ref_182
                                  contact: *ref_191
                                  vehicle:
                                    description: >-
                                      Describes a vehicle is a device that is
                                      designed or used to transport people or
                                      cargo over land, water, air, or through
                                      space.<br>This has properties like
                                      category, capacity, make, model,
                                      size,variant,color,energy_type,registration
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      category:
                                        type: string
                                      capacity:
                                        type: integer
                                      make:
                                        type: string
                                      model:
                                        type: string
                                      size:
                                        type: string
                                      variant:
                                        type: string
                                      color:
                                        type: string
                                      energy_type:
                                        type: string
                                      registration:
                                        type: string
                                      wheels_count:
                                        type: string
                                      cargo_volumne:
                                        type: string
                                      wheelchair_access:
                                        type: string
                                      code:
                                        type: string
                                      emission_standard:
                                        type: string
                                  stops:
                                    description: >-
                                      The list of logical stops encountered
                                      during the fulfillment of an order.
                                    type: array
                                    items:
                                      description: >-
                                        A logical point in space and time during
                                        the fulfillment of an order.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                        parent_stop_id:
                                          type: string
                                        location:
                                          description: Location of the stop
                                          allOf:
                                            - *ref_194
                                        type:
                                          description: >-
                                            The type of stop. Allowed values of this
                                            property can be defined by the network
                                            policy.
                                          type: string
                                        time:
                                          description: Timings applicable at the stop.
                                          allOf:
                                            - *ref_185
                                        instructions:
                                          description: >-
                                            Instructions that need to be followed at
                                            the stop
                                          allOf:
                                            - *ref_181
                                        contact:
                                          description: Contact details of the stop
                                          allOf:
                                            - *ref_191
                                        person:
                                          description: >-
                                            The details of the person present at the
                                            stop
                                          allOf:
                                            - *ref_192
                                        authorization:
                                          description: >-
                                            Describes an authorization mechanism
                                            used to start or end the fulfillment of
                                            an order. For example, in the mobility
                                            sector, the driver may require a
                                            one-time password to initiate the ride.
                                            In the healthcare sector, a patient may
                                            need to provide a password to open a
                                            video conference link during a
                                            teleconsultation.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            type:
                                              description: >-
                                                Type of authorization mechanism used.
                                                The allowed values for this field can be
                                                published as part of the network policy.
                                              type: string
                                            token:
                                              description: >-
                                                Token used for authorization. This is
                                                typically generated at the BPP. The BAP
                                                can send this value to the user via any
                                                channel that it uses to authenticate the
                                                user like SMS, Email, Push notification,
                                                or in-app rendering.
                                              type: string
                                            valid_from:
                                              description: >-
                                                Timestamp in RFC3339 format from which
                                                token is valid
                                              type: string
                                              format: date-time
                                            valid_to:
                                              description: >-
                                                Timestamp in RFC3339 format until which
                                                token is valid
                                              type: string
                                              format: date-time
                                            status:
                                              description: Status of the token
                                              type: string
                                  path:
                                    description: >-
                                      The physical path taken by the agent that
                                      can be rendered on a map. The allowed
                                      format of this property can be set by the
                                      network.
                                    type: string
                                  tags:
                                    type: array
                                    items: *ref_190
                            payments:
                              type: array
                              items: &ref_213
                                description: >-
                                  Describes the terms of settlement between the
                                  BAP and the BPP for a single transaction. When
                                  instantiated, this object contains <ol><li>the
                                  amount that has to be settled,</li><li>The
                                  payment destination destination
                                  details</li><li>When the settlement should
                                  happen, and</li><li>A transaction reference
                                  ID</li></ol>. During a transaction, the BPP
                                  reserves the right to decide the terms of
                                  payment. However, the BAP can send its terms
                                  to the BPP first. If the BPP does not agree to
                                  those terms, it must overwrite the terms and
                                  return them to the BAP. If overridden, the BAP
                                  must either agree to the terms sent by the BPP
                                  in order to preserve the provider's autonomy,
                                  or abort the transaction. In case of such
                                  disagreements, the BAP and the BPP can perform
                                  offline negotiations on the payment terms.
                                  Once an agreement is reached, the BAP and BPP
                                  can resume transactions.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_200
                                    description: >-
                                      ID of the payment term that can be
                                      referred at an item or an order level in a
                                      catalog
                                    type: string
                                  collected_by:
                                    description: >-
                                      This field indicates who is the collector
                                      of payment. The BAP can set this value to
                                      'bap' if it wants to collect the payment
                                      first and  settle it to the BPP. If the
                                      BPP agrees to those terms, the BPP should
                                      not send the payment url. Alternatively,
                                      the BPP can set this field with the value
                                      'bpp' if it wants the payment to be made
                                      directly.
                                    type: string
                                  url:
                                    type: string
                                    description: >-
                                      A payment url to be called by the BAP. If
                                      empty, then the payment is to be done
                                      offline. The details of payment should be
                                      present in the params object. If tl_method
                                      = http/get, then the payment details will
                                      be sent as url params. Two url param
                                      values, ```$transaction_id``` and
                                      ```$amount``` are mandatory.
                                    format: uri
                                  params:
                                    type: object
                                    properties:
                                      transaction_id:
                                        type: string
                                        description: >-
                                          The reference transaction ID associated
                                          with a payment activity
                                      amount:
                                        type: string
                                      currency:
                                        type: string
                                      bank_code:
                                        type: string
                                      bank_account_number:
                                        type: string
                                      virtual_payment_address:
                                        type: string
                                      source_bank_code:
                                        type: string
                                      source_bank_account_number:
                                        type: string
                                      source_virtual_payment_address:
                                        type: string
                                  type:
                                    type: string
                                    enum:
                                      - PRE-ORDER
                                      - PRE-FULFILLMENT
                                      - ON-FULFILLMENT
                                      - POST-FULFILLMENT
                                      - ON-ORDER
                                      - PRE_ORDER
                                      - PRE_FULFILLMENT
                                      - ON_FULFILLMENT
                                      - POST_FULFILLMENT
                                      - ON_ORDER
                                  status:
                                    type: string
                                    enum:
                                      - PAID
                                      - NOT-PAID
                                  time: *ref_185
                                  tags:
                                    type: array
                                    items: *ref_190
                            locations:
                              type: array
                              items: *ref_194
                            offers:
                              type: array
                              items: &ref_207
                                description: >-
                                  An offer associated with a catalog. This is
                                  typically used to promote a particular product
                                  and enable more purchases.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  descriptor: *ref_181
                                  location_ids:
                                    type: array
                                    items: *ref_195
                                  category_ids:
                                    type: array
                                    items: *ref_184
                                  item_ids:
                                    type: array
                                    items: &ref_196
                                      description: ID of the item.
                                      type: string
                                  time: *ref_185
                                  tags:
                                    type: array
                                    items: *ref_190
                            items:
                              type: array
                              items: &ref_205
                                description: >-
                                  Describes a product or a service offered to
                                  the end consumer by the provider. In the
                                  mobility sector, it can represent a fare
                                  product like one way journey. In the logistics
                                  sector, it can represent the delivery service
                                  offering. In the retail domain it can
                                  represent a product like a grocery item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: *ref_196
                                  parent_item_id:
                                    description: ID of the item, this item is a variant of
                                    allOf:
                                      - *ref_196
                                  parent_item_quantity:
                                    description: >-
                                      The number of units of the parent item
                                      this item is a multiple of
                                    allOf:
                                      - &ref_198
                                        description: Describes the count or amount of an item
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          allocated:
                                            description: >-
                                              This represents the exact quantity
                                              allocated for purchase of the item.
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_197
                                          available:
                                            description: >-
                                              This represents the exact quantity
                                              available for purchase of the item. The
                                              buyer can only purchase multiples of
                                              this
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_197
                                          maximum:
                                            description: >-
                                              This represents the maximum quantity
                                              allowed for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 1
                                              measure: *ref_197
                                          minimum:
                                            description: >-
                                              This represents the minimum quantity
                                              allowed for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_197
                                          selected:
                                            description: >-
                                              This represents the quantity selected
                                              for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_197
                                          unitized:
                                            description: >-
                                              This represents the quantity available
                                              in a single unit of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 1
                                                maximum: 1
                                              measure: *ref_197
                                  descriptor:
                                    description: Physical description of the item
                                    allOf:
                                      - *ref_181
                                  creator:
                                    description: The creator of this item
                                    allOf:
                                      - *ref_193
                                  price:
                                    description: >-
                                      The price of this item, if it has
                                      intrinsic value
                                    allOf:
                                      - &ref_201
                                        description: >-
                                          Describes the price of a product or
                                          service
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          currency:
                                            type: string
                                          value: *ref_178
                                          estimated_value: *ref_178
                                          computed_value: *ref_178
                                          listed_value: *ref_178
                                          offered_value: *ref_178
                                          minimum_value: *ref_178
                                          maximum_value: *ref_178
                                  quantity:
                                    description: The selling quantity of the item
                                    allOf:
                                      - *ref_198
                                  category_ids:
                                    description: Categories this item can be listed under
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_184
                                  fulfillment_ids:
                                    description: >-
                                      Modes through which this item can be
                                      fulfilled
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_199
                                  location_ids:
                                    description: >-
                                      Provider Locations this item is available
                                      in
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_195
                                  payment_ids:
                                    description: >-
                                      Payment modalities through which this item
                                      can be ordered
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_200
                                  add_ons:
                                    type: array
                                    items: &ref_206
                                      description: >-
                                        Describes an additional item offered as
                                        a value-addition to a product or
                                        service. This does not exist
                                        independently in a catalog and is always
                                        associated with an item.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          description: Provider-defined ID of the add-on
                                          type: string
                                        descriptor: *ref_181
                                        price: *ref_201
                                        quantity: *ref_198
                                  cancellation_terms:
                                    description: Cancellation terms of this item
                                    type: array
                                    items: &ref_209
                                      description: >-
                                        Describes the cancellation terms of an
                                        item or an order. This can be referenced
                                        at an item or order level. Item-level
                                        cancellation terms can override the
                                        terms at the order level.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_202
                                        reason_required:
                                          description: >-
                                            Indicates whether a reason is required
                                            to cancel the order
                                          type: boolean
                                        cancel_by:
                                          description: >-
                                            Information related to the time of
                                            cancellation.
                                          allOf:
                                            - *ref_185
                                        cancellation_fee:
                                          description: A fee applied on a particular entity
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            percentage:
                                              description: Percentage of a value
                                              allOf:
                                                - *ref_178
                                            amount:
                                              description: A fixed value
                                              allOf:
                                                - *ref_201
                                        xinput: &ref_204
                                          description: >-
                                            Contains any additional or extended
                                            inputs required to confirm an order.
                                            This is typically a Form Input.
                                            Sometimes, selection of catalog elements
                                            is not enough for the BPP to confirm an
                                            order. For example, to confirm a flight
                                            ticket, the airline requires details of
                                            the passengers along with information on
                                            baggage, identity, in addition to the
                                            class of ticket. Similarly, a logistics
                                            company may require details on the
                                            nature of shipment in order to confirm
                                            the shipping. A recruiting firm may
                                            require additional details on the
                                            applicant in order to confirm a job
                                            application. For all such purposes, the
                                            BPP can choose to send this object
                                            attached to any object in the catalog
                                            that is required to be sent while
                                            placing the order. This object can
                                            typically be sent at an item level or at
                                            the order level. The item level XInput
                                            will override the Order level XInput as
                                            it indicates a special requirement of
                                            information for that particular item.
                                            Hence the BAP must render a separate
                                            form for the Item and another form at
                                            the Order level before confirmation.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            head:
                                              description: >-
                                                Provides the header information for the
                                                xinput.
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                descriptor: *ref_181
                                                index:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    min:
                                                      type: integer
                                                    cur:
                                                      type: integer
                                                    max:
                                                      type: integer
                                                headings:
                                                  type: array
                                                  items:
                                                    type: string
                                                    description: The heading names of the forms
                                            form:
                                              description: Describes a form
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                id:
                                                  description: The form identifier.
                                                  type: string
                                                url:
                                                  description: >-
                                                    The URL from where the form can be
                                                    fetched. The content fetched from the
                                                    url must be processed as per the
                                                    mime_type specified in this object. Once
                                                    fetched, the rendering platform can
                                                    choosed to render the form as-is as an
                                                    embeddable element; or process it
                                                    further to blend with the theme of the
                                                    application. In case the interface is
                                                    non-visual, the the render can process
                                                    the form data and reproduce it as per
                                                    the standard specified in the form.
                                                  type: string
                                                  format: uri
                                                data:
                                                  description: The form submission data
                                                  type: object
                                                  additionalProperties:
                                                    type: string
                                                mime_type:
                                                  description: >-
                                                    This field indicates the nature and
                                                    format of the form received by querying
                                                    the url. MIME types are defined and
                                                    standardized in IETF's RFC 6838.
                                                  type: string
                                                  enum:
                                                    - text/html
                                                    - application/html
                                                    - application/xml
                                                resubmit:
                                                  type: boolean
                                                multiple_sumbissions:
                                                  type: boolean
                                            form_response:
                                              description: >-
                                                Describes the response to a form
                                                submission
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                status:
                                                  description: Contains the status of form submission.
                                                  type: string
                                                signature:
                                                  type: string
                                                submission_id:
                                                  type: string
                                                  format: uuid
                                                errors:
                                                  type: array
                                                  items: &ref_214
                                                    description: >-
                                                      Describes an error object that is
                                                      returned by a BAP, BPP or BG as a
                                                      response or callback to an action by
                                                      another network participant. This object
                                                      is sent when any request received by a
                                                      network participant is unacceptable.
                                                      This object can be sent either during
                                                      Ack or with the callback.
                                                    type: object
                                                    additionalProperties: false
                                                    properties:
                                                      code:
                                                        type: string
                                                        description: >-
                                                          Standard error code. For full list of
                                                          error codes, refer to
                                                          docs/protocol-drafts/BECKN-005-ERROR-CODES-DRAFT-01.md
                                                          of this repo"
                                                      paths:
                                                        type: string
                                                        description: >-
                                                          Path to json schema generating the
                                                          error. Used only during json schema
                                                          validation errors
                                                      message:
                                                        type: string
                                                        description: >-
                                                          Human readable message describing the
                                                          error. Used mainly for logging. Not
                                                          recommended to be shown to the user.
                                            required:
                                              description: >-
                                                Indicates whether the form data is
                                                mandatorily required by the BPP to
                                                confirm the order.
                                              type: boolean
                                        external_ref: *ref_203
                                  refund_terms:
                                    description: Refund terms of this item
                                    type: array
                                    items: &ref_210
                                      description: Refund term of an item or an order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_187
                                        refund_eligible:
                                          description: >-
                                            Indicates if cancellation will result in
                                            a refund
                                          type: boolean
                                        refund_within:
                                          description: >-
                                            Time within which refund will be
                                            processed after successful cancellation.
                                          allOf:
                                            - *ref_185
                                        refund_amount: *ref_201
                                  replacement_terms:
                                    description: >-
                                      Terms that are applicable be met when this
                                      item is replaced
                                    type: array
                                    items: &ref_211
                                      description: >-
                                        The replacement policy of an item or an
                                        order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_187
                                        replace_within:
                                          description: >-
                                            Applicable only for buyer managed
                                            returns where the buyer has to replace
                                            the item before a certain date-time,
                                            failing which they will not be eligible
                                            for replacement
                                          allOf:
                                            - *ref_185
                                        external_ref: *ref_203
                                  return_terms:
                                    description: >-
                                      Terms that are applicable when this item
                                      is returned
                                    type: array
                                    items: &ref_212
                                      description: >-
                                        Describes the return policy of an item
                                        or an order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term IETF''s applicable.
                                          allOf:
                                            - *ref_187
                                        return_eligible:
                                          description: >-
                                            Indicates whether the item is eligible
                                            for return
                                          type: boolean
                                        return_time:
                                          description: >-
                                            Applicable only for buyer managed
                                            returns where the buyer has to return
                                            the item to the origin before a certain
                                            date-time, failing which they will not
                                            be eligible for refund.
                                          allOf:
                                            - *ref_185
                                        return_location:
                                          description: >-
                                            The location where the item or order
                                            must / will be returned to
                                          allOf:
                                            - *ref_194
                                        fulfillment_managed_by:
                                          description: The entity that will perform the return
                                          type: string
                                          enum:
                                            - CONSUMER
                                            - PROVIDER
                                  xinput:
                                    description: >-
                                      Additional input required from the
                                      customer to purchase / avail this item
                                    allOf:
                                      - *ref_204
                                  time:
                                    description: >-
                                      Temporal attributes of this item. This
                                      property is used when the item exists on
                                      the catalog only for a limited period of
                                      time.
                                    allOf:
                                      - *ref_185
                                  rateable:
                                    description: Whether this item can be rated
                                    type: boolean
                                  rating:
                                    description: The rating of the item
                                    allOf:
                                      - *ref_182
                                  matched:
                                    description: >-
                                      Whether this item is an exact match of the
                                      request
                                    type: boolean
                                  related:
                                    description: >-
                                      Whether this item is a related item to the
                                      exactly matched item
                                    type: boolean
                                  recommended:
                                    description: >-
                                      Whether this item is a recommended item to
                                      a response
                                    type: boolean
                                  ttl:
                                    description: >-
                                      Time to live in seconds for an instance of
                                      this schema
                                    type: string
                                  tags:
                                    type: array
                                    items: *ref_190
                            exp:
                              type: string
                              description: Time after which catalog has to be refreshed
                              format: date-time
                            rateable:
                              description: Whether this provider can be rated or not
                              type: boolean
                            ttl:
                              description: >-
                                The time-to-live in seconds, for this object.
                                This can be overriden at deeper levels. A value
                                of -1 indicates that this object is not
                                cacheable.
                              type: string
                            tags:
                              type: array
                              items: *ref_190
                    items:
                      description: The items purchased / availed in this order
                      type: array
                      items: *ref_205
                    add_ons:
                      description: The add-ons purchased / availed in this order
                      type: array
                      items: *ref_206
                    offers:
                      description: The offers applied in this order
                      type: array
                      items: *ref_207
                    billing:
                      description: The billing details of this order
                      allOf:
                        - description: >-
                            Describes the billing details of an entity.<br>This
                            has properties like
                            name,organization,address,email,phone,time,tax_number,
                            created_at,updated_at
                          type: object
                          additionalProperties: false
                          properties:
                            name:
                              description: Name of the billable entity
                              type: string
                            organization:
                              description: Details of the organization being billed.
                              allOf:
                                - *ref_193
                            address:
                              description: The address of the billable entity
                              allOf:
                                - *ref_186
                            state:
                              description: >-
                                The state where the billable entity resides.
                                This is important for state-level tax
                                calculation
                              allOf:
                                - *ref_187
                            city:
                              description: The city where the billable entity resides.
                              allOf:
                                - *ref_188
                            email:
                              description: Email address where the bill is sent to
                              type: string
                              format: email
                            phone:
                              description: Phone number of the billable entity
                              type: string
                            time:
                              description: Details regarding the billing period
                              allOf:
                                - *ref_185
                            tax_id:
                              description: >-
                                ID of the billable entity as recognized by the
                                taxation authority
                              type: string
                    fulfillments:
                      description: The fulfillments involved in completing this order
                      type: array
                      items: *ref_208
                    cancellation:
                      description: The cancellation details of this order
                      allOf:
                        - description: Describes a cancellation event
                          type: object
                          additionalProperties: false
                          properties:
                            time:
                              description: >-
                                Date-time when the order was cancelled by the
                                buyer
                              type: string
                              format: date-time
                            cancelled_by:
                              type: string
                              enum:
                                - CONSUMER
                                - PROVIDER
                            reason:
                              description: The reason for cancellation
                              allOf:
                                - description: Describes a selectable option
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    id:
                                      type: string
                                    descriptor: *ref_181
                            additional_description:
                              description: >-
                                Any additional information regarding the nature
                                of cancellation
                              allOf:
                                - *ref_181
                    cancellation_terms:
                      description: Cancellation terms of this item
                      type: array
                      items: *ref_209
                    documents:
                      type: array
                      items:
                        description: Documnents associated to the order
                        type: object
                        additionalProperties: false
                        properties:
                          descriptor: *ref_181
                          mime_type:
                            description: >-
                              This field indicates the nature and format of the
                              form received by querying the url. MIME types are
                              defined and standardized in IETF's RFC 6838.
                            type: string
                            enum:
                              - text/html
                              - application/html
                              - application/xml
                              - application/pdf
                          url:
                            description: >-
                              The URL from where the form can be fetched. The
                              content fetched from the url must be processed as
                              per the mime_type specified in this object.
                            type: string
                            format: uri
                    refund_terms:
                      description: Refund terms of this item
                      type: array
                      items: *ref_210
                    replacement_terms:
                      description: Replacement terms of this item
                      type: array
                      items: *ref_211
                    return_terms:
                      description: Return terms of this item
                      type: array
                      items: *ref_212
                    quote:
                      description: The mutually agreed upon quotation for this order.
                      allOf:
                        - description: >-
                            Describes a quote. It is the estimated price of
                            products or services from the BPP.<br>This has
                            properties like price, breakup, ttl
                          type: object
                          additionalProperties: false
                          properties:
                            id:
                              description: ID of the quote.
                              type: string
                            price:
                              description: The total quoted price
                              allOf:
                                - *ref_201
                            breakup:
                              description: the breakup of the total quoted price
                              type: array
                              items:
                                type: object
                                properties:
                                  item: *ref_205
                                  title:
                                    type: string
                                  price: *ref_201
                            ttl: *ref_183
                    payments:
                      description: The terms of settlement for this order
                      type: array
                      items: *ref_213
                    created_at:
                      description: The date-time of creation of this order
                      type: string
                      format: date-time
                    updated_at:
                      description: The date-time of updated of this order
                      type: string
                      format: date-time
                    xinput:
                      description: >-
                        Additional input required from the customer to confirm
                        this order
                      allOf:
                        - *ref_204
                    tags:
                      type: array
                      items: *ref_190
              required:
                - order
            error: *ref_214
          required:
            - context
        confirm:
          type: object
          properties:
            context:
              allOf:
                - description: >-
                    Every API call in beckn protocol has a context. It provides
                    a high-level overview to the receiver about the nature of
                    the intended transaction. Typically, it is the BAP that sets
                    the transaction context based on the consumer's location and
                    action on their UI. But sometimes, during unsolicited
                    callbacks, the BPP also sets the transaction context but it
                    is usually the same as the context of a previous full-cycle,
                    request-callback interaction between the BAP and the BPP.
                    The context object contains four types of fields.
                    <ol><li>Demographic information about the transaction using
                    fields like `domain`, `country`, and
                    `region`.</li><li>Addressing details like the sending and
                    receiving platform's ID and API
                    URL.</li><li>Interoperability information like the protocol
                    version that implemented by the sender
                    and,</li><li>Transaction details like the method being
                    called at the receiver's endpoint, the transaction_id that
                    represents an end-to-end user session at the BAP, a message
                    ID to pair requests with callbacks, a timestamp to capture
                    sending times, a ttl to specifiy the validity of the
                    request, and a key to encrypt information if
                    necessary.</li></ol> This object must be passed in every
                    interaction between a BAP and a BPP. In HTTP/S
                    implementations, it is not necessary to send the context
                    during the synchronous response. However, in asynchronous
                    protocols, the context must be sent during all interactions,
                  type: object
                  additionalProperties: false
                  properties:
                    domain:
                      description: Domain code that is relevant to this transaction context
                      allOf:
                        - type: string
                          description: >-
                            Standard code representing the domain. The standard
                            is usually published as part of the network policy.
                            Furthermore, the network facilitator should also
                            provide a mechanism to provide the supported domains
                            of a network.
                    location:
                      description: >-
                        The location where the transaction is intended to be
                        fulfilled.
                      allOf:
                        - &ref_232
                          description: The physical location of something
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_233
                              type: string
                            descriptor: &ref_219
                              description: Physical description of something.
                              type: object
                              additionalProperties: false
                              properties:
                                name:
                                  type: string
                                code:
                                  type: string
                                short_desc:
                                  type: string
                                long_desc:
                                  type: string
                                additional_desc:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                                    content_type:
                                      type: string
                                      enum:
                                        - text/plain
                                        - text/html
                                        - application/json
                                media:
                                  type: array
                                  items: &ref_241
                                    description: >-
                                      This object contains a url to a media
                                      file.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      mimetype:
                                        description: >-
                                          indicates the nature and format of the
                                          document, file, or assortment of bytes.
                                          MIME types are defined and standardized
                                          in IETF's RFC 6838
                                        type: string
                                      url:
                                        description: The URL of the file
                                        type: string
                                        format: uri
                                      signature:
                                        description: >-
                                          The digital signature of the file signed
                                          by the sender
                                        type: string
                                      dsa:
                                        description: The signing algorithm used by the sender
                                        type: string
                                images:
                                  type: array
                                  items: &ref_227
                                    description: Describes an image
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      url:
                                        description: >-
                                          URL to the image. This can be a data url
                                          or an remote url
                                        type: string
                                        format: uri
                                      size_type:
                                        description: >-
                                          The size of the image. The network
                                          policy can define the default dimensions
                                          of each type
                                        type: string
                                        enum:
                                          - xs
                                          - sm
                                          - md
                                          - lg
                                          - xl
                                          - custom
                                      width:
                                        description: Width of the image in pixels
                                        type: string
                                      height:
                                        description: Height of the image in pixels
                                        type: string
                            map_url:
                              description: >-
                                The url to the map of the location. This can be
                                a globally recognized map url or the one
                                specified by the network policy.
                              type: string
                              format: uri
                            gps:
                              description: The GPS co-ordinates of this location.
                              allOf:
                                - &ref_215
                                  description: Describes a GPS coordinate
                                  type: string
                                  pattern: >-
                                    ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                            address:
                              description: The address of this location.
                              allOf:
                                - &ref_224
                                  description: Describes a postal address.
                                  type: string
                            city:
                              description: The city this location is, or is located within
                              allOf:
                                - &ref_226
                                  description: Describes a city
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      description: Name of the city
                                      type: string
                                    code:
                                      description: City code
                                      type: string
                            district:
                              description: The state this location is, or is located within
                              type: string
                            state:
                              description: The state this location is, or is located within
                              allOf:
                                - &ref_225
                                  description: >-
                                    A bounded geopolitical region of governance
                                    inside a country.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the state
                                    code:
                                      type: string
                                      description: >-
                                        State code as per country or
                                        international standards
                            country:
                              description: >-
                                The country this location is, or is located
                                within
                              allOf:
                                - description: Describes a country
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the country
                                    code:
                                      type: string
                                      description: >-
                                        Country code as per ISO 3166-1 and ISO
                                        3166-2 format
                            area_code:
                              type: string
                            circle:
                              description: >-
                                Describes a circular region of a specified
                                radius centered at a specified GPS coordinate.
                              type: object
                              additionalProperties: false
                              properties:
                                gps: *ref_215
                                radius: &ref_235
                                  description: Describes a scalar
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - CONSTANT
                                        - VARIABLE
                                    value: &ref_216
                                      description: >-
                                        Describes a numerical value in decimal
                                        form
                                      type: string
                                      pattern: '[+-]?([0-9]*[.])?[0-9]+'
                                    estimated_value: *ref_216
                                    computed_value: *ref_216
                                    range:
                                      type: object
                                      properties:
                                        min: *ref_216
                                        max: *ref_216
                                    unit:
                                      type: string
                            polygon:
                              description: The boundary polygon of this location
                              type: string
                            3dspace:
                              description: >-
                                The three dimensional region describing this
                                location
                              type: string
                            rating:
                              description: The rating of this location
                              allOf:
                                - &ref_220
                                  description: >-
                                    Rating value given to the object. This can
                                    be a single value or can also contain an
                                    inequality operator like gt, gte, lt, lte.
                                    This can also contain an inequality
                                    expression containing logical operators like
                                    && and ||.
                                  type: string
                    action:
                      description: >-
                        The Beckn protocol method being called by the sender and
                        executed at the receiver.
                      type: string
                    version:
                      type: string
                      description: >-
                        Version of transaction protocol being used by the
                        sender.
                    bap_id:
                      description: Subscriber ID of the BAP
                      allOf:
                        - &ref_217
                          description: >-
                            A globally unique identifier of the platform,
                            Typically it is the fully qualified domain name
                            (FQDN) of the platform.
                          type: string
                    bap_uri:
                      description: >-
                        Subscriber URL of the BAP for accepting callbacks from
                        BPPs.
                      allOf:
                        - &ref_218
                          description: >-
                            The callback URL of the Subscriber. This should
                            necessarily contain the same domain name as set in
                            `subscriber_id``.
                          type: string
                          format: uri
                    bpp_id:
                      description: Subscriber ID of the BPP
                      allOf:
                        - *ref_217
                    bpp_uri:
                      description: Subscriber URL of the BPP for accepting calls from BAPs.
                      allOf:
                        - *ref_218
                    transaction_id:
                      description: >-
                        This is a unique value which persists across all API
                        calls from `search` through `confirm`. This is done to
                        indicate an active user session across multiple
                        requests. The BPPs can use this value to push
                        personalized recommendations, and dynamic offerings
                        related to an ongoing transaction despite being unaware
                        of the user active on the BAP.
                      type: string
                      format: uuid
                    message_id:
                      description: >-
                        This is a unique value which persists during a request /
                        callback cycle. Since beckn protocol APIs are
                        asynchronous, BAPs need a common value to match an
                        incoming callback from a BPP to an earlier call. This
                        value can also be used to ignore duplicate messages
                        coming from the BPP. It is recommended to generate a
                        fresh message_id for every new interaction. When sending
                        unsolicited callbacks, BPPs must generate a new
                        message_id.
                      type: string
                      format: uuid
                    timestamp:
                      description: Time of request generation in RFC3339 format
                      type: string
                      format: date-time
                    key:
                      description: The encryption public key of the sender
                      type: string
                    ttl:
                      description: >-
                        The duration in ISO8601 format after timestamp for which
                        this message holds valid
                      type: string
                - type: object
                  properties:
                    action:
                      enum:
                        - confirm
                  required:
                    - action
            message:
              type: object
              properties:
                order:
                  description: >-
                    Describes a legal purchase order. It contains the complete
                    details of the legal contract created between the buyer and
                    the seller.
                  type: object
                  additionalProperties: false
                  properties:
                    id:
                      type: string
                      description: >-
                        Human-readable ID of the order. This is generated at the
                        BPP layer. The BPP can either generate order id within
                        its system or forward the order ID created at the
                        provider level.
                    ref_order_ids:
                      description: >-
                        A list of order IDs to link this order to previous
                        orders.
                      type: array
                      items:
                        type: string
                        description: ID of a previous order
                    status:
                      description: >-
                        Status of the order. Allowed values can be defined by
                        the network policy
                      type: string
                      enum:
                        - ACTIVE
                        - COMPLETE
                        - CANCELLED
                    type:
                      description: >-
                        This is used to indicate the type of order being created
                        to BPPs. Sometimes orders can be linked to previous
                        orders, like a replacement order in a retail domain. A
                        follow-up consultation in healthcare domain. A single
                        order part of a subscription order. The list of order
                        types can be standardized at the network level.
                      type: string
                      default: DEFAULT
                      enum:
                        - DRAFT
                        - DEFAULT
                    provider:
                      description: >-
                        Details of the provider whose catalog items have been
                        selected.
                      allOf:
                        - description: Describes the catalog of a business.
                          type: object
                          properties:
                            id:
                              type: string
                              description: Id of the provider
                            descriptor: *ref_219
                            category_id:
                              type: string
                              description: >-
                                Category Id of the provider at the BPP-level
                                catalog
                            rating: *ref_220
                            time: &ref_223
                              description: >-
                                Describes time in its various forms. It can be a
                                single point in time; duration; or a structured
                                timetable of operations<br>This has properties
                                like label, time stamp,duration,range, days,
                                schedule
                              type: object
                              additionalProperties: false
                              properties:
                                label:
                                  type: string
                                timestamp:
                                  type: string
                                  format: date-time
                                duration: &ref_221
                                  description: Describes duration as per ISO8601 format
                                  type: string
                                range:
                                  type: object
                                  properties:
                                    start:
                                      type: string
                                      format: date-time
                                    end:
                                      type: string
                                      format: date-time
                                days:
                                  type: string
                                  description: >-
                                    comma separated values representing days of
                                    the week
                                schedule:
                                  description: >-
                                    Describes schedule as a repeating time
                                    period used to describe a regularly
                                    recurring event. At a minimum a schedule
                                    will specify frequency which describes the
                                    interval between occurrences of the event.
                                    Additional information can be provided to
                                    specify the schedule more precisely. This
                                    includes identifying the timestamps(s) of
                                    when the event will take place. Schedules
                                    may also have holidays to exclude a specific
                                    day from the schedule.<br>This has
                                    properties like frequency, holidays, times
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    frequency: *ref_221
                                    holidays:
                                      type: array
                                      items:
                                        type: string
                                        format: date-time
                                    times:
                                      type: array
                                      items:
                                        type: string
                                        format: date-time
                            categories:
                              type: array
                              items:
                                description: >-
                                  A label under which a collection of items can
                                  be grouped.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_222
                                    description: ID of the category
                                    type: string
                                  parent_category_id: *ref_222
                                  descriptor: *ref_219
                                  time: *ref_223
                                  ttl:
                                    description: >-
                                      Time to live for an instance of this
                                      schema
                                  tags:
                                    type: array
                                    items: &ref_228
                                      description: >-
                                        A collection of tag objects with group
                                        level attributes. For detailed
                                        documentation on the Tags and Tag Groups
                                        schema go to
                                        https://github.com/beckn/protocol-specifications/discussions/316
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        display:
                                          description: >-
                                            Indicates the display properties of the
                                            tag group. If display is set to false,
                                            then the group will not be displayed. If
                                            it is set to true, it should be
                                            displayed. However, group-level display
                                            properties can be overriden by
                                            individual tag-level display property.
                                            As this schema is purely for catalog
                                            display purposes, it is not recommended
                                            to send this value during search.
                                          type: boolean
                                          default: true
                                        descriptor:
                                          description: >-
                                            Description of the TagGroup, can be used
                                            to store detailed information.
                                          allOf:
                                            - *ref_219
                                        list:
                                          description: >-
                                            An array of Tag objects listed under
                                            this group. This property can be set by
                                            BAPs during search to narrow the
                                            `search` and achieve more relevant
                                            results. When received during
                                            `on_search`, BAPs must render this list
                                            under the heading described by the
                                            `name` property of this schema.
                                          type: array
                                          items:
                                            description: >-
                                              Describes a tag. This is used to contain
                                              extended metadata. This object can be
                                              added as a property to any schema to
                                              describe extended attributes. For BAPs,
                                              tags can be sent during search to
                                              optimize and filter search results. BPPs
                                              can use tags to index their catalog to
                                              allow better search functionality. Tags
                                              are sent by the BPP as part of the
                                              catalog response in the `on_search`
                                              callback. Tags are also meant for
                                              display purposes. Upon receiving a tag,
                                              BAPs are meant to render them as
                                              name-value pairs. This is particularly
                                              useful when rendering tabular
                                              information about a product or service.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              descriptor:
                                                description: >-
                                                  Description of the Tag, can be used to
                                                  store detailed information.
                                                allOf:
                                                  - *ref_219
                                              value:
                                                description: >-
                                                  The value of the tag. This set by the
                                                  BPP and rendered as-is by the BAP.
                                                type: string
                                              display:
                                                description: >-
                                                  This value indicates if the tag is
                                                  intended for display purposes. If set to
                                                  `true`, then this tag must be displayed.
                                                  If it is set to `false`, it should not
                                                  be displayed. This value can override
                                                  the group display value.
                                                type: boolean
                            fulfillments:
                              type: array
                              items: &ref_246
                                description: >-
                                  Describes how a an order will be
                                  rendered/fulfilled to the end-customer
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_237
                                    description: >-
                                      Unique reference ID to the fulfillment of
                                      an order
                                    type: string
                                  type:
                                    description: >-
                                      A code that describes the mode of
                                      fulfillment. This is typically set when
                                      there are multiple ways an order can be
                                      fulfilled. For example, a retail order can
                                      be fulfilled either via store pickup or a
                                      home delivery. Similarly, a medical
                                      consultation can be provided either
                                      in-person or via tele-consultation. The
                                      network policy must publish standard
                                      fulfillment type codes for the different
                                      modes of fulfillment.
                                    type: string
                                  rateable:
                                    description: >-
                                      Whether the fulfillment can be rated or
                                      not
                                    type: boolean
                                  rating:
                                    description: >-
                                      The rating value of the fulfullment
                                      service.
                                    allOf:
                                      - *ref_220
                                  state:
                                    description: >-
                                      The current state of fulfillment. The BPP
                                      must set this value whenever the state of
                                      the order fulfillment changes and fire an
                                      unsolicited `on_status` call.
                                    allOf:
                                      - &ref_240
                                        description: Describes the state of fulfillment
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          descriptor: *ref_219
                                          updated_at:
                                            type: string
                                            format: date-time
                                          updated_by:
                                            type: string
                                            description: ID of entity which changed the state
                                  tracking:
                                    type: boolean
                                    description: >-
                                      Indicates whether the fulfillment allows
                                      tracking
                                    default: false
                                  customer:
                                    description: >-
                                      The person that will ultimately receive
                                      the order
                                    allOf:
                                      - description: >-
                                          Describes a customer buying/availing a
                                          product or a service
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          organization: &ref_231
                                            description: >-
                                              An organization. Usually a recognized
                                              business entity.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              descriptor: *ref_219
                                              address:
                                                description: The postal address of the organization
                                                allOf:
                                                  - *ref_224
                                              state:
                                                description: >-
                                                  The state where the organization's
                                                  address is registered
                                                allOf:
                                                  - *ref_225
                                              city:
                                                description: >-
                                                  The city where the the organization's
                                                  address is registered
                                                allOf:
                                                  - *ref_226
                                              contact: &ref_229
                                                description: >-
                                                  Describes the contact information of an
                                                  entity
                                                type: object
                                                additionalProperties: false
                                                properties:
                                                  phone:
                                                    type: string
                                                  email:
                                                    type: string
                                                  jcard:
                                                    type: object
                                                    description: >-
                                                      A Jcard object as per
                                                      draft-ietf-jcardcal-jcard-03
                                                      specification
                                          person: &ref_230
                                            description: Describes a person as any individual
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                                description: Describes the identity of the person
                                              url:
                                                description: Profile url of the person
                                                type: string
                                                format: uri
                                              name:
                                                description: the name of the person
                                                type: string
                                              image: *ref_227
                                              age:
                                                description: Age of the person
                                                allOf:
                                                  - *ref_221
                                              dob:
                                                description: Date of birth of the person
                                                type: string
                                                format: date
                                              gender:
                                                type: string
                                                description: >-
                                                  Gender of something, typically a Person,
                                                  but possibly also fictional characters,
                                                  animals, etc. While Male and Female may
                                                  be used, text strings are also
                                                  acceptable for people who do not
                                                  identify as a binary gender.Allowed
                                                  values for this field can be published
                                                  in the network policy
                                              creds:
                                                type: array
                                                items:
                                                  description: >-
                                                    Describes a credential of an entity -
                                                    Person or Organization
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    id:
                                                      type: string
                                                    type:
                                                      type: string
                                                      default: VerifiableCredential
                                                    url:
                                                      description: URL of the credential
                                                      type: string
                                                      format: uri
                                              languages:
                                                type: array
                                                items:
                                                  description: >-
                                                    Describes a language known to the
                                                    person.
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    code:
                                                      type: string
                                                    name:
                                                      type: string
                                              skills:
                                                type: array
                                                items:
                                                  description: Describes a skill of the person.
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    code:
                                                      type: string
                                                    name:
                                                      type: string
                                              tags:
                                                type: array
                                                items: *ref_228
                                          contact: *ref_229
                                  agent:
                                    description: >-
                                      The agent that is currently handling the
                                      fulfillment of the order
                                    allOf:
                                      - description: >-
                                          Describes the direct performer, driver
                                          or executor that fulfills an order. It
                                          is usually a person. But in some rare
                                          cases, it could be a non-living entity
                                          like a drone, or a bot. Some examples of
                                          agents are Doctor in the healthcare
                                          sector, a driver in the mobility sector,
                                          or a delivery person in the logistics
                                          sector. This object can be set at any
                                          stage of the order lifecycle. This can
                                          be set at the discovery stage when the
                                          BPP wants to provide details on the
                                          agent fulfilling the order, like in
                                          healthcare, where the doctor's name
                                          appears during search. This object can
                                          also used to search for a particular
                                          person that the customer wants
                                          fulfilling an order. Sometimes, this
                                          object gets instantiated after the order
                                          is confirmed, like in the case of
                                          on-demand taxis, where the driver is
                                          assigned after the user confirms the
                                          ride.
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          person: *ref_230
                                          contact: *ref_229
                                          organization: *ref_231
                                          rating: *ref_220
                                  contact: *ref_229
                                  vehicle:
                                    description: >-
                                      Describes a vehicle is a device that is
                                      designed or used to transport people or
                                      cargo over land, water, air, or through
                                      space.<br>This has properties like
                                      category, capacity, make, model,
                                      size,variant,color,energy_type,registration
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      category:
                                        type: string
                                      capacity:
                                        type: integer
                                      make:
                                        type: string
                                      model:
                                        type: string
                                      size:
                                        type: string
                                      variant:
                                        type: string
                                      color:
                                        type: string
                                      energy_type:
                                        type: string
                                      registration:
                                        type: string
                                      wheels_count:
                                        type: string
                                      cargo_volumne:
                                        type: string
                                      wheelchair_access:
                                        type: string
                                      code:
                                        type: string
                                      emission_standard:
                                        type: string
                                  stops:
                                    description: >-
                                      The list of logical stops encountered
                                      during the fulfillment of an order.
                                    type: array
                                    items:
                                      description: >-
                                        A logical point in space and time during
                                        the fulfillment of an order.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                        parent_stop_id:
                                          type: string
                                        location:
                                          description: Location of the stop
                                          allOf:
                                            - *ref_232
                                        type:
                                          description: >-
                                            The type of stop. Allowed values of this
                                            property can be defined by the network
                                            policy.
                                          type: string
                                        time:
                                          description: Timings applicable at the stop.
                                          allOf:
                                            - *ref_223
                                        instructions:
                                          description: >-
                                            Instructions that need to be followed at
                                            the stop
                                          allOf:
                                            - *ref_219
                                        contact:
                                          description: Contact details of the stop
                                          allOf:
                                            - *ref_229
                                        person:
                                          description: >-
                                            The details of the person present at the
                                            stop
                                          allOf:
                                            - *ref_230
                                        authorization:
                                          description: >-
                                            Describes an authorization mechanism
                                            used to start or end the fulfillment of
                                            an order. For example, in the mobility
                                            sector, the driver may require a
                                            one-time password to initiate the ride.
                                            In the healthcare sector, a patient may
                                            need to provide a password to open a
                                            video conference link during a
                                            teleconsultation.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            type:
                                              description: >-
                                                Type of authorization mechanism used.
                                                The allowed values for this field can be
                                                published as part of the network policy.
                                              type: string
                                            token:
                                              description: >-
                                                Token used for authorization. This is
                                                typically generated at the BPP. The BAP
                                                can send this value to the user via any
                                                channel that it uses to authenticate the
                                                user like SMS, Email, Push notification,
                                                or in-app rendering.
                                              type: string
                                            valid_from:
                                              description: >-
                                                Timestamp in RFC3339 format from which
                                                token is valid
                                              type: string
                                              format: date-time
                                            valid_to:
                                              description: >-
                                                Timestamp in RFC3339 format until which
                                                token is valid
                                              type: string
                                              format: date-time
                                            status:
                                              description: Status of the token
                                              type: string
                                  path:
                                    description: >-
                                      The physical path taken by the agent that
                                      can be rendered on a map. The allowed
                                      format of this property can be set by the
                                      network.
                                    type: string
                                  tags:
                                    type: array
                                    items: *ref_228
                            payments:
                              type: array
                              items: &ref_251
                                description: >-
                                  Describes the terms of settlement between the
                                  BAP and the BPP for a single transaction. When
                                  instantiated, this object contains <ol><li>the
                                  amount that has to be settled,</li><li>The
                                  payment destination destination
                                  details</li><li>When the settlement should
                                  happen, and</li><li>A transaction reference
                                  ID</li></ol>. During a transaction, the BPP
                                  reserves the right to decide the terms of
                                  payment. However, the BAP can send its terms
                                  to the BPP first. If the BPP does not agree to
                                  those terms, it must overwrite the terms and
                                  return them to the BAP. If overridden, the BAP
                                  must either agree to the terms sent by the BPP
                                  in order to preserve the provider's autonomy,
                                  or abort the transaction. In case of such
                                  disagreements, the BAP and the BPP can perform
                                  offline negotiations on the payment terms.
                                  Once an agreement is reached, the BAP and BPP
                                  can resume transactions.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_238
                                    description: >-
                                      ID of the payment term that can be
                                      referred at an item or an order level in a
                                      catalog
                                    type: string
                                  collected_by:
                                    description: >-
                                      This field indicates who is the collector
                                      of payment. The BAP can set this value to
                                      'bap' if it wants to collect the payment
                                      first and  settle it to the BPP. If the
                                      BPP agrees to those terms, the BPP should
                                      not send the payment url. Alternatively,
                                      the BPP can set this field with the value
                                      'bpp' if it wants the payment to be made
                                      directly.
                                    type: string
                                  url:
                                    type: string
                                    description: >-
                                      A payment url to be called by the BAP. If
                                      empty, then the payment is to be done
                                      offline. The details of payment should be
                                      present in the params object. If tl_method
                                      = http/get, then the payment details will
                                      be sent as url params. Two url param
                                      values, ```$transaction_id``` and
                                      ```$amount``` are mandatory.
                                    format: uri
                                  params:
                                    type: object
                                    properties:
                                      transaction_id:
                                        type: string
                                        description: >-
                                          The reference transaction ID associated
                                          with a payment activity
                                      amount:
                                        type: string
                                      currency:
                                        type: string
                                      bank_code:
                                        type: string
                                      bank_account_number:
                                        type: string
                                      virtual_payment_address:
                                        type: string
                                      source_bank_code:
                                        type: string
                                      source_bank_account_number:
                                        type: string
                                      source_virtual_payment_address:
                                        type: string
                                  type:
                                    type: string
                                    enum:
                                      - PRE-ORDER
                                      - PRE-FULFILLMENT
                                      - ON-FULFILLMENT
                                      - POST-FULFILLMENT
                                      - ON-ORDER
                                      - PRE_ORDER
                                      - PRE_FULFILLMENT
                                      - ON_FULFILLMENT
                                      - POST_FULFILLMENT
                                      - ON_ORDER
                                  status:
                                    type: string
                                    enum:
                                      - PAID
                                      - NOT-PAID
                                  time: *ref_223
                                  tags:
                                    type: array
                                    items: *ref_228
                            locations:
                              type: array
                              items: *ref_232
                            offers:
                              type: array
                              items: &ref_245
                                description: >-
                                  An offer associated with a catalog. This is
                                  typically used to promote a particular product
                                  and enable more purchases.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  descriptor: *ref_219
                                  location_ids:
                                    type: array
                                    items: *ref_233
                                  category_ids:
                                    type: array
                                    items: *ref_222
                                  item_ids:
                                    type: array
                                    items: &ref_234
                                      description: ID of the item.
                                      type: string
                                  time: *ref_223
                                  tags:
                                    type: array
                                    items: *ref_228
                            items:
                              type: array
                              items: &ref_243
                                description: >-
                                  Describes a product or a service offered to
                                  the end consumer by the provider. In the
                                  mobility sector, it can represent a fare
                                  product like one way journey. In the logistics
                                  sector, it can represent the delivery service
                                  offering. In the retail domain it can
                                  represent a product like a grocery item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: *ref_234
                                  parent_item_id:
                                    description: ID of the item, this item is a variant of
                                    allOf:
                                      - *ref_234
                                  parent_item_quantity:
                                    description: >-
                                      The number of units of the parent item
                                      this item is a multiple of
                                    allOf:
                                      - &ref_236
                                        description: Describes the count or amount of an item
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          allocated:
                                            description: >-
                                              This represents the exact quantity
                                              allocated for purchase of the item.
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_235
                                          available:
                                            description: >-
                                              This represents the exact quantity
                                              available for purchase of the item. The
                                              buyer can only purchase multiples of
                                              this
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_235
                                          maximum:
                                            description: >-
                                              This represents the maximum quantity
                                              allowed for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 1
                                              measure: *ref_235
                                          minimum:
                                            description: >-
                                              This represents the minimum quantity
                                              allowed for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_235
                                          selected:
                                            description: >-
                                              This represents the quantity selected
                                              for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_235
                                          unitized:
                                            description: >-
                                              This represents the quantity available
                                              in a single unit of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 1
                                                maximum: 1
                                              measure: *ref_235
                                  descriptor:
                                    description: Physical description of the item
                                    allOf:
                                      - *ref_219
                                  creator:
                                    description: The creator of this item
                                    allOf:
                                      - *ref_231
                                  price:
                                    description: >-
                                      The price of this item, if it has
                                      intrinsic value
                                    allOf:
                                      - &ref_239
                                        description: >-
                                          Describes the price of a product or
                                          service
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          currency:
                                            type: string
                                          value: *ref_216
                                          estimated_value: *ref_216
                                          computed_value: *ref_216
                                          listed_value: *ref_216
                                          offered_value: *ref_216
                                          minimum_value: *ref_216
                                          maximum_value: *ref_216
                                  quantity:
                                    description: The selling quantity of the item
                                    allOf:
                                      - *ref_236
                                  category_ids:
                                    description: Categories this item can be listed under
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_222
                                  fulfillment_ids:
                                    description: >-
                                      Modes through which this item can be
                                      fulfilled
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_237
                                  location_ids:
                                    description: >-
                                      Provider Locations this item is available
                                      in
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_233
                                  payment_ids:
                                    description: >-
                                      Payment modalities through which this item
                                      can be ordered
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_238
                                  add_ons:
                                    type: array
                                    items: &ref_244
                                      description: >-
                                        Describes an additional item offered as
                                        a value-addition to a product or
                                        service. This does not exist
                                        independently in a catalog and is always
                                        associated with an item.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          description: Provider-defined ID of the add-on
                                          type: string
                                        descriptor: *ref_219
                                        price: *ref_239
                                        quantity: *ref_236
                                  cancellation_terms:
                                    description: Cancellation terms of this item
                                    type: array
                                    items: &ref_247
                                      description: >-
                                        Describes the cancellation terms of an
                                        item or an order. This can be referenced
                                        at an item or order level. Item-level
                                        cancellation terms can override the
                                        terms at the order level.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_240
                                        reason_required:
                                          description: >-
                                            Indicates whether a reason is required
                                            to cancel the order
                                          type: boolean
                                        cancel_by:
                                          description: >-
                                            Information related to the time of
                                            cancellation.
                                          allOf:
                                            - *ref_223
                                        cancellation_fee:
                                          description: A fee applied on a particular entity
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            percentage:
                                              description: Percentage of a value
                                              allOf:
                                                - *ref_216
                                            amount:
                                              description: A fixed value
                                              allOf:
                                                - *ref_239
                                        xinput: &ref_242
                                          description: >-
                                            Contains any additional or extended
                                            inputs required to confirm an order.
                                            This is typically a Form Input.
                                            Sometimes, selection of catalog elements
                                            is not enough for the BPP to confirm an
                                            order. For example, to confirm a flight
                                            ticket, the airline requires details of
                                            the passengers along with information on
                                            baggage, identity, in addition to the
                                            class of ticket. Similarly, a logistics
                                            company may require details on the
                                            nature of shipment in order to confirm
                                            the shipping. A recruiting firm may
                                            require additional details on the
                                            applicant in order to confirm a job
                                            application. For all such purposes, the
                                            BPP can choose to send this object
                                            attached to any object in the catalog
                                            that is required to be sent while
                                            placing the order. This object can
                                            typically be sent at an item level or at
                                            the order level. The item level XInput
                                            will override the Order level XInput as
                                            it indicates a special requirement of
                                            information for that particular item.
                                            Hence the BAP must render a separate
                                            form for the Item and another form at
                                            the Order level before confirmation.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            head:
                                              description: >-
                                                Provides the header information for the
                                                xinput.
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                descriptor: *ref_219
                                                index:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    min:
                                                      type: integer
                                                    cur:
                                                      type: integer
                                                    max:
                                                      type: integer
                                                headings:
                                                  type: array
                                                  items:
                                                    type: string
                                                    description: The heading names of the forms
                                            form:
                                              description: Describes a form
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                id:
                                                  description: The form identifier.
                                                  type: string
                                                url:
                                                  description: >-
                                                    The URL from where the form can be
                                                    fetched. The content fetched from the
                                                    url must be processed as per the
                                                    mime_type specified in this object. Once
                                                    fetched, the rendering platform can
                                                    choosed to render the form as-is as an
                                                    embeddable element; or process it
                                                    further to blend with the theme of the
                                                    application. In case the interface is
                                                    non-visual, the the render can process
                                                    the form data and reproduce it as per
                                                    the standard specified in the form.
                                                  type: string
                                                  format: uri
                                                data:
                                                  description: The form submission data
                                                  type: object
                                                  additionalProperties:
                                                    type: string
                                                mime_type:
                                                  description: >-
                                                    This field indicates the nature and
                                                    format of the form received by querying
                                                    the url. MIME types are defined and
                                                    standardized in IETF's RFC 6838.
                                                  type: string
                                                  enum:
                                                    - text/html
                                                    - application/html
                                                    - application/xml
                                                resubmit:
                                                  type: boolean
                                                multiple_sumbissions:
                                                  type: boolean
                                            form_response:
                                              description: >-
                                                Describes the response to a form
                                                submission
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                status:
                                                  description: Contains the status of form submission.
                                                  type: string
                                                signature:
                                                  type: string
                                                submission_id:
                                                  type: string
                                                errors:
                                                  type: array
                                                  items:
                                                    description: >-
                                                      Describes an error object that is
                                                      returned by a BAP, BPP or BG as a
                                                      response or callback to an action by
                                                      another network participant. This object
                                                      is sent when any request received by a
                                                      network participant is unacceptable.
                                                      This object can be sent either during
                                                      Ack or with the callback.
                                                    type: object
                                                    additionalProperties: false
                                                    properties:
                                                      code:
                                                        type: string
                                                        description: >-
                                                          Standard error code. For full list of
                                                          error codes, refer to
                                                          docs/protocol-drafts/BECKN-005-ERROR-CODES-DRAFT-01.md
                                                          of this repo"
                                                      paths:
                                                        type: string
                                                        description: >-
                                                          Path to json schema generating the
                                                          error. Used only during json schema
                                                          validation errors
                                                      message:
                                                        type: string
                                                        description: >-
                                                          Human readable message describing the
                                                          error. Used mainly for logging. Not
                                                          recommended to be shown to the user.
                                            required:
                                              description: >-
                                                Indicates whether the form data is
                                                mandatorily required by the BPP to
                                                confirm the order.
                                              type: boolean
                                        external_ref: *ref_241
                                  refund_terms:
                                    description: Refund terms of this item
                                    type: array
                                    items: &ref_248
                                      description: Refund term of an item or an order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_225
                                        refund_eligible:
                                          description: >-
                                            Indicates if cancellation will result in
                                            a refund
                                          type: boolean
                                        refund_within:
                                          description: >-
                                            Time within which refund will be
                                            processed after successful cancellation.
                                          allOf:
                                            - *ref_223
                                        refund_amount: *ref_239
                                  replacement_terms:
                                    description: >-
                                      Terms that are applicable be met when this
                                      item is replaced
                                    type: array
                                    items: &ref_249
                                      description: >-
                                        The replacement policy of an item or an
                                        order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_225
                                        replace_within:
                                          description: >-
                                            Applicable only for buyer managed
                                            returns where the buyer has to replace
                                            the item before a certain date-time,
                                            failing which they will not be eligible
                                            for replacement
                                          allOf:
                                            - *ref_223
                                        external_ref: *ref_241
                                  return_terms:
                                    description: >-
                                      Terms that are applicable when this item
                                      is returned
                                    type: array
                                    items: &ref_250
                                      description: >-
                                        Describes the return policy of an item
                                        or an order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term IETF''s applicable.
                                          allOf:
                                            - *ref_225
                                        return_eligible:
                                          description: >-
                                            Indicates whether the item is eligible
                                            for return
                                          type: boolean
                                        return_time:
                                          description: >-
                                            Applicable only for buyer managed
                                            returns where the buyer has to return
                                            the item to the origin before a certain
                                            date-time, failing which they will not
                                            be eligible for refund.
                                          allOf:
                                            - *ref_223
                                        return_location:
                                          description: >-
                                            The location where the item or order
                                            must / will be returned to
                                          allOf:
                                            - *ref_232
                                        fulfillment_managed_by:
                                          description: The entity that will perform the return
                                          type: string
                                          enum:
                                            - CONSUMER
                                            - PROVIDER
                                  xinput:
                                    description: >-
                                      Additional input required from the
                                      customer to purchase / avail this item
                                    allOf:
                                      - *ref_242
                                  time:
                                    description: >-
                                      Temporal attributes of this item. This
                                      property is used when the item exists on
                                      the catalog only for a limited period of
                                      time.
                                    allOf:
                                      - *ref_223
                                  rateable:
                                    description: Whether this item can be rated
                                    type: boolean
                                  rating:
                                    description: The rating of the item
                                    allOf:
                                      - *ref_220
                                  matched:
                                    description: >-
                                      Whether this item is an exact match of the
                                      request
                                    type: boolean
                                  related:
                                    description: >-
                                      Whether this item is a related item to the
                                      exactly matched item
                                    type: boolean
                                  recommended:
                                    description: >-
                                      Whether this item is a recommended item to
                                      a response
                                    type: boolean
                                  ttl:
                                    description: >-
                                      Time to live in seconds for an instance of
                                      this schema
                                    type: string
                                  tags:
                                    type: array
                                    items: *ref_228
                            exp:
                              type: string
                              description: Time after which catalog has to be refreshed
                              format: date-time
                            rateable:
                              description: Whether this provider can be rated or not
                              type: boolean
                            ttl:
                              description: >-
                                The time-to-live in seconds, for this object.
                                This can be overriden at deeper levels. A value
                                of -1 indicates that this object is not
                                cacheable.
                              type: string
                            tags:
                              type: array
                              items: *ref_228
                    items:
                      description: The items purchased / availed in this order
                      type: array
                      items: *ref_243
                    add_ons:
                      description: The add-ons purchased / availed in this order
                      type: array
                      items: *ref_244
                    offers:
                      description: The offers applied in this order
                      type: array
                      items: *ref_245
                    billing:
                      description: The billing details of this order
                      allOf:
                        - description: >-
                            Describes the billing details of an entity.<br>This
                            has properties like
                            name,organization,address,email,phone,time,tax_number,
                            created_at,updated_at
                          type: object
                          additionalProperties: false
                          properties:
                            name:
                              description: Name of the billable entity
                              type: string
                            organization:
                              description: Details of the organization being billed.
                              allOf:
                                - *ref_231
                            address:
                              description: The address of the billable entity
                              allOf:
                                - *ref_224
                            state:
                              description: >-
                                The state where the billable entity resides.
                                This is important for state-level tax
                                calculation
                              allOf:
                                - *ref_225
                            city:
                              description: The city where the billable entity resides.
                              allOf:
                                - *ref_226
                            email:
                              description: Email address where the bill is sent to
                              type: string
                              format: email
                            phone:
                              description: Phone number of the billable entity
                              type: string
                            time:
                              description: Details regarding the billing period
                              allOf:
                                - *ref_223
                            tax_id:
                              description: >-
                                ID of the billable entity as recognized by the
                                taxation authority
                              type: string
                    fulfillments:
                      description: The fulfillments involved in completing this order
                      type: array
                      items: *ref_246
                    cancellation:
                      description: The cancellation details of this order
                      allOf:
                        - description: Describes a cancellation event
                          type: object
                          additionalProperties: false
                          properties:
                            time:
                              description: >-
                                Date-time when the order was cancelled by the
                                buyer
                              type: string
                              format: date-time
                            cancelled_by:
                              type: string
                              enum:
                                - CONSUMER
                                - PROVIDER
                            reason:
                              description: The reason for cancellation
                              allOf:
                                - description: Describes a selectable option
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    id:
                                      type: string
                                    descriptor: *ref_219
                            additional_description:
                              description: >-
                                Any additional information regarding the nature
                                of cancellation
                              allOf:
                                - *ref_219
                    cancellation_terms:
                      description: Cancellation terms of this item
                      type: array
                      items: *ref_247
                    documents:
                      type: array
                      items:
                        description: Documnents associated to the order
                        type: object
                        additionalProperties: false
                        properties:
                          descriptor: *ref_219
                          mime_type:
                            description: >-
                              This field indicates the nature and format of the
                              form received by querying the url. MIME types are
                              defined and standardized in IETF's RFC 6838.
                            type: string
                            enum:
                              - text/html
                              - application/html
                              - application/xml
                              - application/pdf
                          url:
                            description: >-
                              The URL from where the form can be fetched. The
                              content fetched from the url must be processed as
                              per the mime_type specified in this object.
                            type: string
                            format: uri
                    refund_terms:
                      description: Refund terms of this item
                      type: array
                      items: *ref_248
                    replacement_terms:
                      description: Replacement terms of this item
                      type: array
                      items: *ref_249
                    return_terms:
                      description: Return terms of this item
                      type: array
                      items: *ref_250
                    quote:
                      description: The mutually agreed upon quotation for this order.
                      allOf:
                        - description: >-
                            Describes a quote. It is the estimated price of
                            products or services from the BPP.<br>This has
                            properties like price, breakup, ttl
                          type: object
                          additionalProperties: false
                          properties:
                            id:
                              description: ID of the quote.
                              type: string
                            price:
                              description: The total quoted price
                              allOf:
                                - *ref_239
                            breakup:
                              description: the breakup of the total quoted price
                              type: array
                              items:
                                type: object
                                properties:
                                  item: *ref_243
                                  title:
                                    type: string
                                  price: *ref_239
                            ttl: *ref_221
                    payments:
                      description: The terms of settlement for this order
                      type: array
                      items: *ref_251
                    created_at:
                      description: The date-time of creation of this order
                      type: string
                      format: date-time
                    updated_at:
                      description: The date-time of updated of this order
                      type: string
                      format: date-time
                    xinput:
                      description: >-
                        Additional input required from the customer to confirm
                        this order
                      allOf:
                        - *ref_242
                    tags:
                      type: array
                      items: *ref_228
              required:
                - order
          required:
            - context
            - message
        on_confirm:
          type: object
          properties:
            context:
              allOf:
                - description: >-
                    Every API call in beckn protocol has a context. It provides
                    a high-level overview to the receiver about the nature of
                    the intended transaction. Typically, it is the BAP that sets
                    the transaction context based on the consumer's location and
                    action on their UI. But sometimes, during unsolicited
                    callbacks, the BPP also sets the transaction context but it
                    is usually the same as the context of a previous full-cycle,
                    request-callback interaction between the BAP and the BPP.
                    The context object contains four types of fields.
                    <ol><li>Demographic information about the transaction using
                    fields like `domain`, `country`, and
                    `region`.</li><li>Addressing details like the sending and
                    receiving platform's ID and API
                    URL.</li><li>Interoperability information like the protocol
                    version that implemented by the sender
                    and,</li><li>Transaction details like the method being
                    called at the receiver's endpoint, the transaction_id that
                    represents an end-to-end user session at the BAP, a message
                    ID to pair requests with callbacks, a timestamp to capture
                    sending times, a ttl to specifiy the validity of the
                    request, and a key to encrypt information if
                    necessary.</li></ol> This object must be passed in every
                    interaction between a BAP and a BPP. In HTTP/S
                    implementations, it is not necessary to send the context
                    during the synchronous response. However, in asynchronous
                    protocols, the context must be sent during all interactions,
                  type: object
                  additionalProperties: false
                  properties:
                    domain:
                      description: Domain code that is relevant to this transaction context
                      allOf:
                        - type: string
                          description: >-
                            Standard code representing the domain. The standard
                            is usually published as part of the network policy.
                            Furthermore, the network facilitator should also
                            provide a mechanism to provide the supported domains
                            of a network.
                    location:
                      description: >-
                        The location where the transaction is intended to be
                        fulfilled.
                      allOf:
                        - &ref_269
                          description: The physical location of something
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_270
                              type: string
                            descriptor: &ref_256
                              description: Physical description of something.
                              type: object
                              additionalProperties: false
                              properties:
                                name:
                                  type: string
                                code:
                                  type: string
                                short_desc:
                                  type: string
                                long_desc:
                                  type: string
                                additional_desc:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                                    content_type:
                                      type: string
                                      enum:
                                        - text/plain
                                        - text/html
                                        - application/json
                                media:
                                  type: array
                                  items: &ref_278
                                    description: >-
                                      This object contains a url to a media
                                      file.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      mimetype:
                                        description: >-
                                          indicates the nature and format of the
                                          document, file, or assortment of bytes.
                                          MIME types are defined and standardized
                                          in IETF's RFC 6838
                                        type: string
                                      url:
                                        description: The URL of the file
                                        type: string
                                        format: uri
                                      signature:
                                        description: >-
                                          The digital signature of the file signed
                                          by the sender
                                        type: string
                                      dsa:
                                        description: The signing algorithm used by the sender
                                        type: string
                                images:
                                  type: array
                                  items: &ref_264
                                    description: Describes an image
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      url:
                                        description: >-
                                          URL to the image. This can be a data url
                                          or an remote url
                                        type: string
                                        format: uri
                                      size_type:
                                        description: >-
                                          The size of the image. The network
                                          policy can define the default dimensions
                                          of each type
                                        type: string
                                        enum:
                                          - xs
                                          - sm
                                          - md
                                          - lg
                                          - xl
                                          - custom
                                      width:
                                        description: Width of the image in pixels
                                        type: string
                                      height:
                                        description: Height of the image in pixels
                                        type: string
                            map_url:
                              description: >-
                                The url to the map of the location. This can be
                                a globally recognized map url or the one
                                specified by the network policy.
                              type: string
                              format: uri
                            gps:
                              description: The GPS co-ordinates of this location.
                              allOf:
                                - &ref_252
                                  description: Describes a GPS coordinate
                                  type: string
                                  pattern: >-
                                    ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                            address:
                              description: The address of this location.
                              allOf:
                                - &ref_261
                                  description: Describes a postal address.
                                  type: string
                            city:
                              description: The city this location is, or is located within
                              allOf:
                                - &ref_263
                                  description: Describes a city
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      description: Name of the city
                                      type: string
                                    code:
                                      description: City code
                                      type: string
                            district:
                              description: The state this location is, or is located within
                              type: string
                            state:
                              description: The state this location is, or is located within
                              allOf:
                                - &ref_262
                                  description: >-
                                    A bounded geopolitical region of governance
                                    inside a country.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the state
                                    code:
                                      type: string
                                      description: >-
                                        State code as per country or
                                        international standards
                            country:
                              description: >-
                                The country this location is, or is located
                                within
                              allOf:
                                - description: Describes a country
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the country
                                    code:
                                      type: string
                                      description: >-
                                        Country code as per ISO 3166-1 and ISO
                                        3166-2 format
                            area_code:
                              type: string
                            circle:
                              description: >-
                                Describes a circular region of a specified
                                radius centered at a specified GPS coordinate.
                              type: object
                              additionalProperties: false
                              properties:
                                gps: *ref_252
                                radius: &ref_272
                                  description: Describes a scalar
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - CONSTANT
                                        - VARIABLE
                                    value: &ref_253
                                      description: >-
                                        Describes a numerical value in decimal
                                        form
                                      type: string
                                      pattern: '[+-]?([0-9]*[.])?[0-9]+'
                                    estimated_value: *ref_253
                                    computed_value: *ref_253
                                    range:
                                      type: object
                                      properties:
                                        min: *ref_253
                                        max: *ref_253
                                    unit:
                                      type: string
                            polygon:
                              description: The boundary polygon of this location
                              type: string
                            3dspace:
                              description: >-
                                The three dimensional region describing this
                                location
                              type: string
                            rating:
                              description: The rating of this location
                              allOf:
                                - &ref_257
                                  description: >-
                                    Rating value given to the object. This can
                                    be a single value or can also contain an
                                    inequality operator like gt, gte, lt, lte.
                                    This can also contain an inequality
                                    expression containing logical operators like
                                    && and ||.
                                  type: string
                    action:
                      description: >-
                        The Beckn protocol method being called by the sender and
                        executed at the receiver.
                      type: string
                    version:
                      type: string
                      description: >-
                        Version of transaction protocol being used by the
                        sender.
                    bap_id:
                      description: Subscriber ID of the BAP
                      allOf:
                        - &ref_254
                          description: >-
                            A globally unique identifier of the platform,
                            Typically it is the fully qualified domain name
                            (FQDN) of the platform.
                          type: string
                    bap_uri:
                      description: >-
                        Subscriber URL of the BAP for accepting callbacks from
                        BPPs.
                      allOf:
                        - &ref_255
                          description: >-
                            The callback URL of the Subscriber. This should
                            necessarily contain the same domain name as set in
                            `subscriber_id``.
                          type: string
                          format: uri
                    bpp_id:
                      description: Subscriber ID of the BPP
                      allOf:
                        - *ref_254
                    bpp_uri:
                      description: Subscriber URL of the BPP for accepting calls from BAPs.
                      allOf:
                        - *ref_255
                    transaction_id:
                      description: >-
                        This is a unique value which persists across all API
                        calls from `search` through `confirm`. This is done to
                        indicate an active user session across multiple
                        requests. The BPPs can use this value to push
                        personalized recommendations, and dynamic offerings
                        related to an ongoing transaction despite being unaware
                        of the user active on the BAP.
                      type: string
                      format: uuid
                    message_id:
                      description: >-
                        This is a unique value which persists during a request /
                        callback cycle. Since beckn protocol APIs are
                        asynchronous, BAPs need a common value to match an
                        incoming callback from a BPP to an earlier call. This
                        value can also be used to ignore duplicate messages
                        coming from the BPP. It is recommended to generate a
                        fresh message_id for every new interaction. When sending
                        unsolicited callbacks, BPPs must generate a new
                        message_id.
                      type: string
                      format: uuid
                    timestamp:
                      description: Time of request generation in RFC3339 format
                      type: string
                      format: date-time
                    key:
                      description: The encryption public key of the sender
                      type: string
                    ttl:
                      description: >-
                        The duration in ISO8601 format after timestamp for which
                        this message holds valid
                      type: string
                - type: object
                  properties:
                    action:
                      enum:
                        - on_confirm
                  required:
                    - action
            message:
              type: object
              properties:
                order:
                  description: >-
                    Describes a legal purchase order. It contains the complete
                    details of the legal contract created between the buyer and
                    the seller.
                  type: object
                  additionalProperties: false
                  properties:
                    id:
                      type: string
                      description: >-
                        Human-readable ID of the order. This is generated at the
                        BPP layer. The BPP can either generate order id within
                        its system or forward the order ID created at the
                        provider level.
                    ref_order_ids:
                      description: >-
                        A list of order IDs to link this order to previous
                        orders.
                      type: array
                      items:
                        type: string
                        description: ID of a previous order
                    status:
                      description: >-
                        Status of the order. Allowed values can be defined by
                        the network policy
                      type: string
                      enum:
                        - ACTIVE
                        - COMPLETE
                        - CANCELLED
                    type:
                      description: >-
                        This is used to indicate the type of order being created
                        to BPPs. Sometimes orders can be linked to previous
                        orders, like a replacement order in a retail domain. A
                        follow-up consultation in healthcare domain. A single
                        order part of a subscription order. The list of order
                        types can be standardized at the network level.
                      type: string
                      default: DEFAULT
                      enum:
                        - DRAFT
                        - DEFAULT
                    provider:
                      description: >-
                        Details of the provider whose catalog items have been
                        selected.
                      allOf:
                        - description: Describes the catalog of a business.
                          type: object
                          properties:
                            id:
                              type: string
                              description: Id of the provider
                            descriptor: *ref_256
                            category_id:
                              type: string
                              description: >-
                                Category Id of the provider at the BPP-level
                                catalog
                            rating: *ref_257
                            time: &ref_260
                              description: >-
                                Describes time in its various forms. It can be a
                                single point in time; duration; or a structured
                                timetable of operations<br>This has properties
                                like label, time stamp,duration,range, days,
                                schedule
                              type: object
                              additionalProperties: false
                              properties:
                                label:
                                  type: string
                                timestamp:
                                  type: string
                                  format: date-time
                                duration: &ref_258
                                  description: Describes duration as per ISO8601 format
                                  type: string
                                range:
                                  type: object
                                  properties:
                                    start:
                                      type: string
                                      format: date-time
                                    end:
                                      type: string
                                      format: date-time
                                days:
                                  type: string
                                  description: >-
                                    comma separated values representing days of
                                    the week
                                schedule:
                                  description: >-
                                    Describes schedule as a repeating time
                                    period used to describe a regularly
                                    recurring event. At a minimum a schedule
                                    will specify frequency which describes the
                                    interval between occurrences of the event.
                                    Additional information can be provided to
                                    specify the schedule more precisely. This
                                    includes identifying the timestamps(s) of
                                    when the event will take place. Schedules
                                    may also have holidays to exclude a specific
                                    day from the schedule.<br>This has
                                    properties like frequency, holidays, times
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    frequency: *ref_258
                                    holidays:
                                      type: array
                                      items:
                                        type: string
                                        format: date-time
                                    times:
                                      type: array
                                      items:
                                        type: string
                                        format: date-time
                            categories:
                              type: array
                              items:
                                description: >-
                                  A label under which a collection of items can
                                  be grouped.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_259
                                    description: ID of the category
                                    type: string
                                  parent_category_id: *ref_259
                                  descriptor: *ref_256
                                  time: *ref_260
                                  ttl:
                                    description: >-
                                      Time to live for an instance of this
                                      schema
                                  tags:
                                    type: array
                                    items: &ref_265
                                      description: >-
                                        A collection of tag objects with group
                                        level attributes. For detailed
                                        documentation on the Tags and Tag Groups
                                        schema go to
                                        https://github.com/beckn/protocol-specifications/discussions/316
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        display:
                                          description: >-
                                            Indicates the display properties of the
                                            tag group. If display is set to false,
                                            then the group will not be displayed. If
                                            it is set to true, it should be
                                            displayed. However, group-level display
                                            properties can be overriden by
                                            individual tag-level display property.
                                            As this schema is purely for catalog
                                            display purposes, it is not recommended
                                            to send this value during search.
                                          type: boolean
                                          default: true
                                        descriptor:
                                          description: >-
                                            Description of the TagGroup, can be used
                                            to store detailed information.
                                          allOf:
                                            - *ref_256
                                        list:
                                          description: >-
                                            An array of Tag objects listed under
                                            this group. This property can be set by
                                            BAPs during search to narrow the
                                            `search` and achieve more relevant
                                            results. When received during
                                            `on_search`, BAPs must render this list
                                            under the heading described by the
                                            `name` property of this schema.
                                          type: array
                                          items:
                                            description: >-
                                              Describes a tag. This is used to contain
                                              extended metadata. This object can be
                                              added as a property to any schema to
                                              describe extended attributes. For BAPs,
                                              tags can be sent during search to
                                              optimize and filter search results. BPPs
                                              can use tags to index their catalog to
                                              allow better search functionality. Tags
                                              are sent by the BPP as part of the
                                              catalog response in the `on_search`
                                              callback. Tags are also meant for
                                              display purposes. Upon receiving a tag,
                                              BAPs are meant to render them as
                                              name-value pairs. This is particularly
                                              useful when rendering tabular
                                              information about a product or service.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              descriptor:
                                                description: >-
                                                  Description of the Tag, can be used to
                                                  store detailed information.
                                                allOf:
                                                  - *ref_256
                                              value:
                                                description: >-
                                                  The value of the tag. This set by the
                                                  BPP and rendered as-is by the BAP.
                                                type: string
                                              display:
                                                description: >-
                                                  This value indicates if the tag is
                                                  intended for display purposes. If set to
                                                  `true`, then this tag must be displayed.
                                                  If it is set to `false`, it should not
                                                  be displayed. This value can override
                                                  the group display value.
                                                type: boolean
                            fulfillments:
                              type: array
                              items: &ref_283
                                description: >-
                                  Describes how a an order will be
                                  rendered/fulfilled to the end-customer
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_274
                                    description: >-
                                      Unique reference ID to the fulfillment of
                                      an order
                                    type: string
                                  type:
                                    description: >-
                                      A code that describes the mode of
                                      fulfillment. This is typically set when
                                      there are multiple ways an order can be
                                      fulfilled. For example, a retail order can
                                      be fulfilled either via store pickup or a
                                      home delivery. Similarly, a medical
                                      consultation can be provided either
                                      in-person or via tele-consultation. The
                                      network policy must publish standard
                                      fulfillment type codes for the different
                                      modes of fulfillment.
                                    type: string
                                  rateable:
                                    description: >-
                                      Whether the fulfillment can be rated or
                                      not
                                    type: boolean
                                  rating:
                                    description: >-
                                      The rating value of the fulfullment
                                      service.
                                    allOf:
                                      - *ref_257
                                  state:
                                    description: >-
                                      The current state of fulfillment. The BPP
                                      must set this value whenever the state of
                                      the order fulfillment changes and fire an
                                      unsolicited `on_status` call.
                                    allOf:
                                      - &ref_277
                                        description: Describes the state of fulfillment
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          descriptor: *ref_256
                                          updated_at:
                                            type: string
                                            format: date-time
                                          updated_by:
                                            type: string
                                            description: ID of entity which changed the state
                                  tracking:
                                    type: boolean
                                    description: >-
                                      Indicates whether the fulfillment allows
                                      tracking
                                    default: false
                                  customer:
                                    description: >-
                                      The person that will ultimately receive
                                      the order
                                    allOf:
                                      - description: >-
                                          Describes a customer buying/availing a
                                          product or a service
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          organization: &ref_268
                                            description: >-
                                              An organization. Usually a recognized
                                              business entity.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              descriptor: *ref_256
                                              address:
                                                description: The postal address of the organization
                                                allOf:
                                                  - *ref_261
                                              state:
                                                description: >-
                                                  The state where the organization's
                                                  address is registered
                                                allOf:
                                                  - *ref_262
                                              city:
                                                description: >-
                                                  The city where the the organization's
                                                  address is registered
                                                allOf:
                                                  - *ref_263
                                              contact: &ref_266
                                                description: >-
                                                  Describes the contact information of an
                                                  entity
                                                type: object
                                                additionalProperties: false
                                                properties:
                                                  phone:
                                                    type: string
                                                  email:
                                                    type: string
                                                  jcard:
                                                    type: object
                                                    description: >-
                                                      A Jcard object as per
                                                      draft-ietf-jcardcal-jcard-03
                                                      specification
                                          person: &ref_267
                                            description: Describes a person as any individual
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                                description: Describes the identity of the person
                                              url:
                                                description: Profile url of the person
                                                type: string
                                                format: uri
                                              name:
                                                description: the name of the person
                                                type: string
                                              image: *ref_264
                                              age:
                                                description: Age of the person
                                                allOf:
                                                  - *ref_258
                                              dob:
                                                description: Date of birth of the person
                                                type: string
                                                format: date
                                              gender:
                                                type: string
                                                description: >-
                                                  Gender of something, typically a Person,
                                                  but possibly also fictional characters,
                                                  animals, etc. While Male and Female may
                                                  be used, text strings are also
                                                  acceptable for people who do not
                                                  identify as a binary gender.Allowed
                                                  values for this field can be published
                                                  in the network policy
                                              creds:
                                                type: array
                                                items:
                                                  description: >-
                                                    Describes a credential of an entity -
                                                    Person or Organization
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    id:
                                                      type: string
                                                    type:
                                                      type: string
                                                      default: VerifiableCredential
                                                    url:
                                                      description: URL of the credential
                                                      type: string
                                                      format: uri
                                              languages:
                                                type: array
                                                items:
                                                  description: >-
                                                    Describes a language known to the
                                                    person.
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    code:
                                                      type: string
                                                    name:
                                                      type: string
                                              skills:
                                                type: array
                                                items:
                                                  description: Describes a skill of the person.
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    code:
                                                      type: string
                                                    name:
                                                      type: string
                                              tags:
                                                type: array
                                                items: *ref_265
                                          contact: *ref_266
                                  agent:
                                    description: >-
                                      The agent that is currently handling the
                                      fulfillment of the order
                                    allOf:
                                      - description: >-
                                          Describes the direct performer, driver
                                          or executor that fulfills an order. It
                                          is usually a person. But in some rare
                                          cases, it could be a non-living entity
                                          like a drone, or a bot. Some examples of
                                          agents are Doctor in the healthcare
                                          sector, a driver in the mobility sector,
                                          or a delivery person in the logistics
                                          sector. This object can be set at any
                                          stage of the order lifecycle. This can
                                          be set at the discovery stage when the
                                          BPP wants to provide details on the
                                          agent fulfilling the order, like in
                                          healthcare, where the doctor's name
                                          appears during search. This object can
                                          also used to search for a particular
                                          person that the customer wants
                                          fulfilling an order. Sometimes, this
                                          object gets instantiated after the order
                                          is confirmed, like in the case of
                                          on-demand taxis, where the driver is
                                          assigned after the user confirms the
                                          ride.
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          person: *ref_267
                                          contact: *ref_266
                                          organization: *ref_268
                                          rating: *ref_257
                                  contact: *ref_266
                                  vehicle:
                                    description: >-
                                      Describes a vehicle is a device that is
                                      designed or used to transport people or
                                      cargo over land, water, air, or through
                                      space.<br>This has properties like
                                      category, capacity, make, model,
                                      size,variant,color,energy_type,registration
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      category:
                                        type: string
                                      capacity:
                                        type: integer
                                      make:
                                        type: string
                                      model:
                                        type: string
                                      size:
                                        type: string
                                      variant:
                                        type: string
                                      color:
                                        type: string
                                      energy_type:
                                        type: string
                                      registration:
                                        type: string
                                      wheels_count:
                                        type: string
                                      cargo_volumne:
                                        type: string
                                      wheelchair_access:
                                        type: string
                                      code:
                                        type: string
                                      emission_standard:
                                        type: string
                                  stops:
                                    description: >-
                                      The list of logical stops encountered
                                      during the fulfillment of an order.
                                    type: array
                                    items:
                                      description: >-
                                        A logical point in space and time during
                                        the fulfillment of an order.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                        parent_stop_id:
                                          type: string
                                        location:
                                          description: Location of the stop
                                          allOf:
                                            - *ref_269
                                        type:
                                          description: >-
                                            The type of stop. Allowed values of this
                                            property can be defined by the network
                                            policy.
                                          type: string
                                        time:
                                          description: Timings applicable at the stop.
                                          allOf:
                                            - *ref_260
                                        instructions:
                                          description: >-
                                            Instructions that need to be followed at
                                            the stop
                                          allOf:
                                            - *ref_256
                                        contact:
                                          description: Contact details of the stop
                                          allOf:
                                            - *ref_266
                                        person:
                                          description: >-
                                            The details of the person present at the
                                            stop
                                          allOf:
                                            - *ref_267
                                        authorization:
                                          description: >-
                                            Describes an authorization mechanism
                                            used to start or end the fulfillment of
                                            an order. For example, in the mobility
                                            sector, the driver may require a
                                            one-time password to initiate the ride.
                                            In the healthcare sector, a patient may
                                            need to provide a password to open a
                                            video conference link during a
                                            teleconsultation.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            type:
                                              description: >-
                                                Type of authorization mechanism used.
                                                The allowed values for this field can be
                                                published as part of the network policy.
                                              type: string
                                            token:
                                              description: >-
                                                Token used for authorization. This is
                                                typically generated at the BPP. The BAP
                                                can send this value to the user via any
                                                channel that it uses to authenticate the
                                                user like SMS, Email, Push notification,
                                                or in-app rendering.
                                              type: string
                                            valid_from:
                                              description: >-
                                                Timestamp in RFC3339 format from which
                                                token is valid
                                              type: string
                                              format: date-time
                                            valid_to:
                                              description: >-
                                                Timestamp in RFC3339 format until which
                                                token is valid
                                              type: string
                                              format: date-time
                                            status:
                                              description: Status of the token
                                              type: string
                                  path:
                                    description: >-
                                      The physical path taken by the agent that
                                      can be rendered on a map. The allowed
                                      format of this property can be set by the
                                      network.
                                    type: string
                                  tags:
                                    type: array
                                    items: *ref_265
                            payments:
                              type: array
                              items: &ref_288
                                description: >-
                                  Describes the terms of settlement between the
                                  BAP and the BPP for a single transaction. When
                                  instantiated, this object contains <ol><li>the
                                  amount that has to be settled,</li><li>The
                                  payment destination destination
                                  details</li><li>When the settlement should
                                  happen, and</li><li>A transaction reference
                                  ID</li></ol>. During a transaction, the BPP
                                  reserves the right to decide the terms of
                                  payment. However, the BAP can send its terms
                                  to the BPP first. If the BPP does not agree to
                                  those terms, it must overwrite the terms and
                                  return them to the BAP. If overridden, the BAP
                                  must either agree to the terms sent by the BPP
                                  in order to preserve the provider's autonomy,
                                  or abort the transaction. In case of such
                                  disagreements, the BAP and the BPP can perform
                                  offline negotiations on the payment terms.
                                  Once an agreement is reached, the BAP and BPP
                                  can resume transactions.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_275
                                    description: >-
                                      ID of the payment term that can be
                                      referred at an item or an order level in a
                                      catalog
                                    type: string
                                  collected_by:
                                    description: >-
                                      This field indicates who is the collector
                                      of payment. The BAP can set this value to
                                      'bap' if it wants to collect the payment
                                      first and  settle it to the BPP. If the
                                      BPP agrees to those terms, the BPP should
                                      not send the payment url. Alternatively,
                                      the BPP can set this field with the value
                                      'bpp' if it wants the payment to be made
                                      directly.
                                    type: string
                                  url:
                                    type: string
                                    description: >-
                                      A payment url to be called by the BAP. If
                                      empty, then the payment is to be done
                                      offline. The details of payment should be
                                      present in the params object. If tl_method
                                      = http/get, then the payment details will
                                      be sent as url params. Two url param
                                      values, ```$transaction_id``` and
                                      ```$amount``` are mandatory.
                                    format: uri
                                  params:
                                    type: object
                                    properties:
                                      transaction_id:
                                        type: string
                                        description: >-
                                          The reference transaction ID associated
                                          with a payment activity
                                      amount:
                                        type: string
                                      currency:
                                        type: string
                                      bank_code:
                                        type: string
                                      bank_account_number:
                                        type: string
                                      virtual_payment_address:
                                        type: string
                                      source_bank_code:
                                        type: string
                                      source_bank_account_number:
                                        type: string
                                      source_virtual_payment_address:
                                        type: string
                                  type:
                                    type: string
                                    enum:
                                      - PRE-ORDER
                                      - PRE-FULFILLMENT
                                      - ON-FULFILLMENT
                                      - POST-FULFILLMENT
                                      - ON-ORDER
                                      - PRE_ORDER
                                      - PRE_FULFILLMENT
                                      - ON_FULFILLMENT
                                      - POST_FULFILLMENT
                                      - ON_ORDER
                                  status:
                                    type: string
                                    enum:
                                      - PAID
                                      - NOT-PAID
                                  time: *ref_260
                                  tags:
                                    type: array
                                    items: *ref_265
                            locations:
                              type: array
                              items: *ref_269
                            offers:
                              type: array
                              items: &ref_282
                                description: >-
                                  An offer associated with a catalog. This is
                                  typically used to promote a particular product
                                  and enable more purchases.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  descriptor: *ref_256
                                  location_ids:
                                    type: array
                                    items: *ref_270
                                  category_ids:
                                    type: array
                                    items: *ref_259
                                  item_ids:
                                    type: array
                                    items: &ref_271
                                      description: ID of the item.
                                      type: string
                                  time: *ref_260
                                  tags:
                                    type: array
                                    items: *ref_265
                            items:
                              type: array
                              items: &ref_280
                                description: >-
                                  Describes a product or a service offered to
                                  the end consumer by the provider. In the
                                  mobility sector, it can represent a fare
                                  product like one way journey. In the logistics
                                  sector, it can represent the delivery service
                                  offering. In the retail domain it can
                                  represent a product like a grocery item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: *ref_271
                                  parent_item_id:
                                    description: ID of the item, this item is a variant of
                                    allOf:
                                      - *ref_271
                                  parent_item_quantity:
                                    description: >-
                                      The number of units of the parent item
                                      this item is a multiple of
                                    allOf:
                                      - &ref_273
                                        description: Describes the count or amount of an item
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          allocated:
                                            description: >-
                                              This represents the exact quantity
                                              allocated for purchase of the item.
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_272
                                          available:
                                            description: >-
                                              This represents the exact quantity
                                              available for purchase of the item. The
                                              buyer can only purchase multiples of
                                              this
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_272
                                          maximum:
                                            description: >-
                                              This represents the maximum quantity
                                              allowed for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 1
                                              measure: *ref_272
                                          minimum:
                                            description: >-
                                              This represents the minimum quantity
                                              allowed for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_272
                                          selected:
                                            description: >-
                                              This represents the quantity selected
                                              for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_272
                                          unitized:
                                            description: >-
                                              This represents the quantity available
                                              in a single unit of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 1
                                                maximum: 1
                                              measure: *ref_272
                                  descriptor:
                                    description: Physical description of the item
                                    allOf:
                                      - *ref_256
                                  creator:
                                    description: The creator of this item
                                    allOf:
                                      - *ref_268
                                  price:
                                    description: >-
                                      The price of this item, if it has
                                      intrinsic value
                                    allOf:
                                      - &ref_276
                                        description: >-
                                          Describes the price of a product or
                                          service
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          currency:
                                            type: string
                                          value: *ref_253
                                          estimated_value: *ref_253
                                          computed_value: *ref_253
                                          listed_value: *ref_253
                                          offered_value: *ref_253
                                          minimum_value: *ref_253
                                          maximum_value: *ref_253
                                  quantity:
                                    description: The selling quantity of the item
                                    allOf:
                                      - *ref_273
                                  category_ids:
                                    description: Categories this item can be listed under
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_259
                                  fulfillment_ids:
                                    description: >-
                                      Modes through which this item can be
                                      fulfilled
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_274
                                  location_ids:
                                    description: >-
                                      Provider Locations this item is available
                                      in
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_270
                                  payment_ids:
                                    description: >-
                                      Payment modalities through which this item
                                      can be ordered
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_275
                                  add_ons:
                                    type: array
                                    items: &ref_281
                                      description: >-
                                        Describes an additional item offered as
                                        a value-addition to a product or
                                        service. This does not exist
                                        independently in a catalog and is always
                                        associated with an item.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          description: Provider-defined ID of the add-on
                                          type: string
                                        descriptor: *ref_256
                                        price: *ref_276
                                        quantity: *ref_273
                                  cancellation_terms:
                                    description: Cancellation terms of this item
                                    type: array
                                    items: &ref_284
                                      description: >-
                                        Describes the cancellation terms of an
                                        item or an order. This can be referenced
                                        at an item or order level. Item-level
                                        cancellation terms can override the
                                        terms at the order level.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_277
                                        reason_required:
                                          description: >-
                                            Indicates whether a reason is required
                                            to cancel the order
                                          type: boolean
                                        cancel_by:
                                          description: >-
                                            Information related to the time of
                                            cancellation.
                                          allOf:
                                            - *ref_260
                                        cancellation_fee:
                                          description: A fee applied on a particular entity
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            percentage:
                                              description: Percentage of a value
                                              allOf:
                                                - *ref_253
                                            amount:
                                              description: A fixed value
                                              allOf:
                                                - *ref_276
                                        xinput: &ref_279
                                          description: >-
                                            Contains any additional or extended
                                            inputs required to confirm an order.
                                            This is typically a Form Input.
                                            Sometimes, selection of catalog elements
                                            is not enough for the BPP to confirm an
                                            order. For example, to confirm a flight
                                            ticket, the airline requires details of
                                            the passengers along with information on
                                            baggage, identity, in addition to the
                                            class of ticket. Similarly, a logistics
                                            company may require details on the
                                            nature of shipment in order to confirm
                                            the shipping. A recruiting firm may
                                            require additional details on the
                                            applicant in order to confirm a job
                                            application. For all such purposes, the
                                            BPP can choose to send this object
                                            attached to any object in the catalog
                                            that is required to be sent while
                                            placing the order. This object can
                                            typically be sent at an item level or at
                                            the order level. The item level XInput
                                            will override the Order level XInput as
                                            it indicates a special requirement of
                                            information for that particular item.
                                            Hence the BAP must render a separate
                                            form for the Item and another form at
                                            the Order level before confirmation.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            head:
                                              description: >-
                                                Provides the header information for the
                                                xinput.
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                descriptor: *ref_256
                                                index:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    min:
                                                      type: integer
                                                    cur:
                                                      type: integer
                                                    max:
                                                      type: integer
                                                headings:
                                                  type: array
                                                  items:
                                                    type: string
                                                    description: The heading names of the forms
                                            form:
                                              description: Describes a form
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                id:
                                                  description: The form identifier.
                                                  type: string
                                                url:
                                                  description: >-
                                                    The URL from where the form can be
                                                    fetched. The content fetched from the
                                                    url must be processed as per the
                                                    mime_type specified in this object. Once
                                                    fetched, the rendering platform can
                                                    choosed to render the form as-is as an
                                                    embeddable element; or process it
                                                    further to blend with the theme of the
                                                    application. In case the interface is
                                                    non-visual, the the render can process
                                                    the form data and reproduce it as per
                                                    the standard specified in the form.
                                                  type: string
                                                  format: uri
                                                data:
                                                  description: The form submission data
                                                  type: object
                                                  additionalProperties:
                                                    type: string
                                                mime_type:
                                                  description: >-
                                                    This field indicates the nature and
                                                    format of the form received by querying
                                                    the url. MIME types are defined and
                                                    standardized in IETF's RFC 6838.
                                                  type: string
                                                  enum:
                                                    - text/html
                                                    - application/html
                                                    - application/xml
                                                resubmit:
                                                  type: boolean
                                                multiple_sumbissions:
                                                  type: boolean
                                            form_response:
                                              description: >-
                                                Describes the response to a form
                                                submission
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                status:
                                                  description: Contains the status of form submission.
                                                  type: string
                                                signature:
                                                  type: string
                                                submission_id:
                                                  type: string
                                                  format: uuid
                                                errors:
                                                  type: array
                                                  items: &ref_289
                                                    description: >-
                                                      Describes an error object that is
                                                      returned by a BAP, BPP or BG as a
                                                      response or callback to an action by
                                                      another network participant. This object
                                                      is sent when any request received by a
                                                      network participant is unacceptable.
                                                      This object can be sent either during
                                                      Ack or with the callback.
                                                    type: object
                                                    additionalProperties: false
                                                    properties:
                                                      code:
                                                        type: string
                                                        description: >-
                                                          Standard error code. For full list of
                                                          error codes, refer to
                                                          docs/protocol-drafts/BECKN-005-ERROR-CODES-DRAFT-01.md
                                                          of this repo"
                                                      paths:
                                                        type: string
                                                        description: >-
                                                          Path to json schema generating the
                                                          error. Used only during json schema
                                                          validation errors
                                                      message:
                                                        type: string
                                                        description: >-
                                                          Human readable message describing the
                                                          error. Used mainly for logging. Not
                                                          recommended to be shown to the user.
                                            required:
                                              description: >-
                                                Indicates whether the form data is
                                                mandatorily required by the BPP to
                                                confirm the order.
                                              type: boolean
                                        external_ref: *ref_278
                                  refund_terms:
                                    description: Refund terms of this item
                                    type: array
                                    items: &ref_285
                                      description: Refund term of an item or an order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_262
                                        refund_eligible:
                                          description: >-
                                            Indicates if cancellation will result in
                                            a refund
                                          type: boolean
                                        refund_within:
                                          description: >-
                                            Time within which refund will be
                                            processed after successful cancellation.
                                          allOf:
                                            - *ref_260
                                        refund_amount: *ref_276
                                  replacement_terms:
                                    description: >-
                                      Terms that are applicable be met when this
                                      item is replaced
                                    type: array
                                    items: &ref_286
                                      description: >-
                                        The replacement policy of an item or an
                                        order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_262
                                        replace_within:
                                          description: >-
                                            Applicable only for buyer managed
                                            returns where the buyer has to replace
                                            the item before a certain date-time,
                                            failing which they will not be eligible
                                            for replacement
                                          allOf:
                                            - *ref_260
                                        external_ref: *ref_278
                                  return_terms:
                                    description: >-
                                      Terms that are applicable when this item
                                      is returned
                                    type: array
                                    items: &ref_287
                                      description: >-
                                        Describes the return policy of an item
                                        or an order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term IETF''s applicable.
                                          allOf:
                                            - *ref_262
                                        return_eligible:
                                          description: >-
                                            Indicates whether the item is eligible
                                            for return
                                          type: boolean
                                        return_time:
                                          description: >-
                                            Applicable only for buyer managed
                                            returns where the buyer has to return
                                            the item to the origin before a certain
                                            date-time, failing which they will not
                                            be eligible for refund.
                                          allOf:
                                            - *ref_260
                                        return_location:
                                          description: >-
                                            The location where the item or order
                                            must / will be returned to
                                          allOf:
                                            - *ref_269
                                        fulfillment_managed_by:
                                          description: The entity that will perform the return
                                          type: string
                                          enum:
                                            - CONSUMER
                                            - PROVIDER
                                  xinput:
                                    description: >-
                                      Additional input required from the
                                      customer to purchase / avail this item
                                    allOf:
                                      - *ref_279
                                  time:
                                    description: >-
                                      Temporal attributes of this item. This
                                      property is used when the item exists on
                                      the catalog only for a limited period of
                                      time.
                                    allOf:
                                      - *ref_260
                                  rateable:
                                    description: Whether this item can be rated
                                    type: boolean
                                  rating:
                                    description: The rating of the item
                                    allOf:
                                      - *ref_257
                                  matched:
                                    description: >-
                                      Whether this item is an exact match of the
                                      request
                                    type: boolean
                                  related:
                                    description: >-
                                      Whether this item is a related item to the
                                      exactly matched item
                                    type: boolean
                                  recommended:
                                    description: >-
                                      Whether this item is a recommended item to
                                      a response
                                    type: boolean
                                  ttl:
                                    description: >-
                                      Time to live in seconds for an instance of
                                      this schema
                                    type: string
                                  tags:
                                    type: array
                                    items: *ref_265
                            exp:
                              type: string
                              description: Time after which catalog has to be refreshed
                              format: date-time
                            rateable:
                              description: Whether this provider can be rated or not
                              type: boolean
                            ttl:
                              description: >-
                                The time-to-live in seconds, for this object.
                                This can be overriden at deeper levels. A value
                                of -1 indicates that this object is not
                                cacheable.
                              type: string
                            tags:
                              type: array
                              items: *ref_265
                    items:
                      description: The items purchased / availed in this order
                      type: array
                      items: *ref_280
                    add_ons:
                      description: The add-ons purchased / availed in this order
                      type: array
                      items: *ref_281
                    offers:
                      description: The offers applied in this order
                      type: array
                      items: *ref_282
                    billing:
                      description: The billing details of this order
                      allOf:
                        - description: >-
                            Describes the billing details of an entity.<br>This
                            has properties like
                            name,organization,address,email,phone,time,tax_number,
                            created_at,updated_at
                          type: object
                          additionalProperties: false
                          properties:
                            name:
                              description: Name of the billable entity
                              type: string
                            organization:
                              description: Details of the organization being billed.
                              allOf:
                                - *ref_268
                            address:
                              description: The address of the billable entity
                              allOf:
                                - *ref_261
                            state:
                              description: >-
                                The state where the billable entity resides.
                                This is important for state-level tax
                                calculation
                              allOf:
                                - *ref_262
                            city:
                              description: The city where the billable entity resides.
                              allOf:
                                - *ref_263
                            email:
                              description: Email address where the bill is sent to
                              type: string
                              format: email
                            phone:
                              description: Phone number of the billable entity
                              type: string
                            time:
                              description: Details regarding the billing period
                              allOf:
                                - *ref_260
                            tax_id:
                              description: >-
                                ID of the billable entity as recognized by the
                                taxation authority
                              type: string
                    fulfillments:
                      description: The fulfillments involved in completing this order
                      type: array
                      items: *ref_283
                    cancellation:
                      description: The cancellation details of this order
                      allOf:
                        - description: Describes a cancellation event
                          type: object
                          additionalProperties: false
                          properties:
                            time:
                              description: >-
                                Date-time when the order was cancelled by the
                                buyer
                              type: string
                              format: date-time
                            cancelled_by:
                              type: string
                              enum:
                                - CONSUMER
                                - PROVIDER
                            reason:
                              description: The reason for cancellation
                              allOf:
                                - description: Describes a selectable option
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    id:
                                      type: string
                                    descriptor: *ref_256
                            additional_description:
                              description: >-
                                Any additional information regarding the nature
                                of cancellation
                              allOf:
                                - *ref_256
                    cancellation_terms:
                      description: Cancellation terms of this item
                      type: array
                      items: *ref_284
                    documents:
                      type: array
                      items:
                        description: Documnents associated to the order
                        type: object
                        additionalProperties: false
                        properties:
                          descriptor: *ref_256
                          mime_type:
                            description: >-
                              This field indicates the nature and format of the
                              form received by querying the url. MIME types are
                              defined and standardized in IETF's RFC 6838.
                            type: string
                            enum:
                              - text/html
                              - application/html
                              - application/xml
                              - application/pdf
                          url:
                            description: >-
                              The URL from where the form can be fetched. The
                              content fetched from the url must be processed as
                              per the mime_type specified in this object.
                            type: string
                            format: uri
                    refund_terms:
                      description: Refund terms of this item
                      type: array
                      items: *ref_285
                    replacement_terms:
                      description: Replacement terms of this item
                      type: array
                      items: *ref_286
                    return_terms:
                      description: Return terms of this item
                      type: array
                      items: *ref_287
                    quote:
                      description: The mutually agreed upon quotation for this order.
                      allOf:
                        - description: >-
                            Describes a quote. It is the estimated price of
                            products or services from the BPP.<br>This has
                            properties like price, breakup, ttl
                          type: object
                          additionalProperties: false
                          properties:
                            id:
                              description: ID of the quote.
                              type: string
                            price:
                              description: The total quoted price
                              allOf:
                                - *ref_276
                            breakup:
                              description: the breakup of the total quoted price
                              type: array
                              items:
                                type: object
                                properties:
                                  item: *ref_280
                                  title:
                                    type: string
                                  price: *ref_276
                            ttl: *ref_258
                    payments:
                      description: The terms of settlement for this order
                      type: array
                      items: *ref_288
                    created_at:
                      description: The date-time of creation of this order
                      type: string
                      format: date-time
                    updated_at:
                      description: The date-time of updated of this order
                      type: string
                      format: date-time
                    xinput:
                      description: >-
                        Additional input required from the customer to confirm
                        this order
                      allOf:
                        - *ref_279
                    tags:
                      type: array
                      items: *ref_265
              required:
                - order
            error: *ref_289
          required:
            - context
        update:
          type: object
          properties:
            context:
              allOf:
                - description: >-
                    Every API call in beckn protocol has a context. It provides
                    a high-level overview to the receiver about the nature of
                    the intended transaction. Typically, it is the BAP that sets
                    the transaction context based on the consumer's location and
                    action on their UI. But sometimes, during unsolicited
                    callbacks, the BPP also sets the transaction context but it
                    is usually the same as the context of a previous full-cycle,
                    request-callback interaction between the BAP and the BPP.
                    The context object contains four types of fields.
                    <ol><li>Demographic information about the transaction using
                    fields like `domain`, `country`, and
                    `region`.</li><li>Addressing details like the sending and
                    receiving platform's ID and API
                    URL.</li><li>Interoperability information like the protocol
                    version that implemented by the sender
                    and,</li><li>Transaction details like the method being
                    called at the receiver's endpoint, the transaction_id that
                    represents an end-to-end user session at the BAP, a message
                    ID to pair requests with callbacks, a timestamp to capture
                    sending times, a ttl to specifiy the validity of the
                    request, and a key to encrypt information if
                    necessary.</li></ol> This object must be passed in every
                    interaction between a BAP and a BPP. In HTTP/S
                    implementations, it is not necessary to send the context
                    during the synchronous response. However, in asynchronous
                    protocols, the context must be sent during all interactions,
                  type: object
                  additionalProperties: false
                  properties:
                    domain:
                      description: Domain code that is relevant to this transaction context
                      allOf:
                        - type: string
                          description: >-
                            Standard code representing the domain. The standard
                            is usually published as part of the network policy.
                            Furthermore, the network facilitator should also
                            provide a mechanism to provide the supported domains
                            of a network.
                    location:
                      description: >-
                        The location where the transaction is intended to be
                        fulfilled.
                      allOf:
                        - &ref_307
                          description: The physical location of something
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_308
                              type: string
                            descriptor: &ref_294
                              description: Physical description of something.
                              type: object
                              additionalProperties: false
                              properties:
                                name:
                                  type: string
                                code:
                                  type: string
                                short_desc:
                                  type: string
                                long_desc:
                                  type: string
                                additional_desc:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                                    content_type:
                                      type: string
                                      enum:
                                        - text/plain
                                        - text/html
                                        - application/json
                                media:
                                  type: array
                                  items: &ref_316
                                    description: >-
                                      This object contains a url to a media
                                      file.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      mimetype:
                                        description: >-
                                          indicates the nature and format of the
                                          document, file, or assortment of bytes.
                                          MIME types are defined and standardized
                                          in IETF's RFC 6838
                                        type: string
                                      url:
                                        description: The URL of the file
                                        type: string
                                        format: uri
                                      signature:
                                        description: >-
                                          The digital signature of the file signed
                                          by the sender
                                        type: string
                                      dsa:
                                        description: The signing algorithm used by the sender
                                        type: string
                                images:
                                  type: array
                                  items: &ref_302
                                    description: Describes an image
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      url:
                                        description: >-
                                          URL to the image. This can be a data url
                                          or an remote url
                                        type: string
                                        format: uri
                                      size_type:
                                        description: >-
                                          The size of the image. The network
                                          policy can define the default dimensions
                                          of each type
                                        type: string
                                        enum:
                                          - xs
                                          - sm
                                          - md
                                          - lg
                                          - xl
                                          - custom
                                      width:
                                        description: Width of the image in pixels
                                        type: string
                                      height:
                                        description: Height of the image in pixels
                                        type: string
                            map_url:
                              description: >-
                                The url to the map of the location. This can be
                                a globally recognized map url or the one
                                specified by the network policy.
                              type: string
                              format: uri
                            gps:
                              description: The GPS co-ordinates of this location.
                              allOf:
                                - &ref_290
                                  description: Describes a GPS coordinate
                                  type: string
                                  pattern: >-
                                    ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                            address:
                              description: The address of this location.
                              allOf:
                                - &ref_299
                                  description: Describes a postal address.
                                  type: string
                            city:
                              description: The city this location is, or is located within
                              allOf:
                                - &ref_301
                                  description: Describes a city
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      description: Name of the city
                                      type: string
                                    code:
                                      description: City code
                                      type: string
                            district:
                              description: The state this location is, or is located within
                              type: string
                            state:
                              description: The state this location is, or is located within
                              allOf:
                                - &ref_300
                                  description: >-
                                    A bounded geopolitical region of governance
                                    inside a country.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the state
                                    code:
                                      type: string
                                      description: >-
                                        State code as per country or
                                        international standards
                            country:
                              description: >-
                                The country this location is, or is located
                                within
                              allOf:
                                - description: Describes a country
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the country
                                    code:
                                      type: string
                                      description: >-
                                        Country code as per ISO 3166-1 and ISO
                                        3166-2 format
                            area_code:
                              type: string
                            circle:
                              description: >-
                                Describes a circular region of a specified
                                radius centered at a specified GPS coordinate.
                              type: object
                              additionalProperties: false
                              properties:
                                gps: *ref_290
                                radius: &ref_310
                                  description: Describes a scalar
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - CONSTANT
                                        - VARIABLE
                                    value: &ref_291
                                      description: >-
                                        Describes a numerical value in decimal
                                        form
                                      type: string
                                      pattern: '[+-]?([0-9]*[.])?[0-9]+'
                                    estimated_value: *ref_291
                                    computed_value: *ref_291
                                    range:
                                      type: object
                                      properties:
                                        min: *ref_291
                                        max: *ref_291
                                    unit:
                                      type: string
                            polygon:
                              description: The boundary polygon of this location
                              type: string
                            3dspace:
                              description: >-
                                The three dimensional region describing this
                                location
                              type: string
                            rating:
                              description: The rating of this location
                              allOf:
                                - &ref_295
                                  description: >-
                                    Rating value given to the object. This can
                                    be a single value or can also contain an
                                    inequality operator like gt, gte, lt, lte.
                                    This can also contain an inequality
                                    expression containing logical operators like
                                    && and ||.
                                  type: string
                    action:
                      description: >-
                        The Beckn protocol method being called by the sender and
                        executed at the receiver.
                      type: string
                    version:
                      type: string
                      description: >-
                        Version of transaction protocol being used by the
                        sender.
                    bap_id:
                      description: Subscriber ID of the BAP
                      allOf:
                        - &ref_292
                          description: >-
                            A globally unique identifier of the platform,
                            Typically it is the fully qualified domain name
                            (FQDN) of the platform.
                          type: string
                    bap_uri:
                      description: >-
                        Subscriber URL of the BAP for accepting callbacks from
                        BPPs.
                      allOf:
                        - &ref_293
                          description: >-
                            The callback URL of the Subscriber. This should
                            necessarily contain the same domain name as set in
                            `subscriber_id``.
                          type: string
                          format: uri
                    bpp_id:
                      description: Subscriber ID of the BPP
                      allOf:
                        - *ref_292
                    bpp_uri:
                      description: Subscriber URL of the BPP for accepting calls from BAPs.
                      allOf:
                        - *ref_293
                    transaction_id:
                      description: >-
                        This is a unique value which persists across all API
                        calls from `search` through `confirm`. This is done to
                        indicate an active user session across multiple
                        requests. The BPPs can use this value to push
                        personalized recommendations, and dynamic offerings
                        related to an ongoing transaction despite being unaware
                        of the user active on the BAP.
                      type: string
                      format: uuid
                    message_id:
                      description: >-
                        This is a unique value which persists during a request /
                        callback cycle. Since beckn protocol APIs are
                        asynchronous, BAPs need a common value to match an
                        incoming callback from a BPP to an earlier call. This
                        value can also be used to ignore duplicate messages
                        coming from the BPP. It is recommended to generate a
                        fresh message_id for every new interaction. When sending
                        unsolicited callbacks, BPPs must generate a new
                        message_id.
                      type: string
                      format: uuid
                    timestamp:
                      description: Time of request generation in RFC3339 format
                      type: string
                      format: date-time
                    key:
                      description: The encryption public key of the sender
                      type: string
                    ttl:
                      description: >-
                        The duration in ISO8601 format after timestamp for which
                        this message holds valid
                      type: string
                - type: object
                  properties:
                    action:
                      enum:
                        - update
                  required:
                    - action
            message:
              type: object
              properties:
                update_target:
                  description: >-
                    Comma separated values of order objects being updated. For
                    example: ```"update_target":"item,billing,fulfillment"```
                  type: string
                order:
                  description: Updated order object
                  allOf:
                    - description: >-
                        Describes a legal purchase order. It contains the
                        complete details of the legal contract created between
                        the buyer and the seller.
                      type: object
                      additionalProperties: false
                      properties:
                        id:
                          type: string
                          description: >-
                            Human-readable ID of the order. This is generated at
                            the BPP layer. The BPP can either generate order id
                            within its system or forward the order ID created at
                            the provider level.
                        ref_order_ids:
                          description: >-
                            A list of order IDs to link this order to previous
                            orders.
                          type: array
                          items:
                            type: string
                            description: ID of a previous order
                        status:
                          description: >-
                            Status of the order. Allowed values can be defined
                            by the network policy
                          type: string
                          enum:
                            - ACTIVE
                            - COMPLETE
                            - CANCELLED
                        type:
                          description: >-
                            This is used to indicate the type of order being
                            created to BPPs. Sometimes orders can be linked to
                            previous orders, like a replacement order in a
                            retail domain. A follow-up consultation in
                            healthcare domain. A single order part of a
                            subscription order. The list of order types can be
                            standardized at the network level.
                          type: string
                          default: DEFAULT
                          enum:
                            - DRAFT
                            - DEFAULT
                        provider:
                          description: >-
                            Details of the provider whose catalog items have
                            been selected.
                          allOf:
                            - description: Describes the catalog of a business.
                              type: object
                              properties:
                                id:
                                  type: string
                                  description: Id of the provider
                                descriptor: *ref_294
                                category_id:
                                  type: string
                                  description: >-
                                    Category Id of the provider at the BPP-level
                                    catalog
                                rating: *ref_295
                                time: &ref_298
                                  description: >-
                                    Describes time in its various forms. It can
                                    be a single point in time; duration; or a
                                    structured timetable of operations<br>This
                                    has properties like label, time
                                    stamp,duration,range, days, schedule
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    label:
                                      type: string
                                    timestamp:
                                      type: string
                                      format: date-time
                                    duration: &ref_296
                                      description: Describes duration as per ISO8601 format
                                      type: string
                                    range:
                                      type: object
                                      properties:
                                        start:
                                          type: string
                                          format: date-time
                                        end:
                                          type: string
                                          format: date-time
                                    days:
                                      type: string
                                      description: >-
                                        comma separated values representing days
                                        of the week
                                    schedule:
                                      description: >-
                                        Describes schedule as a repeating time
                                        period used to describe a regularly
                                        recurring event. At a minimum a schedule
                                        will specify frequency which describes
                                        the interval between occurrences of the
                                        event. Additional information can be
                                        provided to specify the schedule more
                                        precisely. This includes identifying the
                                        timestamps(s) of when the event will
                                        take place. Schedules may also have
                                        holidays to exclude a specific day from
                                        the schedule.<br>This has properties
                                        like frequency, holidays, times
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        frequency: *ref_296
                                        holidays:
                                          type: array
                                          items:
                                            type: string
                                            format: date-time
                                        times:
                                          type: array
                                          items:
                                            type: string
                                            format: date-time
                                categories:
                                  type: array
                                  items:
                                    description: >-
                                      A label under which a collection of items
                                      can be grouped.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      id: &ref_297
                                        description: ID of the category
                                        type: string
                                      parent_category_id: *ref_297
                                      descriptor: *ref_294
                                      time: *ref_298
                                      ttl:
                                        description: >-
                                          Time to live for an instance of this
                                          schema
                                      tags:
                                        type: array
                                        items: &ref_303
                                          description: >-
                                            A collection of tag objects with group
                                            level attributes. For detailed
                                            documentation on the Tags and Tag Groups
                                            schema go to
                                            https://github.com/beckn/protocol-specifications/discussions/316
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            display:
                                              description: >-
                                                Indicates the display properties of the
                                                tag group. If display is set to false,
                                                then the group will not be displayed. If
                                                it is set to true, it should be
                                                displayed. However, group-level display
                                                properties can be overriden by
                                                individual tag-level display property.
                                                As this schema is purely for catalog
                                                display purposes, it is not recommended
                                                to send this value during search.
                                              type: boolean
                                              default: true
                                            descriptor:
                                              description: >-
                                                Description of the TagGroup, can be used
                                                to store detailed information.
                                              allOf:
                                                - *ref_294
                                            list:
                                              description: >-
                                                An array of Tag objects listed under
                                                this group. This property can be set by
                                                BAPs during search to narrow the
                                                `search` and achieve more relevant
                                                results. When received during
                                                `on_search`, BAPs must render this list
                                                under the heading described by the
                                                `name` property of this schema.
                                              type: array
                                              items:
                                                description: >-
                                                  Describes a tag. This is used to contain
                                                  extended metadata. This object can be
                                                  added as a property to any schema to
                                                  describe extended attributes. For BAPs,
                                                  tags can be sent during search to
                                                  optimize and filter search results. BPPs
                                                  can use tags to index their catalog to
                                                  allow better search functionality. Tags
                                                  are sent by the BPP as part of the
                                                  catalog response in the `on_search`
                                                  callback. Tags are also meant for
                                                  display purposes. Upon receiving a tag,
                                                  BAPs are meant to render them as
                                                  name-value pairs. This is particularly
                                                  useful when rendering tabular
                                                  information about a product or service.
                                                type: object
                                                additionalProperties: false
                                                properties:
                                                  descriptor:
                                                    description: >-
                                                      Description of the Tag, can be used to
                                                      store detailed information.
                                                    allOf:
                                                      - *ref_294
                                                  value:
                                                    description: >-
                                                      The value of the tag. This set by the
                                                      BPP and rendered as-is by the BAP.
                                                    type: string
                                                  display:
                                                    description: >-
                                                      This value indicates if the tag is
                                                      intended for display purposes. If set to
                                                      `true`, then this tag must be displayed.
                                                      If it is set to `false`, it should not
                                                      be displayed. This value can override
                                                      the group display value.
                                                    type: boolean
                                fulfillments:
                                  type: array
                                  items: &ref_321
                                    description: >-
                                      Describes how a an order will be
                                      rendered/fulfilled to the end-customer
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      id: &ref_312
                                        description: >-
                                          Unique reference ID to the fulfillment
                                          of an order
                                        type: string
                                      type:
                                        description: >-
                                          A code that describes the mode of
                                          fulfillment. This is typically set when
                                          there are multiple ways an order can be
                                          fulfilled. For example, a retail order
                                          can be fulfilled either via store pickup
                                          or a home delivery. Similarly, a medical
                                          consultation can be provided either
                                          in-person or via tele-consultation. The
                                          network policy must publish standard
                                          fulfillment type codes for the different
                                          modes of fulfillment.
                                        type: string
                                      rateable:
                                        description: >-
                                          Whether the fulfillment can be rated or
                                          not
                                        type: boolean
                                      rating:
                                        description: >-
                                          The rating value of the fulfullment
                                          service.
                                        allOf:
                                          - *ref_295
                                      state:
                                        description: >-
                                          The current state of fulfillment. The
                                          BPP must set this value whenever the
                                          state of the order fulfillment changes
                                          and fire an unsolicited `on_status`
                                          call.
                                        allOf:
                                          - &ref_315
                                            description: Describes the state of fulfillment
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              descriptor: *ref_294
                                              updated_at:
                                                type: string
                                                format: date-time
                                              updated_by:
                                                type: string
                                                description: ID of entity which changed the state
                                      tracking:
                                        type: boolean
                                        description: >-
                                          Indicates whether the fulfillment allows
                                          tracking
                                        default: false
                                      customer:
                                        description: >-
                                          The person that will ultimately receive
                                          the order
                                        allOf:
                                          - description: >-
                                              Describes a customer buying/availing a
                                              product or a service
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              organization: &ref_306
                                                description: >-
                                                  An organization. Usually a recognized
                                                  business entity.
                                                type: object
                                                additionalProperties: false
                                                properties:
                                                  descriptor: *ref_294
                                                  address:
                                                    description: The postal address of the organization
                                                    allOf:
                                                      - *ref_299
                                                  state:
                                                    description: >-
                                                      The state where the organization's
                                                      address is registered
                                                    allOf:
                                                      - *ref_300
                                                  city:
                                                    description: >-
                                                      The city where the the organization's
                                                      address is registered
                                                    allOf:
                                                      - *ref_301
                                                  contact: &ref_304
                                                    description: >-
                                                      Describes the contact information of an
                                                      entity
                                                    type: object
                                                    additionalProperties: false
                                                    properties:
                                                      phone:
                                                        type: string
                                                      email:
                                                        type: string
                                                      jcard:
                                                        type: object
                                                        description: >-
                                                          A Jcard object as per
                                                          draft-ietf-jcardcal-jcard-03
                                                          specification
                                              person: &ref_305
                                                description: Describes a person as any individual
                                                type: object
                                                additionalProperties: false
                                                properties:
                                                  id:
                                                    type: string
                                                    description: Describes the identity of the person
                                                  url:
                                                    description: Profile url of the person
                                                    type: string
                                                    format: uri
                                                  name:
                                                    description: the name of the person
                                                    type: string
                                                  image: *ref_302
                                                  age:
                                                    description: Age of the person
                                                    allOf:
                                                      - *ref_296
                                                  dob:
                                                    description: Date of birth of the person
                                                    type: string
                                                    format: date
                                                  gender:
                                                    type: string
                                                    description: >-
                                                      Gender of something, typically a Person,
                                                      but possibly also fictional characters,
                                                      animals, etc. While Male and Female may
                                                      be used, text strings are also
                                                      acceptable for people who do not
                                                      identify as a binary gender.Allowed
                                                      values for this field can be published
                                                      in the network policy
                                                  creds:
                                                    type: array
                                                    items:
                                                      description: >-
                                                        Describes a credential of an entity -
                                                        Person or Organization
                                                      type: object
                                                      additionalProperties: false
                                                      properties:
                                                        id:
                                                          type: string
                                                        type:
                                                          type: string
                                                          default: VerifiableCredential
                                                        url:
                                                          description: URL of the credential
                                                          type: string
                                                          format: uri
                                                  languages:
                                                    type: array
                                                    items:
                                                      description: >-
                                                        Describes a language known to the
                                                        person.
                                                      type: object
                                                      additionalProperties: false
                                                      properties:
                                                        code:
                                                          type: string
                                                        name:
                                                          type: string
                                                  skills:
                                                    type: array
                                                    items:
                                                      description: Describes a skill of the person.
                                                      type: object
                                                      additionalProperties: false
                                                      properties:
                                                        code:
                                                          type: string
                                                        name:
                                                          type: string
                                                  tags:
                                                    type: array
                                                    items: *ref_303
                                              contact: *ref_304
                                      agent:
                                        description: >-
                                          The agent that is currently handling the
                                          fulfillment of the order
                                        allOf:
                                          - description: >-
                                              Describes the direct performer, driver
                                              or executor that fulfills an order. It
                                              is usually a person. But in some rare
                                              cases, it could be a non-living entity
                                              like a drone, or a bot. Some examples of
                                              agents are Doctor in the healthcare
                                              sector, a driver in the mobility sector,
                                              or a delivery person in the logistics
                                              sector. This object can be set at any
                                              stage of the order lifecycle. This can
                                              be set at the discovery stage when the
                                              BPP wants to provide details on the
                                              agent fulfilling the order, like in
                                              healthcare, where the doctor's name
                                              appears during search. This object can
                                              also used to search for a particular
                                              person that the customer wants
                                              fulfilling an order. Sometimes, this
                                              object gets instantiated after the order
                                              is confirmed, like in the case of
                                              on-demand taxis, where the driver is
                                              assigned after the user confirms the
                                              ride.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              person: *ref_305
                                              contact: *ref_304
                                              organization: *ref_306
                                              rating: *ref_295
                                      contact: *ref_304
                                      vehicle:
                                        description: >-
                                          Describes a vehicle is a device that is
                                          designed or used to transport people or
                                          cargo over land, water, air, or through
                                          space.<br>This has properties like
                                          category, capacity, make, model,
                                          size,variant,color,energy_type,registration
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          category:
                                            type: string
                                          capacity:
                                            type: integer
                                          make:
                                            type: string
                                          model:
                                            type: string
                                          size:
                                            type: string
                                          variant:
                                            type: string
                                          color:
                                            type: string
                                          energy_type:
                                            type: string
                                          registration:
                                            type: string
                                          wheels_count:
                                            type: string
                                          cargo_volumne:
                                            type: string
                                          wheelchair_access:
                                            type: string
                                          code:
                                            type: string
                                          emission_standard:
                                            type: string
                                      stops:
                                        description: >-
                                          The list of logical stops encountered
                                          during the fulfillment of an order.
                                        type: array
                                        items:
                                          description: >-
                                            A logical point in space and time during
                                            the fulfillment of an order.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            id:
                                              type: string
                                            parent_stop_id:
                                              type: string
                                            location:
                                              description: Location of the stop
                                              allOf:
                                                - *ref_307
                                            type:
                                              description: >-
                                                The type of stop. Allowed values of this
                                                property can be defined by the network
                                                policy.
                                              type: string
                                            time:
                                              description: Timings applicable at the stop.
                                              allOf:
                                                - *ref_298
                                            instructions:
                                              description: >-
                                                Instructions that need to be followed at
                                                the stop
                                              allOf:
                                                - *ref_294
                                            contact:
                                              description: Contact details of the stop
                                              allOf:
                                                - *ref_304
                                            person:
                                              description: >-
                                                The details of the person present at the
                                                stop
                                              allOf:
                                                - *ref_305
                                            authorization:
                                              description: >-
                                                Describes an authorization mechanism
                                                used to start or end the fulfillment of
                                                an order. For example, in the mobility
                                                sector, the driver may require a
                                                one-time password to initiate the ride.
                                                In the healthcare sector, a patient may
                                                need to provide a password to open a
                                                video conference link during a
                                                teleconsultation.
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                type:
                                                  description: >-
                                                    Type of authorization mechanism used.
                                                    The allowed values for this field can be
                                                    published as part of the network policy.
                                                  type: string
                                                token:
                                                  description: >-
                                                    Token used for authorization. This is
                                                    typically generated at the BPP. The BAP
                                                    can send this value to the user via any
                                                    channel that it uses to authenticate the
                                                    user like SMS, Email, Push notification,
                                                    or in-app rendering.
                                                  type: string
                                                valid_from:
                                                  description: >-
                                                    Timestamp in RFC3339 format from which
                                                    token is valid
                                                  type: string
                                                  format: date-time
                                                valid_to:
                                                  description: >-
                                                    Timestamp in RFC3339 format until which
                                                    token is valid
                                                  type: string
                                                  format: date-time
                                                status:
                                                  description: Status of the token
                                                  type: string
                                      path:
                                        description: >-
                                          The physical path taken by the agent
                                          that can be rendered on a map. The
                                          allowed format of this property can be
                                          set by the network.
                                        type: string
                                      tags:
                                        type: array
                                        items: *ref_303
                                payments:
                                  type: array
                                  items: &ref_326
                                    description: >-
                                      Describes the terms of settlement between
                                      the BAP and the BPP for a single
                                      transaction. When instantiated, this
                                      object contains <ol><li>the amount that
                                      has to be settled,</li><li>The payment
                                      destination destination
                                      details</li><li>When the settlement should
                                      happen, and</li><li>A transaction
                                      reference ID</li></ol>. During a
                                      transaction, the BPP reserves the right to
                                      decide the terms of payment. However, the
                                      BAP can send its terms to the BPP first.
                                      If the BPP does not agree to those terms,
                                      it must overwrite the terms and return
                                      them to the BAP. If overridden, the BAP
                                      must either agree to the terms sent by the
                                      BPP in order to preserve the provider's
                                      autonomy, or abort the transaction. In
                                      case of such disagreements, the BAP and
                                      the BPP can perform offline negotiations
                                      on the payment terms. Once an agreement is
                                      reached, the BAP and BPP can resume
                                      transactions.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      id: &ref_313
                                        description: >-
                                          ID of the payment term that can be
                                          referred at an item or an order level in
                                          a catalog
                                        type: string
                                      collected_by:
                                        description: >-
                                          This field indicates who is the
                                          collector of payment. The BAP can set
                                          this value to 'bap' if it wants to
                                          collect the payment first and  settle it
                                          to the BPP. If the BPP agrees to those
                                          terms, the BPP should not send the
                                          payment url. Alternatively, the BPP can
                                          set this field with the value 'bpp' if
                                          it wants the payment to be made
                                          directly.
                                        type: string
                                      url:
                                        type: string
                                        description: >-
                                          A payment url to be called by the BAP.
                                          If empty, then the payment is to be done
                                          offline. The details of payment should
                                          be present in the params object. If
                                          tl_method = http/get, then the payment
                                          details will be sent as url params. Two
                                          url param values, ```$transaction_id```
                                          and ```$amount``` are mandatory.
                                        format: uri
                                      params:
                                        type: object
                                        properties:
                                          transaction_id:
                                            type: string
                                            description: >-
                                              The reference transaction ID associated
                                              with a payment activity
                                          amount:
                                            type: string
                                          currency:
                                            type: string
                                          bank_code:
                                            type: string
                                          bank_account_number:
                                            type: string
                                          virtual_payment_address:
                                            type: string
                                          source_bank_code:
                                            type: string
                                          source_bank_account_number:
                                            type: string
                                          source_virtual_payment_address:
                                            type: string
                                      type:
                                        type: string
                                        enum:
                                          - PRE-ORDER
                                          - PRE-FULFILLMENT
                                          - ON-FULFILLMENT
                                          - POST-FULFILLMENT
                                          - ON-ORDER
                                      status:
                                        type: string
                                        enum:
                                          - PAID
                                          - NOT-PAID
                                      time: *ref_298
                                      tags:
                                        type: array
                                        items: *ref_303
                                locations:
                                  type: array
                                  items: *ref_307
                                offers:
                                  type: array
                                  items: &ref_320
                                    description: >-
                                      An offer associated with a catalog. This
                                      is typically used to promote a particular
                                      product and enable more purchases.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      id:
                                        type: string
                                      descriptor: *ref_294
                                      location_ids:
                                        type: array
                                        items: *ref_308
                                      category_ids:
                                        type: array
                                        items: *ref_297
                                      item_ids:
                                        type: array
                                        items: &ref_309
                                          description: ID of the item.
                                          type: string
                                      time: *ref_298
                                      tags:
                                        type: array
                                        items: *ref_303
                                items:
                                  type: array
                                  items: &ref_318
                                    description: >-
                                      Describes a product or a service offered
                                      to the end consumer by the provider. In
                                      the mobility sector, it can represent a
                                      fare product like one way journey. In the
                                      logistics sector, it can represent the
                                      delivery service offering. In the retail
                                      domain it can represent a product like a
                                      grocery item.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      id: *ref_309
                                      parent_item_id:
                                        description: >-
                                          ID of the item, this item is a variant
                                          of
                                        allOf:
                                          - *ref_309
                                      parent_item_quantity:
                                        description: >-
                                          The number of units of the parent item
                                          this item is a multiple of
                                        allOf:
                                          - &ref_311
                                            description: Describes the count or amount of an item
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              allocated:
                                                description: >-
                                                  This represents the exact quantity
                                                  allocated for purchase of the item.
                                                type: object
                                                properties:
                                                  count:
                                                    type: integer
                                                    minimum: 0
                                                  measure: *ref_310
                                              available:
                                                description: >-
                                                  This represents the exact quantity
                                                  available for purchase of the item. The
                                                  buyer can only purchase multiples of
                                                  this
                                                type: object
                                                properties:
                                                  count:
                                                    type: integer
                                                    minimum: 0
                                                  measure: *ref_310
                                              maximum:
                                                description: >-
                                                  This represents the maximum quantity
                                                  allowed for purchase of the item
                                                type: object
                                                properties:
                                                  count:
                                                    type: integer
                                                    minimum: 1
                                                  measure: *ref_310
                                              minimum:
                                                description: >-
                                                  This represents the minimum quantity
                                                  allowed for purchase of the item
                                                type: object
                                                properties:
                                                  count:
                                                    type: integer
                                                    minimum: 0
                                                  measure: *ref_310
                                              selected:
                                                description: >-
                                                  This represents the quantity selected
                                                  for purchase of the item
                                                type: object
                                                properties:
                                                  count:
                                                    type: integer
                                                    minimum: 0
                                                  measure: *ref_310
                                              unitized:
                                                description: >-
                                                  This represents the quantity available
                                                  in a single unit of the item
                                                type: object
                                                properties:
                                                  count:
                                                    type: integer
                                                    minimum: 1
                                                    maximum: 1
                                                  measure: *ref_310
                                      descriptor:
                                        description: Physical description of the item
                                        allOf:
                                          - *ref_294
                                      creator:
                                        description: The creator of this item
                                        allOf:
                                          - *ref_306
                                      price:
                                        description: >-
                                          The price of this item, if it has
                                          intrinsic value
                                        allOf:
                                          - &ref_314
                                            description: >-
                                              Describes the price of a product or
                                              service
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              currency:
                                                type: string
                                              value: *ref_291
                                              estimated_value: *ref_291
                                              computed_value: *ref_291
                                              listed_value: *ref_291
                                              offered_value: *ref_291
                                              minimum_value: *ref_291
                                              maximum_value: *ref_291
                                      quantity:
                                        description: The selling quantity of the item
                                        allOf:
                                          - *ref_311
                                      category_ids:
                                        description: Categories this item can be listed under
                                        type: array
                                        items:
                                          allOf:
                                            - *ref_297
                                      fulfillment_ids:
                                        description: >-
                                          Modes through which this item can be
                                          fulfilled
                                        type: array
                                        items:
                                          allOf:
                                            - *ref_312
                                      location_ids:
                                        description: >-
                                          Provider Locations this item is
                                          available in
                                        type: array
                                        items:
                                          allOf:
                                            - *ref_308
                                      payment_ids:
                                        description: >-
                                          Payment modalities through which this
                                          item can be ordered
                                        type: array
                                        items:
                                          allOf:
                                            - *ref_313
                                      add_ons:
                                        type: array
                                        items: &ref_319
                                          description: >-
                                            Describes an additional item offered as
                                            a value-addition to a product or
                                            service. This does not exist
                                            independently in a catalog and is always
                                            associated with an item.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            id:
                                              description: Provider-defined ID of the add-on
                                              type: string
                                            descriptor: *ref_294
                                            price: *ref_314
                                            quantity: *ref_311
                                      cancellation_terms:
                                        description: Cancellation terms of this item
                                        type: array
                                        items: &ref_322
                                          description: >-
                                            Describes the cancellation terms of an
                                            item or an order. This can be referenced
                                            at an item or order level. Item-level
                                            cancellation terms can override the
                                            terms at the order level.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            fulfillment_state:
                                              description: >-
                                                The state of fulfillment during which
                                                this term is applicable.
                                              allOf:
                                                - *ref_315
                                            reason_required:
                                              description: >-
                                                Indicates whether a reason is required
                                                to cancel the order
                                              type: boolean
                                            cancel_by:
                                              description: >-
                                                Information related to the time of
                                                cancellation.
                                              allOf:
                                                - *ref_298
                                            cancellation_fee:
                                              description: A fee applied on a particular entity
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                percentage:
                                                  description: Percentage of a value
                                                  allOf:
                                                    - *ref_291
                                                amount:
                                                  description: A fixed value
                                                  allOf:
                                                    - *ref_314
                                            xinput: &ref_317
                                              description: >-
                                                Contains any additional or extended
                                                inputs required to confirm an order.
                                                This is typically a Form Input.
                                                Sometimes, selection of catalog elements
                                                is not enough for the BPP to confirm an
                                                order. For example, to confirm a flight
                                                ticket, the airline requires details of
                                                the passengers along with information on
                                                baggage, identity, in addition to the
                                                class of ticket. Similarly, a logistics
                                                company may require details on the
                                                nature of shipment in order to confirm
                                                the shipping. A recruiting firm may
                                                require additional details on the
                                                applicant in order to confirm a job
                                                application. For all such purposes, the
                                                BPP can choose to send this object
                                                attached to any object in the catalog
                                                that is required to be sent while
                                                placing the order. This object can
                                                typically be sent at an item level or at
                                                the order level. The item level XInput
                                                will override the Order level XInput as
                                                it indicates a special requirement of
                                                information for that particular item.
                                                Hence the BAP must render a separate
                                                form for the Item and another form at
                                                the Order level before confirmation.
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                head:
                                                  description: >-
                                                    Provides the header information for the
                                                    xinput.
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    descriptor: *ref_294
                                                    index:
                                                      additionalProperties: false
                                                      type: object
                                                      properties:
                                                        min:
                                                          type: integer
                                                        cur:
                                                          type: integer
                                                        max:
                                                          type: integer
                                                    headings:
                                                      type: array
                                                      items:
                                                        type: string
                                                        description: The heading names of the forms
                                                form:
                                                  description: Describes a form
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    id:
                                                      description: The form identifier.
                                                      type: string
                                                    url:
                                                      description: >-
                                                        The URL from where the form can be
                                                        fetched. The content fetched from the
                                                        url must be processed as per the
                                                        mime_type specified in this object. Once
                                                        fetched, the rendering platform can
                                                        choosed to render the form as-is as an
                                                        embeddable element; or process it
                                                        further to blend with the theme of the
                                                        application. In case the interface is
                                                        non-visual, the the render can process
                                                        the form data and reproduce it as per
                                                        the standard specified in the form.
                                                      type: string
                                                      format: uri
                                                    data:
                                                      description: The form submission data
                                                      type: object
                                                      additionalProperties:
                                                        type: string
                                                    mime_type:
                                                      description: >-
                                                        This field indicates the nature and
                                                        format of the form received by querying
                                                        the url. MIME types are defined and
                                                        standardized in IETF's RFC 6838.
                                                      type: string
                                                      enum:
                                                        - text/html
                                                        - application/html
                                                        - application/xml
                                                    resubmit:
                                                      type: boolean
                                                    multiple_sumbissions:
                                                      type: boolean
                                                form_response:
                                                  description: >-
                                                    Describes the response to a form
                                                    submission
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    status:
                                                      description: Contains the status of form submission.
                                                      type: string
                                                    signature:
                                                      type: string
                                                    submission_id:
                                                      type: string
                                                      format: uuid
                                                    errors:
                                                      type: array
                                                      items:
                                                        description: >-
                                                          Describes an error object that is
                                                          returned by a BAP, BPP or BG as a
                                                          response or callback to an action by
                                                          another network participant. This object
                                                          is sent when any request received by a
                                                          network participant is unacceptable.
                                                          This object can be sent either during
                                                          Ack or with the callback.
                                                        type: object
                                                        additionalProperties: false
                                                        properties:
                                                          code:
                                                            type: string
                                                            description: >-
                                                              Standard error code. For full list of
                                                              error codes, refer to
                                                              docs/protocol-drafts/BECKN-005-ERROR-CODES-DRAFT-01.md
                                                              of this repo"
                                                          paths:
                                                            type: string
                                                            description: >-
                                                              Path to json schema generating the
                                                              error. Used only during json schema
                                                              validation errors
                                                          message:
                                                            type: string
                                                            description: >-
                                                              Human readable message describing the
                                                              error. Used mainly for logging. Not
                                                              recommended to be shown to the user.
                                                required:
                                                  description: >-
                                                    Indicates whether the form data is
                                                    mandatorily required by the BPP to
                                                    confirm the order.
                                                  type: boolean
                                            external_ref: *ref_316
                                      refund_terms:
                                        description: Refund terms of this item
                                        type: array
                                        items: &ref_323
                                          description: Refund term of an item or an order
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            fulfillment_state:
                                              description: >-
                                                The state of fulfillment during which
                                                this term is applicable.
                                              allOf:
                                                - *ref_300
                                            refund_eligible:
                                              description: >-
                                                Indicates if cancellation will result in
                                                a refund
                                              type: boolean
                                            refund_within:
                                              description: >-
                                                Time within which refund will be
                                                processed after successful cancellation.
                                              allOf:
                                                - *ref_298
                                            refund_amount: *ref_314
                                      replacement_terms:
                                        description: >-
                                          Terms that are applicable be met when
                                          this item is replaced
                                        type: array
                                        items: &ref_324
                                          description: >-
                                            The replacement policy of an item or an
                                            order
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            fulfillment_state:
                                              description: >-
                                                The state of fulfillment during which
                                                this term is applicable.
                                              allOf:
                                                - *ref_300
                                            replace_within:
                                              description: >-
                                                Applicable only for buyer managed
                                                returns where the buyer has to replace
                                                the item before a certain date-time,
                                                failing which they will not be eligible
                                                for replacement
                                              allOf:
                                                - *ref_298
                                            external_ref: *ref_316
                                      return_terms:
                                        description: >-
                                          Terms that are applicable when this item
                                          is returned
                                        type: array
                                        items: &ref_325
                                          description: >-
                                            Describes the return policy of an item
                                            or an order
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            fulfillment_state:
                                              description: >-
                                                The state of fulfillment during which
                                                this term IETF''s applicable.
                                              allOf:
                                                - *ref_300
                                            return_eligible:
                                              description: >-
                                                Indicates whether the item is eligible
                                                for return
                                              type: boolean
                                            return_time:
                                              description: >-
                                                Applicable only for buyer managed
                                                returns where the buyer has to return
                                                the item to the origin before a certain
                                                date-time, failing which they will not
                                                be eligible for refund.
                                              allOf:
                                                - *ref_298
                                            return_location:
                                              description: >-
                                                The location where the item or order
                                                must / will be returned to
                                              allOf:
                                                - *ref_307
                                            fulfillment_managed_by:
                                              description: The entity that will perform the return
                                              type: string
                                              enum:
                                                - CONSUMER
                                                - PROVIDER
                                      xinput:
                                        description: >-
                                          Additional input required from the
                                          customer to purchase / avail this item
                                        allOf:
                                          - *ref_317
                                      time:
                                        description: >-
                                          Temporal attributes of this item. This
                                          property is used when the item exists on
                                          the catalog only for a limited period of
                                          time.
                                        allOf:
                                          - *ref_298
                                      rateable:
                                        description: Whether this item can be rated
                                        type: boolean
                                      rating:
                                        description: The rating of the item
                                        allOf:
                                          - *ref_295
                                      matched:
                                        description: >-
                                          Whether this item is an exact match of
                                          the request
                                        type: boolean
                                      related:
                                        description: >-
                                          Whether this item is a related item to
                                          the exactly matched item
                                        type: boolean
                                      recommended:
                                        description: >-
                                          Whether this item is a recommended item
                                          to a response
                                        type: boolean
                                      ttl:
                                        description: >-
                                          Time to live in seconds for an instance
                                          of this schema
                                        type: string
                                      tags:
                                        type: array
                                        items: *ref_303
                                exp:
                                  type: string
                                  description: Time after which catalog has to be refreshed
                                  format: date-time
                                rateable:
                                  description: Whether this provider can be rated or not
                                  type: boolean
                                ttl:
                                  description: >-
                                    The time-to-live in seconds, for this
                                    object. This can be overriden at deeper
                                    levels. A value of -1 indicates that this
                                    object is not cacheable.
                                  type: string
                                tags:
                                  type: array
                                  items: *ref_303
                        items:
                          description: The items purchased / availed in this order
                          type: array
                          items: *ref_318
                        add_ons:
                          description: The add-ons purchased / availed in this order
                          type: array
                          items: *ref_319
                        offers:
                          description: The offers applied in this order
                          type: array
                          items: *ref_320
                        billing:
                          description: The billing details of this order
                          allOf:
                            - description: >-
                                Describes the billing details of an
                                entity.<br>This has properties like
                                name,organization,address,email,phone,time,tax_number,
                                created_at,updated_at
                              type: object
                              additionalProperties: false
                              properties:
                                name:
                                  description: Name of the billable entity
                                  type: string
                                organization:
                                  description: Details of the organization being billed.
                                  allOf:
                                    - *ref_306
                                address:
                                  description: The address of the billable entity
                                  allOf:
                                    - *ref_299
                                state:
                                  description: >-
                                    The state where the billable entity resides.
                                    This is important for state-level tax
                                    calculation
                                  allOf:
                                    - *ref_300
                                city:
                                  description: The city where the billable entity resides.
                                  allOf:
                                    - *ref_301
                                email:
                                  description: Email address where the bill is sent to
                                  type: string
                                  format: email
                                phone:
                                  description: Phone number of the billable entity
                                  type: string
                                time:
                                  description: Details regarding the billing period
                                  allOf:
                                    - *ref_298
                                tax_id:
                                  description: >-
                                    ID of the billable entity as recognized by
                                    the taxation authority
                                  type: string
                        fulfillments:
                          description: The fulfillments involved in completing this order
                          type: array
                          items: *ref_321
                        cancellation:
                          description: The cancellation details of this order
                          allOf:
                            - description: Describes a cancellation event
                              type: object
                              additionalProperties: false
                              properties:
                                time:
                                  description: >-
                                    Date-time when the order was cancelled by
                                    the buyer
                                  type: string
                                  format: date-time
                                cancelled_by:
                                  type: string
                                  enum:
                                    - CONSUMER
                                    - PROVIDER
                                reason:
                                  description: The reason for cancellation
                                  allOf:
                                    - description: Describes a selectable option
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                        descriptor: *ref_294
                                additional_description:
                                  description: >-
                                    Any additional information regarding the
                                    nature of cancellation
                                  allOf:
                                    - *ref_294
                        cancellation_terms:
                          description: Cancellation terms of this item
                          type: array
                          items: *ref_322
                        documents:
                          type: array
                          items:
                            description: Documnents associated to the order
                            type: object
                            additionalProperties: false
                            properties:
                              descriptor: *ref_294
                              mime_type:
                                description: >-
                                  This field indicates the nature and format of
                                  the form received by querying the url. MIME
                                  types are defined and standardized in IETF's
                                  RFC 6838.
                                type: string
                                enum:
                                  - text/html
                                  - application/html
                                  - application/xml
                                  - application/pdf
                              url:
                                description: >-
                                  The URL from where the form can be fetched.
                                  The content fetched from the url must be
                                  processed as per the mime_type specified in
                                  this object.
                                type: string
                                format: uri
                        refund_terms:
                          description: Refund terms of this item
                          type: array
                          items: *ref_323
                        replacement_terms:
                          description: Replacement terms of this item
                          type: array
                          items: *ref_324
                        return_terms:
                          description: Return terms of this item
                          type: array
                          items: *ref_325
                        quote:
                          description: The mutually agreed upon quotation for this order.
                          allOf:
                            - description: >-
                                Describes a quote. It is the estimated price of
                                products or services from the BPP.<br>This has
                                properties like price, breakup, ttl
                              type: object
                              additionalProperties: false
                              properties:
                                id:
                                  description: ID of the quote.
                                  type: string
                                price:
                                  description: The total quoted price
                                  allOf:
                                    - *ref_314
                                breakup:
                                  description: the breakup of the total quoted price
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      item: *ref_318
                                      title:
                                        type: string
                                      price: *ref_314
                                ttl: *ref_296
                        payments:
                          description: The terms of settlement for this order
                          type: array
                          items: *ref_326
                        created_at:
                          description: The date-time of creation of this order
                          type: string
                          format: date-time
                        updated_at:
                          description: The date-time of updated of this order
                          type: string
                          format: date-time
                        xinput:
                          description: >-
                            Additional input required from the customer to
                            confirm this order
                          allOf:
                            - *ref_317
                        tags:
                          type: array
                          items: *ref_303
              required:
                - update_target
                - order
          required:
            - context
            - message
        on_update:
          type: object
          properties:
            context:
              allOf:
                - description: >-
                    Every API call in beckn protocol has a context. It provides
                    a high-level overview to the receiver about the nature of
                    the intended transaction. Typically, it is the BAP that sets
                    the transaction context based on the consumer's location and
                    action on their UI. But sometimes, during unsolicited
                    callbacks, the BPP also sets the transaction context but it
                    is usually the same as the context of a previous full-cycle,
                    request-callback interaction between the BAP and the BPP.
                    The context object contains four types of fields.
                    <ol><li>Demographic information about the transaction using
                    fields like `domain`, `country`, and
                    `region`.</li><li>Addressing details like the sending and
                    receiving platform's ID and API
                    URL.</li><li>Interoperability information like the protocol
                    version that implemented by the sender
                    and,</li><li>Transaction details like the method being
                    called at the receiver's endpoint, the transaction_id that
                    represents an end-to-end user session at the BAP, a message
                    ID to pair requests with callbacks, a timestamp to capture
                    sending times, a ttl to specifiy the validity of the
                    request, and a key to encrypt information if
                    necessary.</li></ol> This object must be passed in every
                    interaction between a BAP and a BPP. In HTTP/S
                    implementations, it is not necessary to send the context
                    during the synchronous response. However, in asynchronous
                    protocols, the context must be sent during all interactions,
                  type: object
                  additionalProperties: false
                  properties:
                    domain:
                      description: Domain code that is relevant to this transaction context
                      allOf:
                        - type: string
                          description: >-
                            Standard code representing the domain. The standard
                            is usually published as part of the network policy.
                            Furthermore, the network facilitator should also
                            provide a mechanism to provide the supported domains
                            of a network.
                    location:
                      description: >-
                        The location where the transaction is intended to be
                        fulfilled.
                      allOf:
                        - &ref_344
                          description: The physical location of something
                          type: object
                          additionalProperties: false
                          properties:
                            id: &ref_345
                              type: string
                            descriptor: &ref_331
                              description: Physical description of something.
                              type: object
                              additionalProperties: false
                              properties:
                                name:
                                  type: string
                                code:
                                  type: string
                                short_desc:
                                  type: string
                                long_desc:
                                  type: string
                                additional_desc:
                                  type: object
                                  properties:
                                    url:
                                      type: string
                                    content_type:
                                      type: string
                                      enum:
                                        - text/plain
                                        - text/html
                                        - application/json
                                media:
                                  type: array
                                  items: &ref_353
                                    description: >-
                                      This object contains a url to a media
                                      file.
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      mimetype:
                                        description: >-
                                          indicates the nature and format of the
                                          document, file, or assortment of bytes.
                                          MIME types are defined and standardized
                                          in IETF's RFC 6838
                                        type: string
                                      url:
                                        description: The URL of the file
                                        type: string
                                        format: uri
                                      signature:
                                        description: >-
                                          The digital signature of the file signed
                                          by the sender
                                        type: string
                                      dsa:
                                        description: The signing algorithm used by the sender
                                        type: string
                                images:
                                  type: array
                                  items: &ref_339
                                    description: Describes an image
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      url:
                                        description: >-
                                          URL to the image. This can be a data url
                                          or an remote url
                                        type: string
                                        format: uri
                                      size_type:
                                        description: >-
                                          The size of the image. The network
                                          policy can define the default dimensions
                                          of each type
                                        type: string
                                        enum:
                                          - xs
                                          - sm
                                          - md
                                          - lg
                                          - xl
                                          - custom
                                      width:
                                        description: Width of the image in pixels
                                        type: string
                                      height:
                                        description: Height of the image in pixels
                                        type: string
                            map_url:
                              description: >-
                                The url to the map of the location. This can be
                                a globally recognized map url or the one
                                specified by the network policy.
                              type: string
                              format: uri
                            gps:
                              description: The GPS co-ordinates of this location.
                              allOf:
                                - &ref_327
                                  description: Describes a GPS coordinate
                                  type: string
                                  pattern: >-
                                    ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
                            address:
                              description: The address of this location.
                              allOf:
                                - &ref_336
                                  description: Describes a postal address.
                                  type: string
                            city:
                              description: The city this location is, or is located within
                              allOf:
                                - &ref_338
                                  description: Describes a city
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      description: Name of the city
                                      type: string
                                    code:
                                      description: City code
                                      type: string
                            district:
                              description: The state this location is, or is located within
                              type: string
                            state:
                              description: The state this location is, or is located within
                              allOf:
                                - &ref_337
                                  description: >-
                                    A bounded geopolitical region of governance
                                    inside a country.
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the state
                                    code:
                                      type: string
                                      description: >-
                                        State code as per country or
                                        international standards
                            country:
                              description: >-
                                The country this location is, or is located
                                within
                              allOf:
                                - description: Describes a country
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    name:
                                      type: string
                                      description: Name of the country
                                    code:
                                      type: string
                                      description: >-
                                        Country code as per ISO 3166-1 and ISO
                                        3166-2 format
                            area_code:
                              type: string
                            circle:
                              description: >-
                                Describes a circular region of a specified
                                radius centered at a specified GPS coordinate.
                              type: object
                              additionalProperties: false
                              properties:
                                gps: *ref_327
                                radius: &ref_347
                                  description: Describes a scalar
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - CONSTANT
                                        - VARIABLE
                                    value: &ref_328
                                      description: >-
                                        Describes a numerical value in decimal
                                        form
                                      type: string
                                      pattern: '[+-]?([0-9]*[.])?[0-9]+'
                                    estimated_value: *ref_328
                                    computed_value: *ref_328
                                    range:
                                      type: object
                                      properties:
                                        min: *ref_328
                                        max: *ref_328
                                    unit:
                                      type: string
                            polygon:
                              description: The boundary polygon of this location
                              type: string
                            3dspace:
                              description: >-
                                The three dimensional region describing this
                                location
                              type: string
                            rating:
                              description: The rating of this location
                              allOf:
                                - &ref_332
                                  description: >-
                                    Rating value given to the object. This can
                                    be a single value or can also contain an
                                    inequality operator like gt, gte, lt, lte.
                                    This can also contain an inequality
                                    expression containing logical operators like
                                    && and ||.
                                  type: string
                    action:
                      description: >-
                        The Beckn protocol method being called by the sender and
                        executed at the receiver.
                      type: string
                    version:
                      type: string
                      description: >-
                        Version of transaction protocol being used by the
                        sender.
                    bap_id:
                      description: Subscriber ID of the BAP
                      allOf:
                        - &ref_329
                          description: >-
                            A globally unique identifier of the platform,
                            Typically it is the fully qualified domain name
                            (FQDN) of the platform.
                          type: string
                    bap_uri:
                      description: >-
                        Subscriber URL of the BAP for accepting callbacks from
                        BPPs.
                      allOf:
                        - &ref_330
                          description: >-
                            The callback URL of the Subscriber. This should
                            necessarily contain the same domain name as set in
                            `subscriber_id``.
                          type: string
                          format: uri
                    bpp_id:
                      description: Subscriber ID of the BPP
                      allOf:
                        - *ref_329
                    bpp_uri:
                      description: Subscriber URL of the BPP for accepting calls from BAPs.
                      allOf:
                        - *ref_330
                    transaction_id:
                      description: >-
                        This is a unique value which persists across all API
                        calls from `search` through `confirm`. This is done to
                        indicate an active user session across multiple
                        requests. The BPPs can use this value to push
                        personalized recommendations, and dynamic offerings
                        related to an ongoing transaction despite being unaware
                        of the user active on the BAP.
                      type: string
                      format: uuid
                    message_id:
                      description: >-
                        This is a unique value which persists during a request /
                        callback cycle. Since beckn protocol APIs are
                        asynchronous, BAPs need a common value to match an
                        incoming callback from a BPP to an earlier call. This
                        value can also be used to ignore duplicate messages
                        coming from the BPP. It is recommended to generate a
                        fresh message_id for every new interaction. When sending
                        unsolicited callbacks, BPPs must generate a new
                        message_id.
                      type: string
                      format: uuid
                    timestamp:
                      description: Time of request generation in RFC3339 format
                      type: string
                      format: date-time
                    key:
                      description: The encryption public key of the sender
                      type: string
                    ttl:
                      description: >-
                        The duration in ISO8601 format after timestamp for which
                        this message holds valid
                      type: string
                - type: object
                  properties:
                    action:
                      enum:
                        - on_update
                  required:
                    - action
            message:
              type: object
              properties:
                order:
                  description: >-
                    Describes a legal purchase order. It contains the complete
                    details of the legal contract created between the buyer and
                    the seller.
                  type: object
                  additionalProperties: false
                  properties:
                    id:
                      type: string
                      description: >-
                        Human-readable ID of the order. This is generated at the
                        BPP layer. The BPP can either generate order id within
                        its system or forward the order ID created at the
                        provider level.
                    ref_order_ids:
                      description: >-
                        A list of order IDs to link this order to previous
                        orders.
                      type: array
                      items:
                        type: string
                        description: ID of a previous order
                    status:
                      description: >-
                        Status of the order. Allowed values can be defined by
                        the network policy
                      type: string
                      enum:
                        - ACTIVE
                        - COMPLETE
                        - CANCELLED
                    type:
                      description: >-
                        This is used to indicate the type of order being created
                        to BPPs. Sometimes orders can be linked to previous
                        orders, like a replacement order in a retail domain. A
                        follow-up consultation in healthcare domain. A single
                        order part of a subscription order. The list of order
                        types can be standardized at the network level.
                      type: string
                      default: DEFAULT
                      enum:
                        - DRAFT
                        - DEFAULT
                    provider:
                      description: >-
                        Details of the provider whose catalog items have been
                        selected.
                      allOf:
                        - description: Describes the catalog of a business.
                          type: object
                          properties:
                            id:
                              type: string
                              description: Id of the provider
                            descriptor: *ref_331
                            category_id:
                              type: string
                              description: >-
                                Category Id of the provider at the BPP-level
                                catalog
                            rating: *ref_332
                            time: &ref_335
                              description: >-
                                Describes time in its various forms. It can be a
                                single point in time; duration; or a structured
                                timetable of operations<br>This has properties
                                like label, time stamp,duration,range, days,
                                schedule
                              type: object
                              additionalProperties: false
                              properties:
                                label:
                                  type: string
                                timestamp:
                                  type: string
                                  format: date-time
                                duration: &ref_333
                                  description: Describes duration as per ISO8601 format
                                  type: string
                                range:
                                  type: object
                                  properties:
                                    start:
                                      type: string
                                      format: date-time
                                    end:
                                      type: string
                                      format: date-time
                                days:
                                  type: string
                                  description: >-
                                    comma separated values representing days of
                                    the week
                                schedule:
                                  description: >-
                                    Describes schedule as a repeating time
                                    period used to describe a regularly
                                    recurring event. At a minimum a schedule
                                    will specify frequency which describes the
                                    interval between occurrences of the event.
                                    Additional information can be provided to
                                    specify the schedule more precisely. This
                                    includes identifying the timestamps(s) of
                                    when the event will take place. Schedules
                                    may also have holidays to exclude a specific
                                    day from the schedule.<br>This has
                                    properties like frequency, holidays, times
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    frequency: *ref_333
                                    holidays:
                                      type: array
                                      items:
                                        type: string
                                        format: date-time
                                    times:
                                      type: array
                                      items:
                                        type: string
                                        format: date-time
                            categories:
                              type: array
                              items:
                                description: >-
                                  A label under which a collection of items can
                                  be grouped.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_334
                                    description: ID of the category
                                    type: string
                                  parent_category_id: *ref_334
                                  descriptor: *ref_331
                                  time: *ref_335
                                  ttl:
                                    description: >-
                                      Time to live for an instance of this
                                      schema
                                  tags:
                                    type: array
                                    items: &ref_340
                                      description: >-
                                        A collection of tag objects with group
                                        level attributes. For detailed
                                        documentation on the Tags and Tag Groups
                                        schema go to
                                        https://github.com/beckn/protocol-specifications/discussions/316
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        display:
                                          description: >-
                                            Indicates the display properties of the
                                            tag group. If display is set to false,
                                            then the group will not be displayed. If
                                            it is set to true, it should be
                                            displayed. However, group-level display
                                            properties can be overriden by
                                            individual tag-level display property.
                                            As this schema is purely for catalog
                                            display purposes, it is not recommended
                                            to send this value during search.
                                          type: boolean
                                          default: true
                                        descriptor:
                                          description: >-
                                            Description of the TagGroup, can be used
                                            to store detailed information.
                                          allOf:
                                            - *ref_331
                                        list:
                                          description: >-
                                            An array of Tag objects listed under
                                            this group. This property can be set by
                                            BAPs during search to narrow the
                                            `search` and achieve more relevant
                                            results. When received during
                                            `on_search`, BAPs must render this list
                                            under the heading described by the
                                            `name` property of this schema.
                                          type: array
                                          items:
                                            description: >-
                                              Describes a tag. This is used to contain
                                              extended metadata. This object can be
                                              added as a property to any schema to
                                              describe extended attributes. For BAPs,
                                              tags can be sent during search to
                                              optimize and filter search results. BPPs
                                              can use tags to index their catalog to
                                              allow better search functionality. Tags
                                              are sent by the BPP as part of the
                                              catalog response in the `on_search`
                                              callback. Tags are also meant for
                                              display purposes. Upon receiving a tag,
                                              BAPs are meant to render them as
                                              name-value pairs. This is particularly
                                              useful when rendering tabular
                                              information about a product or service.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              descriptor:
                                                description: >-
                                                  Description of the Tag, can be used to
                                                  store detailed information.
                                                allOf:
                                                  - *ref_331
                                              value:
                                                description: >-
                                                  The value of the tag. This set by the
                                                  BPP and rendered as-is by the BAP.
                                                type: string
                                              display:
                                                description: >-
                                                  This value indicates if the tag is
                                                  intended for display purposes. If set to
                                                  `true`, then this tag must be displayed.
                                                  If it is set to `false`, it should not
                                                  be displayed. This value can override
                                                  the group display value.
                                                type: boolean
                            fulfillments:
                              type: array
                              items: &ref_358
                                description: >-
                                  Describes how a an order will be
                                  rendered/fulfilled to the end-customer
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_349
                                    description: >-
                                      Unique reference ID to the fulfillment of
                                      an order
                                    type: string
                                  type:
                                    description: >-
                                      A code that describes the mode of
                                      fulfillment. This is typically set when
                                      there are multiple ways an order can be
                                      fulfilled. For example, a retail order can
                                      be fulfilled either via store pickup or a
                                      home delivery. Similarly, a medical
                                      consultation can be provided either
                                      in-person or via tele-consultation. The
                                      network policy must publish standard
                                      fulfillment type codes for the different
                                      modes of fulfillment.
                                    type: string
                                  rateable:
                                    description: >-
                                      Whether the fulfillment can be rated or
                                      not
                                    type: boolean
                                  rating:
                                    description: >-
                                      The rating value of the fulfullment
                                      service.
                                    allOf:
                                      - *ref_332
                                  state:
                                    description: >-
                                      The current state of fulfillment. The BPP
                                      must set this value whenever the state of
                                      the order fulfillment changes and fire an
                                      unsolicited `on_status` call.
                                    allOf:
                                      - &ref_352
                                        description: Describes the state of fulfillment
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          descriptor: *ref_331
                                          updated_at:
                                            type: string
                                            format: date-time
                                          updated_by:
                                            type: string
                                            description: ID of entity which changed the state
                                  tracking:
                                    type: boolean
                                    description: >-
                                      Indicates whether the fulfillment allows
                                      tracking
                                    default: false
                                  customer:
                                    description: >-
                                      The person that will ultimately receive
                                      the order
                                    allOf:
                                      - description: >-
                                          Describes a customer buying/availing a
                                          product or a service
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          organization: &ref_343
                                            description: >-
                                              An organization. Usually a recognized
                                              business entity.
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              descriptor: *ref_331
                                              address:
                                                description: The postal address of the organization
                                                allOf:
                                                  - *ref_336
                                              state:
                                                description: >-
                                                  The state where the organization's
                                                  address is registered
                                                allOf:
                                                  - *ref_337
                                              city:
                                                description: >-
                                                  The city where the the organization's
                                                  address is registered
                                                allOf:
                                                  - *ref_338
                                              contact: &ref_341
                                                description: >-
                                                  Describes the contact information of an
                                                  entity
                                                type: object
                                                additionalProperties: false
                                                properties:
                                                  phone:
                                                    type: string
                                                  email:
                                                    type: string
                                                  jcard:
                                                    type: object
                                                    description: >-
                                                      A Jcard object as per
                                                      draft-ietf-jcardcal-jcard-03
                                                      specification
                                          person: &ref_342
                                            description: Describes a person as any individual
                                            type: object
                                            additionalProperties: false
                                            properties:
                                              id:
                                                type: string
                                                description: Describes the identity of the person
                                              url:
                                                description: Profile url of the person
                                                type: string
                                                format: uri
                                              name:
                                                description: the name of the person
                                                type: string
                                              image: *ref_339
                                              age:
                                                description: Age of the person
                                                allOf:
                                                  - *ref_333
                                              dob:
                                                description: Date of birth of the person
                                                type: string
                                                format: date
                                              gender:
                                                type: string
                                                description: >-
                                                  Gender of something, typically a Person,
                                                  but possibly also fictional characters,
                                                  animals, etc. While Male and Female may
                                                  be used, text strings are also
                                                  acceptable for people who do not
                                                  identify as a binary gender.Allowed
                                                  values for this field can be published
                                                  in the network policy
                                              creds:
                                                type: array
                                                items:
                                                  description: >-
                                                    Describes a credential of an entity -
                                                    Person or Organization
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    id:
                                                      type: string
                                                    type:
                                                      type: string
                                                      default: VerifiableCredential
                                                    url:
                                                      description: URL of the credential
                                                      type: string
                                                      format: uri
                                              languages:
                                                type: array
                                                items:
                                                  description: >-
                                                    Describes a language known to the
                                                    person.
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    code:
                                                      type: string
                                                    name:
                                                      type: string
                                              skills:
                                                type: array
                                                items:
                                                  description: Describes a skill of the person.
                                                  type: object
                                                  additionalProperties: false
                                                  properties:
                                                    code:
                                                      type: string
                                                    name:
                                                      type: string
                                              tags:
                                                type: array
                                                items: *ref_340
                                          contact: *ref_341
                                  agent:
                                    description: >-
                                      The agent that is currently handling the
                                      fulfillment of the order
                                    allOf:
                                      - description: >-
                                          Describes the direct performer, driver
                                          or executor that fulfills an order. It
                                          is usually a person. But in some rare
                                          cases, it could be a non-living entity
                                          like a drone, or a bot. Some examples of
                                          agents are Doctor in the healthcare
                                          sector, a driver in the mobility sector,
                                          or a delivery person in the logistics
                                          sector. This object can be set at any
                                          stage of the order lifecycle. This can
                                          be set at the discovery stage when the
                                          BPP wants to provide details on the
                                          agent fulfilling the order, like in
                                          healthcare, where the doctor's name
                                          appears during search. This object can
                                          also used to search for a particular
                                          person that the customer wants
                                          fulfilling an order. Sometimes, this
                                          object gets instantiated after the order
                                          is confirmed, like in the case of
                                          on-demand taxis, where the driver is
                                          assigned after the user confirms the
                                          ride.
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          person: *ref_342
                                          contact: *ref_341
                                          organization: *ref_343
                                          rating: *ref_332
                                  contact: *ref_341
                                  vehicle:
                                    description: >-
                                      Describes a vehicle is a device that is
                                      designed or used to transport people or
                                      cargo over land, water, air, or through
                                      space.<br>This has properties like
                                      category, capacity, make, model,
                                      size,variant,color,energy_type,registration
                                    type: object
                                    additionalProperties: false
                                    properties:
                                      category:
                                        type: string
                                      capacity:
                                        type: integer
                                      make:
                                        type: string
                                      model:
                                        type: string
                                      size:
                                        type: string
                                      variant:
                                        type: string
                                      color:
                                        type: string
                                      energy_type:
                                        type: string
                                      registration:
                                        type: string
                                      wheels_count:
                                        type: string
                                      cargo_volumne:
                                        type: string
                                      wheelchair_access:
                                        type: string
                                      code:
                                        type: string
                                      emission_standard:
                                        type: string
                                  stops:
                                    description: >-
                                      The list of logical stops encountered
                                      during the fulfillment of an order.
                                    type: array
                                    items:
                                      description: >-
                                        A logical point in space and time during
                                        the fulfillment of an order.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          type: string
                                        parent_stop_id:
                                          type: string
                                        location:
                                          description: Location of the stop
                                          allOf:
                                            - *ref_344
                                        type:
                                          description: >-
                                            The type of stop. Allowed values of this
                                            property can be defined by the network
                                            policy.
                                          type: string
                                        time:
                                          description: Timings applicable at the stop.
                                          allOf:
                                            - *ref_335
                                        instructions:
                                          description: >-
                                            Instructions that need to be followed at
                                            the stop
                                          allOf:
                                            - *ref_331
                                        contact:
                                          description: Contact details of the stop
                                          allOf:
                                            - *ref_341
                                        person:
                                          description: >-
                                            The details of the person present at the
                                            stop
                                          allOf:
                                            - *ref_342
                                        authorization:
                                          description: >-
                                            Describes an authorization mechanism
                                            used to start or end the fulfillment of
                                            an order. For example, in the mobility
                                            sector, the driver may require a
                                            one-time password to initiate the ride.
                                            In the healthcare sector, a patient may
                                            need to provide a password to open a
                                            video conference link during a
                                            teleconsultation.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            type:
                                              description: >-
                                                Type of authorization mechanism used.
                                                The allowed values for this field can be
                                                published as part of the network policy.
                                              type: string
                                            token:
                                              description: >-
                                                Token used for authorization. This is
                                                typically generated at the BPP. The BAP
                                                can send this value to the user via any
                                                channel that it uses to authenticate the
                                                user like SMS, Email, Push notification,
                                                or in-app rendering.
                                              type: string
                                            valid_from:
                                              description: >-
                                                Timestamp in RFC3339 format from which
                                                token is valid
                                              type: string
                                              format: date-time
                                            valid_to:
                                              description: >-
                                                Timestamp in RFC3339 format until which
                                                token is valid
                                              type: string
                                              format: date-time
                                            status:
                                              description: Status of the token
                                              type: string
                                  path:
                                    description: >-
                                      The physical path taken by the agent that
                                      can be rendered on a map. The allowed
                                      format of this property can be set by the
                                      network.
                                    type: string
                                  tags:
                                    type: array
                                    items: *ref_340
                            payments:
                              type: array
                              items: &ref_363
                                description: >-
                                  Describes the terms of settlement between the
                                  BAP and the BPP for a single transaction. When
                                  instantiated, this object contains <ol><li>the
                                  amount that has to be settled,</li><li>The
                                  payment destination destination
                                  details</li><li>When the settlement should
                                  happen, and</li><li>A transaction reference
                                  ID</li></ol>. During a transaction, the BPP
                                  reserves the right to decide the terms of
                                  payment. However, the BAP can send its terms
                                  to the BPP first. If the BPP does not agree to
                                  those terms, it must overwrite the terms and
                                  return them to the BAP. If overridden, the BAP
                                  must either agree to the terms sent by the BPP
                                  in order to preserve the provider's autonomy,
                                  or abort the transaction. In case of such
                                  disagreements, the BAP and the BPP can perform
                                  offline negotiations on the payment terms.
                                  Once an agreement is reached, the BAP and BPP
                                  can resume transactions.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: &ref_350
                                    description: >-
                                      ID of the payment term that can be
                                      referred at an item or an order level in a
                                      catalog
                                    type: string
                                  collected_by:
                                    description: >-
                                      This field indicates who is the collector
                                      of payment. The BAP can set this value to
                                      'bap' if it wants to collect the payment
                                      first and  settle it to the BPP. If the
                                      BPP agrees to those terms, the BPP should
                                      not send the payment url. Alternatively,
                                      the BPP can set this field with the value
                                      'bpp' if it wants the payment to be made
                                      directly.
                                    type: string
                                  url:
                                    type: string
                                    description: >-
                                      A payment url to be called by the BAP. If
                                      empty, then the payment is to be done
                                      offline. The details of payment should be
                                      present in the params object. If tl_method
                                      = http/get, then the payment details will
                                      be sent as url params. Two url param
                                      values, ```$transaction_id``` and
                                      ```$amount``` are mandatory.
                                    format: uri
                                  params:
                                    type: object
                                    properties:
                                      transaction_id:
                                        type: string
                                        description: >-
                                          The reference transaction ID associated
                                          with a payment activity
                                      amount:
                                        type: string
                                      currency:
                                        type: string
                                      bank_code:
                                        type: string
                                      bank_account_number:
                                        type: string
                                      virtual_payment_address:
                                        type: string
                                      source_bank_code:
                                        type: string
                                      source_bank_account_number:
                                        type: string
                                      source_virtual_payment_address:
                                        type: string
                                  type:
                                    type: string
                                    enum:
                                      - PRE-ORDER
                                      - PRE-FULFILLMENT
                                      - ON-FULFILLMENT
                                      - POST-FULFILLMENT
                                      - ON-ORDER
                                      - PRE_ORDER
                                      - PRE_FULFILLMENT
                                      - ON_FULFILLMENT
                                      - POST_FULFILLMENT
                                      - ON_ORDER
                                  status:
                                    type: string
                                    enum:
                                      - PAID
                                      - NOT-PAID
                                      - DELAYED
                                  time: *ref_335
                                  tags:
                                    type: array
                                    items: *ref_340
                            locations:
                              type: array
                              items: *ref_344
                            offers:
                              type: array
                              items: &ref_357
                                description: >-
                                  An offer associated with a catalog. This is
                                  typically used to promote a particular product
                                  and enable more purchases.
                                type: object
                                additionalProperties: false
                                properties:
                                  id:
                                    type: string
                                  descriptor: *ref_331
                                  location_ids:
                                    type: array
                                    items: *ref_345
                                  category_ids:
                                    type: array
                                    items: *ref_334
                                  item_ids:
                                    type: array
                                    items: &ref_346
                                      description: ID of the item.
                                      type: string
                                  time: *ref_335
                                  tags:
                                    type: array
                                    items: *ref_340
                            items:
                              type: array
                              items: &ref_355
                                description: >-
                                  Describes a product or a service offered to
                                  the end consumer by the provider. In the
                                  mobility sector, it can represent a fare
                                  product like one way journey. In the logistics
                                  sector, it can represent the delivery service
                                  offering. In the retail domain it can
                                  represent a product like a grocery item.
                                type: object
                                additionalProperties: false
                                properties:
                                  id: *ref_346
                                  parent_item_id:
                                    description: ID of the item, this item is a variant of
                                    allOf:
                                      - *ref_346
                                  parent_item_quantity:
                                    description: >-
                                      The number of units of the parent item
                                      this item is a multiple of
                                    allOf:
                                      - &ref_348
                                        description: Describes the count or amount of an item
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          allocated:
                                            description: >-
                                              This represents the exact quantity
                                              allocated for purchase of the item.
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_347
                                          available:
                                            description: >-
                                              This represents the exact quantity
                                              available for purchase of the item. The
                                              buyer can only purchase multiples of
                                              this
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_347
                                          maximum:
                                            description: >-
                                              This represents the maximum quantity
                                              allowed for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 1
                                              measure: *ref_347
                                          minimum:
                                            description: >-
                                              This represents the minimum quantity
                                              allowed for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_347
                                          selected:
                                            description: >-
                                              This represents the quantity selected
                                              for purchase of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 0
                                              measure: *ref_347
                                          unitized:
                                            description: >-
                                              This represents the quantity available
                                              in a single unit of the item
                                            type: object
                                            properties:
                                              count:
                                                type: integer
                                                minimum: 1
                                                maximum: 1
                                              measure: *ref_347
                                  descriptor:
                                    description: Physical description of the item
                                    allOf:
                                      - *ref_331
                                  creator:
                                    description: The creator of this item
                                    allOf:
                                      - *ref_343
                                  price:
                                    description: >-
                                      The price of this item, if it has
                                      intrinsic value
                                    allOf:
                                      - &ref_351
                                        description: >-
                                          Describes the price of a product or
                                          service
                                        type: object
                                        additionalProperties: false
                                        properties:
                                          currency:
                                            type: string
                                          value: *ref_328
                                          estimated_value: *ref_328
                                          computed_value: *ref_328
                                          listed_value: *ref_328
                                          offered_value: *ref_328
                                          minimum_value: *ref_328
                                          maximum_value: *ref_328
                                  quantity:
                                    description: The selling quantity of the item
                                    allOf:
                                      - *ref_348
                                  category_ids:
                                    description: Categories this item can be listed under
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_334
                                  fulfillment_ids:
                                    description: >-
                                      Modes through which this item can be
                                      fulfilled
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_349
                                  location_ids:
                                    description: >-
                                      Provider Locations this item is available
                                      in
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_345
                                  payment_ids:
                                    description: >-
                                      Payment modalities through which this item
                                      can be ordered
                                    type: array
                                    items:
                                      allOf:
                                        - *ref_350
                                  add_ons:
                                    type: array
                                    items: &ref_356
                                      description: >-
                                        Describes an additional item offered as
                                        a value-addition to a product or
                                        service. This does not exist
                                        independently in a catalog and is always
                                        associated with an item.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        id:
                                          description: Provider-defined ID of the add-on
                                          type: string
                                        descriptor: *ref_331
                                        price: *ref_351
                                        quantity: *ref_348
                                  cancellation_terms:
                                    description: Cancellation terms of this item
                                    type: array
                                    items: &ref_359
                                      description: >-
                                        Describes the cancellation terms of an
                                        item or an order. This can be referenced
                                        at an item or order level. Item-level
                                        cancellation terms can override the
                                        terms at the order level.
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_352
                                        reason_required:
                                          description: >-
                                            Indicates whether a reason is required
                                            to cancel the order
                                          type: boolean
                                        cancel_by:
                                          description: >-
                                            Information related to the time of
                                            cancellation.
                                          allOf:
                                            - *ref_335
                                        cancellation_fee:
                                          description: A fee applied on a particular entity
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            percentage:
                                              description: Percentage of a value
                                              allOf:
                                                - *ref_328
                                            amount:
                                              description: A fixed value
                                              allOf:
                                                - *ref_351
                                        xinput: &ref_354
                                          description: >-
                                            Contains any additional or extended
                                            inputs required to confirm an order.
                                            This is typically a Form Input.
                                            Sometimes, selection of catalog elements
                                            is not enough for the BPP to confirm an
                                            order. For example, to confirm a flight
                                            ticket, the airline requires details of
                                            the passengers along with information on
                                            baggage, identity, in addition to the
                                            class of ticket. Similarly, a logistics
                                            company may require details on the
                                            nature of shipment in order to confirm
                                            the shipping. A recruiting firm may
                                            require additional details on the
                                            applicant in order to confirm a job
                                            application. For all such purposes, the
                                            BPP can choose to send this object
                                            attached to any object in the catalog
                                            that is required to be sent while
                                            placing the order. This object can
                                            typically be sent at an item level or at
                                            the order level. The item level XInput
                                            will override the Order level XInput as
                                            it indicates a special requirement of
                                            information for that particular item.
                                            Hence the BAP must render a separate
                                            form for the Item and another form at
                                            the Order level before confirmation.
                                          type: object
                                          additionalProperties: false
                                          properties:
                                            head:
                                              description: >-
                                                Provides the header information for the
                                                xinput.
                                              additionalProperties: false
                                              type: object
                                              properties:
                                                descriptor: *ref_331
                                                index:
                                                  additionalProperties: false
                                                  type: object
                                                  properties:
                                                    min:
                                                      type: integer
                                                    cur:
                                                      type: integer
                                                    max:
                                                      type: integer
                                                headings:
                                                  type: array
                                                  items:
                                                    type: string
                                                    description: The heading names of the forms
                                            form:
                                              description: Describes a form
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                id:
                                                  description: The form identifier.
                                                  type: string
                                                url:
                                                  description: >-
                                                    The URL from where the form can be
                                                    fetched. The content fetched from the
                                                    url must be processed as per the
                                                    mime_type specified in this object. Once
                                                    fetched, the rendering platform can
                                                    choosed to render the form as-is as an
                                                    embeddable element; or process it
                                                    further to blend with the theme of the
                                                    application. In case the interface is
                                                    non-visual, the the render can process
                                                    the form data and reproduce it as per
                                                    the standard specified in the form.
                                                  type: string
                                                  format: uri
                                                data:
                                                  description: The form submission data
                                                  type: object
                                                  additionalProperties:
                                                    type: string
                                                mime_type:
                                                  description: >-
                                                    This field indicates the nature and
                                                    format of the form received by querying
                                                    the url. MIME types are defined and
                                                    standardized in IETF's RFC 6838.
                                                  type: string
                                                  enum:
                                                    - text/html
                                                    - application/html
                                                    - application/xml
                                                resubmit:
                                                  type: boolean
                                                multiple_sumbissions:
                                                  type: boolean
                                            form_response:
                                              description: >-
                                                Describes the response to a form
                                                submission
                                              type: object
                                              additionalProperties: false
                                              properties:
                                                status:
                                                  description: Contains the status of form submission.
                                                  type: string
                                                signature:
                                                  type: string
                                                submission_id:
                                                  type: string
                                                  format: uuid
                                                errors:
                                                  type: array
                                                  items: &ref_364
                                                    description: >-
                                                      Describes an error object that is
                                                      returned by a BAP, BPP or BG as a
                                                      response or callback to an action by
                                                      another network participant. This object
                                                      is sent when any request received by a
                                                      network participant is unacceptable.
                                                      This object can be sent either during
                                                      Ack or with the callback.
                                                    type: object
                                                    additionalProperties: false
                                                    properties:
                                                      code:
                                                        type: string
                                                        description: >-
                                                          Standard error code. For full list of
                                                          error codes, refer to
                                                          docs/protocol-drafts/BECKN-005-ERROR-CODES-DRAFT-01.md
                                                          of this repo"
                                                      paths:
                                                        type: string
                                                        description: >-
                                                          Path to json schema generating the
                                                          error. Used only during json schema
                                                          validation errors
                                                      message:
                                                        type: string
                                                        description: >-
                                                          Human readable message describing the
                                                          error. Used mainly for logging. Not
                                                          recommended to be shown to the user.
                                            required:
                                              description: >-
                                                Indicates whether the form data is
                                                mandatorily required by the BPP to
                                                confirm the order.
                                              type: boolean
                                        external_ref: *ref_353
                                  refund_terms:
                                    description: Refund terms of this item
                                    type: array
                                    items: &ref_360
                                      description: Refund term of an item or an order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_337
                                        refund_eligible:
                                          description: >-
                                            Indicates if cancellation will result in
                                            a refund
                                          type: boolean
                                        refund_within:
                                          description: >-
                                            Time within which refund will be
                                            processed after successful cancellation.
                                          allOf:
                                            - *ref_335
                                        refund_amount: *ref_351
                                  replacement_terms:
                                    description: >-
                                      Terms that are applicable be met when this
                                      item is replaced
                                    type: array
                                    items: &ref_361
                                      description: >-
                                        The replacement policy of an item or an
                                        order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term is applicable.
                                          allOf:
                                            - *ref_337
                                        replace_within:
                                          description: >-
                                            Applicable only for buyer managed
                                            returns where the buyer has to replace
                                            the item before a certain date-time,
                                            failing which they will not be eligible
                                            for replacement
                                          allOf:
                                            - *ref_335
                                        external_ref: *ref_353
                                  return_terms:
                                    description: >-
                                      Terms that are applicable when this item
                                      is returned
                                    type: array
                                    items: &ref_362
                                      description: >-
                                        Describes the return policy of an item
                                        or an order
                                      type: object
                                      additionalProperties: false
                                      properties:
                                        fulfillment_state:
                                          description: >-
                                            The state of fulfillment during which
                                            this term IETF''s applicable.
                                          allOf:
                                            - *ref_337
                                        return_eligible:
                                          description: >-
                                            Indicates whether the item is eligible
                                            for return
                                          type: boolean
                                        return_time:
                                          description: >-
                                            Applicable only for buyer managed
                                            returns where the buyer has to return
                                            the item to the origin before a certain
                                            date-time, failing which they will not
                                            be eligible for refund.
                                          allOf:
                                            - *ref_335
                                        return_location:
                                          description: >-
                                            The location where the item or order
                                            must / will be returned to
                                          allOf:
                                            - *ref_344
                                        fulfillment_managed_by:
                                          description: The entity that will perform the return
                                          type: string
                                          enum:
                                            - CONSUMER
                                            - PROVIDER
                                  xinput:
                                    description: >-
                                      Additional input required from the
                                      customer to purchase / avail this item
                                    allOf:
                                      - *ref_354
                                  time:
                                    description: >-
                                      Temporal attributes of this item. This
                                      property is used when the item exists on
                                      the catalog only for a limited period of
                                      time.
                                    allOf:
                                      - *ref_335
                                  rateable:
                                    description: Whether this item can be rated
                                    type: boolean
                                  rating:
                                    description: The rating of the item
                                    allOf:
                                      - *ref_332
                                  matched:
                                    description: >-
                                      Whether this item is an exact match of the
                                      request
                                    type: boolean
                                  related:
                                    description: >-
                                      Whether this item is a related item to the
                                      exactly matched item
                                    type: boolean
                                  recommended:
                                    description: >-
                                      Whether this item is a recommended item to
                                      a response
                                    type: boolean
                                  ttl:
                                    description: >-
                                      Time to live in seconds for an instance of
                                      this schema
                                    type: string
                                  tags:
                                    type: array
                                    items: *ref_340
                            exp:
                              type: string
                              description: Time after which catalog has to be refreshed
                              format: date-time
                            rateable:
                              description: Whether this provider can be rated or not
                              type: boolean
                            ttl:
                              description: >-
                                The time-to-live in seconds, for this object.
                                This can be overriden at deeper levels. A value
                                of -1 indicates that this object is not
                                cacheable.
                              type: string
                            tags:
                              type: array
                              items: *ref_340
                    items:
                      description: The items purchased / availed in this order
                      type: array
                      items: *ref_355
                    add_ons:
                      description: The add-ons purchased / availed in this order
                      type: array
                      items: *ref_356
                    offers:
                      description: The offers applied in this order
                      type: array
                      items: *ref_357
                    billing:
                      description: The billing details of this order
                      allOf:
                        - description: >-
                            Describes the billing details of an entity.<br>This
                            has properties like
                            name,organization,address,email,phone,time,tax_number,
                            created_at,updated_at
                          type: object
                          additionalProperties: false
                          properties:
                            name:
                              description: Name of the billable entity
                              type: string
                            organization:
                              description: Details of the organization being billed.
                              allOf:
                                - *ref_343
                            address:
                              description: The address of the billable entity
                              allOf:
                                - *ref_336
                            state:
                              description: >-
                                The state where the billable entity resides.
                                This is important for state-level tax
                                calculation
                              allOf:
                                - *ref_337
                            city:
                              description: The city where the billable entity resides.
                              allOf:
                                - *ref_338
                            email:
                              description: Email address where the bill is sent to
                              type: string
                              format: email
                            phone:
                              description: Phone number of the billable entity
                              type: string
                            time:
                              description: Details regarding the billing period
                              allOf:
                                - *ref_335
                            tax_id:
                              description: >-
                                ID of the billable entity as recognized by the
                                taxation authority
                              type: string
                    fulfillments:
                      description: The fulfillments involved in completing this order
                      type: array
                      items: *ref_358
                    cancellation:
                      description: The cancellation details of this order
                      allOf:
                        - description: Describes a cancellation event
                          type: object
                          additionalProperties: false
                          properties:
                            time:
                              description: >-
                                Date-time when the order was cancelled by the
                                buyer
                              type: string
                              format: date-time
                            cancelled_by:
                              type: string
                              enum:
                                - CONSUMER
                                - PROVIDER
                            reason:
                              description: The reason for cancellation
                              allOf:
                                - description: Describes a selectable option
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    id:
                                      type: string
                                    descriptor: *ref_331
                            additional_description:
                              description: >-
                                Any additional information regarding the nature
                                of cancellation
                              allOf:
                                - *ref_331
                    cancellation_terms:
                      description: Cancellation terms of this item
                      type: array
                      items: *ref_359
                    documents:
                      type: array
                      items:
                        description: Documnents associated to the order
                        type: object
                        additionalProperties: false
                        properties:
                          descriptor: *ref_331
                          mime_type:
                            description: >-
                              This field indicates the nature and format of the
                              form received by querying the url. MIME types are
                              defined and standardized in IETF's RFC 6838.
                            type: string
                            enum:
                              - text/html
                              - application/html
                              - application/xml
                              - application/pdf
                          url:
                            description: >-
                              The URL from where the form can be fetched. The
                              content fetched from the url must be processed as
                              per the mime_type specified in this object.
                            type: string
                            format: uri
                    refund_terms:
                      description: Refund terms of this item
                      type: array
                      items: *ref_360
                    replacement_terms:
                      description: Replacement terms of this item
                      type: array
                      items: *ref_361
                    return_terms:
                      description: Return terms of this item
                      type: array
                      items: *ref_362
                    quote:
                      description: The mutually agreed upon quotation for this order.
                      allOf:
                        - description: >-
                            Describes a quote. It is the estimated price of
                            products or services from the BPP.<br>This has
                            properties like price, breakup, ttl
                          type: object
                          additionalProperties: false
                          properties:
                            id:
                              description: ID of the quote.
                              type: string
                            price:
                              description: The total quoted price
                              allOf:
                                - *ref_351
                            breakup:
                              description: the breakup of the total quoted price
                              type: array
                              items:
                                type: object
                                properties:
                                  item: *ref_355
                                  title:
                                    type: string
                                  price: *ref_351
                            ttl: *ref_333
                    payments:
                      description: The terms of settlement for this order
                      type: array
                      items: *ref_363
                    created_at:
                      description: The date-time of creation of this order
                      type: string
                      format: date-time
                    updated_at:
                      description: The date-time of updated of this order
                      type: string
                      format: date-time
                    xinput:
                      description: >-
                        Additional input required from the customer to confirm
                        this order
                      allOf:
                        - *ref_354
                    tags:
                      type: array
                      items: *ref_340
              required:
                - order
            error: *ref_364
          required:
            - context
      api:
        search:
          default:
            service_url: /search
            sync: false
        select:
          default:
            service_url: /select
            sync: false
        init:
          default:
            service_url: /init
            sync: false
        confirm:
          default:
            service_url: /confirm
            sync: false
        update:
          default:
            service_url: /update
            sync: false
        status:
          default:
            service_url: /status
            sync: false
    - summary: Default -  Flow
      id: default-flow
      domain: ONDC:FIS12
      protocol:
        search: &ref_365
          mapping:
            - beckn_key: context
              value: data.context
            - beckn_key: message
              value: data.message
        on_search: *ref_365
        select: *ref_365
        on_select: *ref_365
        init: *ref_365
        on_init: *ref_365
        confirm: *ref_365
        on_confirm: *ref_365
        update: *ref_365
        on_update: *ref_365
        status: *ref_365
        on_status: *ref_365
      schema: *ref_366
      api:
        search:
          default:
            service_url: http://172.17.0.1:5501/search
            sync: false
        select:
          default:
            service_url: http://172.17.0.1:5501/select
            sync: false
        init:
          default:
            service_url: http://172.17.0.1:5501/init
            sync: false
        confirm:
          default:
            service_url: http://172.17.0.1:5501/confirm
            sync: false
        update:
          default:
            service_url: http://172.17.0.1:5501/update
            sync: false
        status:
          default:
            service_url: http://172.17.0.1:5501/status
            sync: false
  flow_selector:
    search:
      default:
        config_id: default-flow
      personal_loan:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.intent.category.descriptor.code
                        - PERSONAL_LOAN
        config_id: personal-loan-flow-1
    select:
      default:
        config_id: default-flow
      personal_loan:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - ITEM_ID_1_PERSONAL-LOAN
        config_id: personal-loan-flow-1
    init:
      default:
        config_id: default-flow
      personal_loan:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - ITEM_ID_1_PERSONAL-LOAN
        config_id: personal-loan-flow-1
    confirm:
      default:
        config_id: default-flow
      personal_loan:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - ITEM_ID_1_PERSONAL-LOAN
        config_id: personal-loan-flow-1
    update:
      default:
        config_id: default-flow
      personal_loan:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - ITEM_ID_1_PERSONAL-LOAN
        config_id: personal-loan-flow-1
    status:
      default:
        config_id: default-flow
      personal_loan:
        condition:
          operation:
            type: AND
            input:
              value:
                - operation:
                    type: EQUAL
                    title: Check search message code
                    input:
                      value:
                        - operation:
                            type: READ
                            input:
                              value: req_body.message.order.items.0.id
                        - ITEM_ID_1_PERSONAL-LOAN
        config_id: personal-loan-flow-1
version: 1.0.0
